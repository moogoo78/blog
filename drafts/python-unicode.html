<!DOCTYPE html>
<html lang="zh">
<head>
        <meta charset="utf-8">
        <title>Python & unicode</title>
        <link rel="stylesheet" href="http://blog.suhen.org/theme/css/main.css">
                <link href="http://blog.suhen.org/feeds/all.atom.xml" type="application/atom+xml" rel="alternate" title="Suhen's blog Atom Feed" />
                
        <!--[if IE]>
            <script src="http://html5shiv.googlecode.com/svn/trunk/html5.js"></script>
        <![endif]-->
</head>

<body id="index" class="home">
        <header id="banner" class="body">
                <h1><a href="http://blog.suhen.org/">Suhen's blog </a></h1>
                <nav><ul>
                                                                                <li class="active"><a href="http://blog.suhen.org/category/computer.html">電腦</a></li>
                                <li ><a href="http://blog.suhen.org/category/music.html">音樂</a></li>
                                <li ><a href="http://blog.suhen.org/category/mountain.html">爬山</a></li>
                                <li ><a href="http://blog.suhen.org/category/run.html">跑步</a></li>
                                <li ><a href="http://blog.suhen.org/category/travel.html">旅遊</a></li>
                                <li ><a href="http://blog.suhen.org/category/book.html">書</a></li>
                                <li ><a href="http://blog.suhen.org/category/misc.html">其他</a></li>
                                <li><a href="http://blog.suhen.org/archives.html">Archives</a></li>
                </ul></nav>
        </header><!-- /#banner -->
        <section id="content" class="body">
  <article>
    <header>
      <h1 class="entry-title">
        <a href="http://blog.suhen.org/computer/python-unicode.html" rel="bookmark"
           title="Permalink to Python & unicode">Python & unicode</a></h1>
          </header>

    <div class="entry-content">
      <footer class="post-info">
        <abbr class="published" title="2013-09-03T16:51:00">
                2013-09-03 16:51
        </abbr>

        <p>In <a href="http://blog.suhen.org/category/computer.html">computer</a>. </p>

</footer><!-- /.post-info -->      <h1>Byte</h1>
<p>電腦, 檔案系統,</p>
<p>Ascii
不夠
 using a number between 32 and 127. Space was 32, the letter "A" was 65, etc.
7bits</p>
<p>128-255 可用? -&gt; The trouble was, lots of people had this idea at the same time, and they had their own ideas of what should go where in the space from 128 to 255. </p>
<p>code pages: Israel DOS used a code page called 862, while Greek users used 737.
The national versions of MS-DOS had dozens of these code pages</p>
<p>In Asia: DBCS, the "double byte character set"</p>
<p>ISO/IEC 8859-1 又稱Latin-1</p>
<p>map 1 byte to 1 char 
map 2 bype to 1 char: Shift-JIS, GB2312, Big5</p>
<h1>unicode</h1>
<p>http://www.unicode.org/
In Unicode, a letter maps to something called a code point which is still just a theoretical concept. How that code point is represented in memory or on disk is a whole nuther story.</p>
<p>unicode 1M code points, 110k assigned ?</p>
<p>encoding: UTF-8
variable length, ASCII, 也是用1個byte</p>
<h2>encoding</h2>
<p>BOM</p>
<ul>
<li>The traditional store-it-in-two-byte methods are called UCS-2 (because it has two bytes) or UTF-16 (because it has 16 bits), and you still have to figure out if it's high-endian UCS-2 or low-endian UCS-2.</li>
<li>popular UTF-8 standard which has the nice property of also working respectably if you have the happy coincidence of English text and braindead programs that are completely unaware that there is anything other than ASCII.</li>
</ul>
<p>-There are actually a bunch of other ways of encoding Unicode. There's something called UTF-7, which is a lot like UTF-8 but guarantees that the high bit will always be zero, so that if you have to pass Unicode through some kind of draconian police-state email system that thinks 7 bits are quite enough, thank you it can still squeeze through unscathed. There's UCS-4, which stores each code point in 4 bytes, which has the nice property that every single code point can be stored in the same number of bytes, but, golly, even the Texans wouldn't be so bold as to waste that much memory.</p>
<p>There Ain't No Such Thing As Plain Text.</p>
<h1>python</h1>
<p>str, unicode</p>
<p>str: a sequence of bytes
unicode: a sequence of code points (unicode)</p>
<p>unicode -&gt; encode() =&gt; bytes (str)
bytes -&gt; decode() =&gt; unicode</p>
<p>http://nedbatchelder.com/text/unipain/unipain.html#19</p>
<p>length</p>
<p>Traceback (most recent call last):
UnicodeEncodeError: 'ascii' codec can't encode characters in
          position 3-8: ordinal not in range(128)</p>
<blockquote>
<p>s.encode('u8')</p>
</blockquote>
<p>UnicodeDecodeError: 'ascii' codec can't decode byte 0xe2 in
          position 3: ordinal not in range(128)</p>
<h1>參雜</h1>
<p>u'' + ''</p>
<p>'aa%s' % (aa)</p>
<p>my_list = {}
my_list.append()</p>
<p>if a in b:
  p</p>
<p>for i in my_list:
    if </p>
<p>http://nedbatchelder.com/text/unipain.html</p>
<p>http://www.charbase.com/1f40d-unicode-snake</p>
<h1>好用unicode</h1>
<p>◎</p>
    </div><!-- /.entry-content -->
    
  </article>
</section>
        <section id="extras" class="body">
                        <div class="blogroll">
                        <h2>blogroll</h2>
                        <ul>
                                                    <li><a href="/pages/about.html">About</a></li>
                                                    <li><a href="http://language.suhen.org">Language</a></li>
                                                    <li><a href="http://natural.suhen.org">Natural</a></li>
                                                    <li><a href="http://blog.roodo.com/moogoo">舊blog</a></li>
                                                    <li><a href="http://moogoo78.blogspot.com">電腦程式blog</a></li>
                                                </ul>
                </div><!-- /.blogroll -->
                                <div class="social">
                        <h2>social</h2>
                        <ul>
                            <li><a href="http://blog.suhen.org/feeds/all.atom.xml" type="application/atom+xml" rel="alternate">atom feed</a></li>
                            
                                                    <li><a href="http://www.facebook.com/moogee.lee">facebook</a></li>
                                                    <li><a href="http://twitter.com/moogoo">twitter</a></li>
                                                    <li><a href="http://github.com/moogoo78">github</a></li>
                                                </ul>
                </div><!-- /.social -->
                </section><!-- /#extras -->

        <footer id="contentinfo" class="body">
                <address id="about" class="vcard body">
                Proudly powered by <a href="http://getpelican.com/">Pelican</a>, which takes great advantage of <a href="http://python.org">Python</a>.
                </address><!-- /#about -->

                <p>The theme is by <a href="http://coding.smashingmagazine.com/2009/08/04/designing-a-html-5-layout-from-scratch/">Smashing Magazine</a>, thanks!</p>
        </footer><!-- /#contentinfo -->

    <script type="text/javascript">
    var _gaq = _gaq || [];
    _gaq.push(['_setAccount', 'UA-38928548-1']);
    _gaq.push(['_trackPageview']);
    (function() {
        var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
        ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
        var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
    })();
    </script>
<script type="text/javascript">
    var disqus_shortname = 'suhenorg';
    (function () {
        var s = document.createElement('script'); s.async = true;
        s.type = 'text/javascript';
        s.src = 'http://' + disqus_shortname + '.disqus.com/count.js';
        (document.getElementsByTagName('HEAD')[0] || document.getElementsByTagName('BODY')[0]).appendChild(s);
    }());
</script>
</body>
</html>