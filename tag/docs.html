<!DOCTYPE html>
<html lang="zh">
<head>
        <meta charset="utf-8">
        <title>賤透走人 . Gentle Runner - docs</title>
        <link rel="stylesheet" href="../theme/css/main.css">
                <link href="http://suhen.org/feeds/all.atom.xml" type="application/atom+xml" rel="alternate" title="賤透走人 . Gentle Runner Atom Feed" />
                
        <!--[if IE]>
            <script src="http://html5shiv.googlecode.com/svn/trunk/html5.js"></script>
        <![endif]-->
</head>

<body id="index" class="home">
        <header id="banner" class="body">
                <h1><a href="../">賤透走人 . Gentle Runner </a></h1>
                <nav><ul>
                                                                                <li ><a href="../category/computer.html">電腦</a></li>
                                <li ><a href="../category/music.html">音樂</a></li>
                                <li ><a href="../category/mountain.html">爬山</a></li>
                                <li ><a href="../category/run.html">跑步</a></li>
                                <li ><a href="../category/language.html">語言</a></li>
                                <li ><a href="../category/nature.html">自然</a></li>
                                <li ><a href="../category/travel.html">旅遊</a></li>
                                <li ><a href="../category/book.html">書</a></li>
                                <li><a href="../archives.html">Archives</a></li>
                </ul></nav>
        </header><!-- /#banner -->
                
            

                            <aside id="featured" class="body">
                <article>
                    <h1 class="entry-title"><a href="../computer/database_docs.html">Database筆記</a></h1> 
                    <footer class="post-info">
        <abbr class="published" title="2013-05-09T18:23:00">
                2013-05-09 18:23
        </abbr>

        <p>In <a href="../category/computer.html">computer</a>. </p>
<p>tags: <a href="../tag/docs.html">docs</a><a href="../tag/mysql.html">mysql</a><a href="../tag/sqlite.html">sqlite</a></p>
</footer><!-- /.post-info --><div class="section" id="mysql">
<h2>MySql</h2>
<p>Syntax</p>
<div class="highlight"><pre><span class="p">[</span><span class="k">ALL</span> <span class="o">|</span> <span class="k">DISTINCT</span> <span class="o">|</span> <span class="n">DISTINCTROW</span> <span class="p">]</span>
  <span class="p">[</span><span class="n">HIGH_PRIORITY</span><span class="p">]</span>
  <span class="p">[</span><span class="n">STRAIGHT_JOIN</span><span class="p">]</span>
  <span class="p">[</span><span class="n">SQL_SMALL_RESULT</span><span class="p">]</span> <span class="p">[</span><span class="n">SQL_BIG_RESULT</span><span class="p">]</span> <span class="p">[</span><span class="n">SQL_BUFFER_RESULT</span><span class="p">]</span>
  <span class="p">[</span><span class="n">SQL_CACHE</span> <span class="o">|</span> <span class="n">SQL_NO_CACHE</span><span class="p">]</span> <span class="p">[</span><span class="n">SQL_CALC_FOUND_ROWS</span><span class="p">]</span>
<span class="n">select_expr</span> <span class="p">[,</span> <span class="n">select_expr</span> <span class="p">...]</span>
<span class="p">[</span><span class="k">FROM</span> <span class="n">table_references</span>
<span class="p">[</span><span class="k">WHERE</span> <span class="n">where_condition</span><span class="p">]</span>
<span class="p">[</span><span class="k">GROUP</span> <span class="k">BY</span> <span class="err">{</span><span class="n">col_name</span> <span class="o">|</span> <span class="n">expr</span> <span class="o">|</span> <span class="k">position</span><span class="err">}</span>
  <span class="p">[</span><span class="k">ASC</span> <span class="o">|</span> <span class="k">DESC</span><span class="p">],</span> <span class="p">...</span> <span class="p">[</span><span class="k">WITH</span> <span class="k">ROLLUP</span><span class="p">]]</span>
<span class="p">[</span><span class="k">HAVING</span> <span class="n">where_condition</span><span class="p">]</span>
<span class="p">[</span><span class="k">ORDER</span> <span class="k">BY</span> <span class="err">{</span><span class="n">col_name</span> <span class="o">|</span> <span class="n">expr</span> <span class="o">|</span> <span class="k">position</span><span class="err">}</span>
  <span class="p">[</span><span class="k">ASC</span> <span class="o">|</span> <span class="k">DESC</span><span class="p">],</span> <span class="p">...]</span>
<span class="p">[</span><span class="k">LIMIT</span> <span class="err">{</span><span class="p">[</span><span class="k">offset</span><span class="p">,]</span> <span class="k">row_count</span> <span class="o">|</span> <span class="k">row_count</span> <span class="k">OFFSET</span> <span class="k">offset</span><span class="err">}</span><span class="p">]</span>
<span class="p">[</span><span class="k">PROCEDURE</span> <span class="n">procedure_name</span><span class="p">(</span><span class="n">argument_list</span><span class="p">)]</span>
</pre></div>
<div class="note">
<p class="first admonition-title">Note</p>
<p class="last">MySQL的JOIN預設是 <tt class="docutils literal">INNER JOIN</tt> ，另一種是LEFT OUTER JOIN，通常用 <tt class="docutils literal">LEFT JOIN</tt> 就可以了。MySQL會優先處理JOIN，然後才是WHERE。</p>
</div>
<div class="section" id="cookbook">
<h3>cookbook</h3>
<p>CURD:</p>
<pre class="literal-block">
INSERT INTO tbl_name (col1,col2) VALUES(15,col1*2);
INSERT INTO tbl_name (a,b,c) VALUES(1,2,3),(4,5,6),(7,8,9);
UPDATE user SET password=password('新密碼') where user='root';
</pre>
<p>以中文筆畫排序:</p>
<pre class="literal-block">
CONVERT( 欄位名稱 using big5) 。
</pre>
<p>LIMIT</p>
<div class="highlight"><pre><span class="k">SELECT</span> <span class="o">*</span> <span class="k">FROM</span> <span class="n">foo</span> <span class="k">LIMIT</span> <span class="mi">20</span>
<span class="k">SELECT</span> <span class="o">*</span> <span class="k">FROM</span> <span class="n">foo</span> <span class="k">LIMIT</span> <span class="mi">20</span> <span class="k">OFFSET</span> <span class="mi">40</span> <span class="c1">-- 從40個以後抓20個</span>
<span class="k">SELECT</span> <span class="o">*</span> <span class="k">FROM</span> <span class="n">foo</span> <span class="k">LIMIT</span> <span class="mi">40</span><span class="p">,</span> <span class="mi">20</span> <span class="c1">-- 同上</span>
</pre></div>
</div>
<div class="section" id="function">
<h3>function</h3>
<p>時間:</p>
<pre class="literal-block">
SELECT NOW(),CURDATE(),CURTIME() # | 2012-06-04 14:19:42 | 2012-06-04 | 14:19:42 |
SELECT MONTH(FROM_UNIXTIME(add_date)) as month
</pre>
<p>ref: <a class="reference external" href="http://dev.mysql.com/doc/refman/5.5/en/date-and-time-functions.html">http://dev.mysql.com/doc/refman/5.5/en/date-and-time-functions.html</a></p>
</div>
<div class="section" id="schema">
<h3>Schema</h3>
<div class="section" id="id1">
<h4>原則</h4>
<ul class="simple">
<li>小的好</li>
<li>簡單的好, 如integers比characters好, 不用判斷collations</li>
<li>不要用 <strong>NULL</strong>, 影響效能, 可以用 <tt class="docutils literal">0</tt>, <tt class="docutils literal">空字串</tt>或 <tt class="docutils literal">N</tt>等值來代替</li>
</ul>
</div>
<div class="section" id="id2">
<h4>整數</h4>
<p>資料儲存上 <tt class="docutils literal">TINYINT</tt>, <tt class="docutils literal">SMALLINT</tt>, <tt class="docutils literal">MEDIUMINT</tt>, <tt class="docutils literal">INT</tt>, <tt class="docutils literal">BIGINT</tt>各使用了8, 16, 26, 32, 64 bits, 數值範圍-2^(N-1)到2(N-1)-1, 加了 <tt class="docutils literal">UNSIGNED</tt>後, 範圍從0到2^N-1. 但是MySQL在 <strong>計算</strong>上是用64-bit的BIGINT來算, 就算是32-bit的系統</p>
<p>MySQL使用的整數長度, 如INT(11), 並不會真的有儲存限制, 只是為了command-line client的顯示, 在儲存和計算上INT(1)和INT(20)是一樣的.</p>
</div>
<div class="section" id="id3">
<h4>實數</h4>
<p>浮點數可以用 <tt class="docutils literal">FLOAT</tt> (4 bytes), <tt class="docutils literal">DOUBLE</tt> (8 bytes), <tt class="docutils literal">DECIMAL</tt> 等格式, MySQL在浮點數的計算上都是用DOUBLE, 資料儲存上以DECIMAL為佳</p>
</div>
<div class="section" id="varcharchar">
<h4>VARCHAR和CHAR</h4>
<p><tt class="docutils literal">VARCHAR</tt>是可變長度, 會用1到2byte存字串長度(MyISAM或InnoDB), <tt class="docutils literal">CHAR</tt>是固字長度, 用來存Y/N, MD5值等.</p>
</div>
<div class="section" id="id4">
<h4>時間</h4>
<p><tt class="docutils literal">DATETIME</tt> 以YYYYMMDDHHMMSS的格式儲存, 範圍從1001到9999年, 8 bytes</p>
<p><tt class="docutils literal">TIMESTAMP</tt> 以Unix timestamp格式, 範圍從1970到2038 (格林威治標準時間)</p>
<p>選擇用TIMESTAMP比較節省空間, 但不要把unix timestamp存在整數格式, 因為沒有什麼好處, 也很難判讀</p>
</div>
<div class="section" id="id5">
<h4>其他</h4>
<p><tt class="docutils literal">BLOB</tt>和 <tt class="docutils literal">TEXT</tt>不同的是TEXT會有character set和collation, BLOB沒有</p>
</div>
</div>
<div class="section" id="id6">
<h3>最佳化</h3>
<p>所有資料表最佳化:</p>
<pre class="literal-block">
mysqlcheck -a -c -o -r --all-databases -uroot -p
</pre>
<p>a: analyze, c: check, o: optimize, r: repair</p>
<p>重建索引:</p>
<pre class="literal-block">
myisamchk -s /var/lib/mysql/*/*.MYI
</pre>
<p>s: silent mode (output only errors)</p>
<div class="note">
<p class="first admonition-title">Note</p>
<p class="last">mysql要先停</p>
</div>
</div>
<div class="section" id="tools">
<h3>Tools</h3>
<p><a class="reference external" href="http://hackmysql.com/mysqlreportdoc">mysqlreport Documentation</a>:</p>
<pre class="literal-block">
mysqlreport  --user MY_USER --password MY_PASS
</pre>
<div class="note">
<p class="first admonition-title">Note</p>
<p class="last">Read Hit: 從硬碟/記憶體讀取key的比率, 最好不要低於99%, 太低的話, 檢查Key Report, 調高key buffer</p>
</div>
<div class="note">
<p class="first admonition-title">Note</p>
<p class="last">Slow: 要低於0.05</p>
</div>
<p><a class="reference external" href="http://hackmysql.com/mysqlreportguide">The Guide To Understanding mysqlreport</a></p>
<ul class="simple">
<li><a class="reference external" href="http://www.day32.com/MySQL/">Sundry MySQL Scripts and Docs</a> 很棒的MySQL tuning scripts</li>
<li><a class="reference external" href="https://github.com/rackerhacker/MySQLTuner-perl">rackerhacker/MySQLTuner-perl</a></li>
<li><a class="reference external" href="http://hackmysql.com/mysqlsla">mysqlsla :: Parse, filter and sort MySQL slow, general and binary logs</a></li>
</ul>
</div>
<div class="section" id="id7">
<h3>常用處理</h3>
<p>改root密碼:</p>
<pre class="literal-block">
mysqladmin -u root -p'oldpassword' password newpass
</pre>
<p>via: <a class="reference external" href="http://www.cyberciti.biz/faq/mysql-change-root-password/">MySQL Change root Password</a></p>
<div class="section" id="root">
<h4>忘記root密碼</h4>
<p>1.先關掉mysql server:</p>
<pre class="literal-block">
sudo /etc/init.d/mysql stop
</pre>
<p>2.開server, 但忽略grant-tables (存密碼的地方):</p>
<pre class="literal-block">
mysqld_safe --user=mysql --skip-grant-tables --skip-networking &amp;
</pre>
<div class="note">
<p class="first admonition-title">Note</p>
<p class="last">mysqld_safe就是用更安全的方式開啟(重載)mysqld, 如有錯誤發生時會重開, 寫log.</p>
</div>
<p>3.用root進入sql改密碼:</p>
<pre class="literal-block">
mysql -u root mysql
&gt; UPDATE user SET Password=PASSWORD('123456') WHERE User='root';
&gt; FLUSH PRIVILEGES;
&gt; exit
</pre>
<p>或是把上面sql語法存在foo.txt裡, 用:</p>
<pre class="literal-block">
mysqld_safe --init-file=/pathto/foo.txt &amp;
</pre>
<div class="note">
<p class="first admonition-title">Note</p>
<p class="last">flush privileges; 重載授權表</p>
</div>
<p>參考</p>
<ul class="simple">
<li><a class="reference external" href="http://wiki.joyent.com/display/smart/Resetting+the+MySQL+Root+Password">Resetting the MySQL Root Password - SmartMachines - Joyent Customer Wiki</a></li>
</ul>
</div>
<div class="section" id="id8">
<h4>連接外部資料庫</h4>
<p>1.改my.cnf(通常在/etc下):</p>
<pre class="literal-block">
# skip-networking 此行註解掉
bind-address = 11.22.33.44 # 加上要連過來的ip
</pre>
<div class="note">
<p class="first admonition-title">Note</p>
<p class="last">OpenSolaris的my.cnf好像在加在/var/mysql才會有作用</p>
</div>
<p>2.重開mysql</p>
<p>3.連線進入:</p>
<pre class="literal-block">
mysql -u root –p mysql
mysql&gt; CREATE DATABASE foo;
mysql&gt; GRANT ALL ON foo.* TO bar&#64;'11.22.33.44' IDENTIFIED BY '密碼';

mysql&gt; update db set Host='11.22.33.44' where Db='資料庫名稱';
mysql&gt; update user set Host='11.22.33.44' where user='使用者名稱';
</pre>
<p>4.重開mysql</p>
<p>5.測試能不能連:</p>
<pre class="literal-block">
mysql -h 主機 -u root -p
</pre>
</div>
<div class="section" id="id9">
<h4>資料庫編碼</h4>
<p>列出MySQL各種編碼變數:</p>
<pre class="literal-block">
show variables like &quot;character%&quot;;
</pre>
<p>php的 <tt class="docutils literal"><span class="pre">mysql_query(&quot;SET</span> NAMES <span class="pre">UTF8&quot;);</span></tt> 相當於MySQL:</p>
<pre class="literal-block">
SET character_set_client = utf8;
SET character_set_results = utf8;
SET character_set_connection = utf8;
</pre>
<p>編碼順序: <strong>client -&gt; connect -&gt; server -&gt; connect -&gt; client</strong></p>
</div>
<div class="section" id="id10">
<h4>亂碼處理</h4>
<p>原本是latin1(ISO 8859-1)編碼, 要改成utf-8:</p>
<ol class="arabic simple">
<li>mysqldump -uroot -p mydb --default-character-set=latin1 &gt; old.sql</li>
<li>piconv -f utf8 -t utf8 old.sql&gt; new.sql</li>
<li>打開new.sql裡面加 <tt class="docutils literal">SET NAMES utf8</tt>;</li>
<li>mysql -uroot -pmypassword -Dmydb_new --default-character-set=utf8 &lt; new.sql</li>
</ol>
</div>
</div>
<div class="section" id="command">
<h3>command</h3>
<div class="highlight"><pre><span class="n">mysql</span> <span class="o">-</span><span class="n">uUSER</span> <span class="o">-</span><span class="n">pPASS</span> <span class="o">-</span><span class="n">e</span> <span class="ss">&quot;DROP DATABASE foo; CREATE DATABASE bar COLLATE &#39;utf8_general_ci&#39;;&quot;</span>

<span class="k">SHOW</span> <span class="n">DATABASES</span><span class="p">;</span>
<span class="k">SHOW</span> <span class="n">TABLES</span><span class="p">;</span>
<span class="n">USE</span> <span class="n">db_name</span><span class="p">;</span>

<span class="k">TRUNCATE</span> <span class="n">tbl_name</span><span class="p">;</span>
<span class="k">DROP</span> <span class="k">DATABASE</span> <span class="n">db_name</span><span class="p">;</span>
<span class="k">DROP</span> <span class="k">TABLE</span> <span class="n">tbl_name</span><span class="p">;</span>

<span class="k">SHOW</span> <span class="k">TABLE</span> <span class="n">STATUS</span><span class="p">;</span> <span class="o">#</span> <span class="err">看</span><span class="k">collation</span>
<span class="k">DESCRIBE</span> <span class="n">tbl_name</span><span class="p">;</span> <span class="o">#</span> <span class="err">看</span><span class="k">table</span><span class="err">屬性</span>
<span class="k">SHOW</span> <span class="k">FULL</span> <span class="n">COLUMNS</span> <span class="k">FROM</span> <span class="n">tbl_name</span><span class="p">;</span> <span class="o">#</span><span class="k">table</span> <span class="err">細節</span>
<span class="k">ALTER</span> <span class="k">TABLE</span> <span class="n">tablename</span> <span class="k">CONVERT</span> <span class="k">TO</span> <span class="nb">CHARACTER</span> <span class="k">SET</span> <span class="n">utf8</span> <span class="k">COLLATE</span> <span class="n">utf8_general_ci</span><span class="p">;</span> <span class="o">#</span> <span class="err">改欄位編碼</span>
</pre></div>
</div>
<div class="section" id="server-management">
<h3>Server Management</h3>
<p>安裝, 以Debian為例:</p>
<pre class="literal-block">
# 清除
sudo apt-get --purge remove mysql-server mysql-common mysql-client
# 安裝
sudo apt-get install mysql-server mysql-common mysql-client php5-mysql
# 第一次設定admin密碼
mysqladmin -u root password your-new-password
# 啟動
sudo /etc/init.d/mysql restart
# data位置
# /var/lib/mysql
</pre>
<div class="section" id="mac-os-x">
<h4>Mac OS X</h4>
<p>從MySql(<a class="reference external" href="http://dev.mysql.com/downloads/mysql/">http://dev.mysql.com/downloads/mysql/</a>) 找適何的package，裝完後:</p>
<p>binary:</p>
<pre class="literal-block">
/usr/local/mysql/bin/mysql
</pre>
<p>path:</p>
<pre class="literal-block">
export PATH=/usr/local/mysql/bin:$PATH
sudo ln -s /usr/local/mysql/lib/libmysqlclient.18.dylib /usr/lib/libmysqlclient.18.dylib
</pre>
</div>
<div class="section" id="import-export">
<h4>Import / Export</h4>
<p>倒整個資料庫:</p>
<pre class="literal-block">
$ mysqldump ---u myuser -p myuser_db &gt; myuser_db.sql
$ mysqldump --skip-lock-tables -umysuer -ppassword --database mydb &gt; backup.sql
</pre>
<p>倒一個資料表:</p>
<pre class="literal-block">
$ mysqldump -u myuser -p myuser_db sometable &gt; myuser_db_sometable.sql
</pre>
<p>到多個叫foo_開頭的資料表到同一個檔案:</p>
<pre class="literal-block">
mysql databasename -u [root] -p[password] -e 'show tables like &quot;foo_%&quot;' | grep -v Tables_in | xargs mysqldump [databasename] -u [root] -p[password] &gt; [target_file]
</pre>
<p><strong>import</strong></p>
<p>方法1:</p>
<pre class="literal-block">
直接import
$ mysql  -uname -p dbname  --default-character-set=utf8  &lt;  XXX.sql
</pre>
<p>方法2:</p>
<pre class="literal-block">
先登入mysql shell介面
$ mysql -u myuser -p
$ use myuser_db; #select db
$ \. myuser_db_sometable.sql
$ \q
</pre>
</div>
</div>
<div class="section" id="configuration">
<h3>Configuration</h3>
<p>my.cnf選用(/usr/share/mysql/下)</p>
<ul class="simple">
<li>my-small.cnf(小於64MB的記憶體)</li>
<li>my-medium.cnf (64~128MB的記憶體)</li>
<li>my-large.cnf (128~512MB的記憶體)</li>
<li>my-huge.cnf (1~2GB的記憶體)</li>
<li>my-innodb-heavy-4G.cnf (4GB的記憶體)</li>
</ul>
<p>找my.cnf:</p>
<pre class="literal-block">
mysql --verbose --help | grep -A 1 'Default options'
# CentOS: /etc/my.cnf ~/.my.cnf
</pre>
<p>my.cnf:</p>
<pre class="literal-block">
[mysqld]
set-variable=max_connections=250
default-storage-engine=InnoDB # 預設選用InnoDB

# slow query
log-slow-queries=/tmp/slow-query.log #
long_query_time = 3 #query超過2秒時，則會記錄
log-queries-not-using-indexes

# optimize
query_cache_size # 大量相同的query時, 很有用
key_buffer_size # 越大query越快, 但最好設定1/4, 不要超過一半的系統記憶體 (看*.MYI的size多大, 就設多大)
</pre>
<div class="note">
<p class="first admonition-title">Note</p>
<p class="last">MySQL安裝時不一定會產生</p>
</div>
</div>
<div class="section" id="others">
<h3>others</h3>
<ul class="simple">
<li><a class="reference external" href="http://antbsd.twbbs.org/~ant/wordpress/?p=2259">探討 MySQL 授權 | Ant's ATField</a></li>
</ul>
</div>
</div>
<div class="section" id="sqlite">
<h2>Sqlite</h2>
<p>常用指令</p>
<pre class="literal-block">
$ sqlite3 new.db # create db
$ sqlite3 myprecious.db &quot;.dump&quot; ＞ output.sql # dump sql
$ sqlite3 new.db ＜ output.sql # import
# or
$ cat dumpfile.sql | sqlite3 new.db
</pre>
<p>ref</p>
<ul class="simple">
<li><a class="reference external" href="http://www.sqlite.org/sqlite.html">Command Line Shell For SQLite</a></li>
</ul>
<!-- Comment
Engine
- [[http://blog.roga.tw/2008/11/19/1288][MySQL 資料庫儲存引擎的選用]]
- [[http://miggo.pixnet.net/blog/post/30855147][MySQL各Engine Type(MyISAM / InnoDB / Memory) 的特性說明]]
- [[http://www.student.tw/db/showthread.php?t=174156][【問題】Mysql 中的 MyIsam 與 InnoDB 之差異 - 深藍學生論壇]]
** type
- [[http://www.systn.com/data/articles/304_tw.html][mysql中char與varchar的區別]] -->
</div>
<div class="section" id="id11">
<h2>不同處</h2>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field"><th class="field-name">MySQL:</th><td class="field-body">RAND()</td>
</tr>
<tr class="field"><th class="field-name">Sqlite:</th><td class="field-body">RANDOM()</td>
</tr>
</tbody>
</table>
</div>
<p>There are <a href="../computer/database_docs.html#disqus_thread">comments</a>.</p>                </article>
                            </aside><!-- /#featured -->
                            <section id="content" class="body">
                    <h1>Other articles</h1>
                    <hr />
                    <ol id="posts-list" class="hfeed">
                                                

                 
                        <li><article class="hentry">    
                <header>
                    <h1><a href="../computer/emacs_docs.html" rel="bookmark"
                           title="Permalink to Emacs 小抄">Emacs 小抄</a></h1>
                </header>
                
                <div class="entry-content">
                <footer class="post-info">
        <abbr class="published" title="2013-04-26T18:37:00">
                2013-04-26 18:37
        </abbr>

        <p>In <a href="../category/computer.html">computer</a>. </p>
<p>tags: <a href="../tag/docs.html">docs</a></p>
</footer><!-- /.post-info -->                <div class="section" id="tips">
<h2>Tips</h2>
<p>自動補齊:</p>
<pre class="literal-block">
M-/
</pre>
<p>變數對齊:</p>
<pre class="literal-block">
M-x align-regexp
</pre>
<p>輸入 <tt class="docutils literal">=</tt></p>
<p>列出全部字串:</p>
<pre class="literal-block">
M-x occur
</pre>
<p>刪除整行(vim's dd):</p>
<pre class="literal-block">
C-S-Backspace
</pre>
<p>刪除空白行:</p>
<pre class="literal-block">
M-x flush-lines RET ^$ RET ;純空白行
M-x flush-lines RET ^\s-*$ RET ; 有空白的空白行
</pre>
<p>編輯每行文字:</p>
<pre class="literal-block">
;; 把每行的文字foo加indent和quote 'foo' =&gt;'  &quot;foo&quot;'
M-x replace-regexp RET ^ RET SPACE SPACE&quot; RET ;; 開頭加3個空白和&quot;
M-x replace-regexp RET $ RET &quot;, RET ;; 結尾加&quot;
</pre>
<p>每行加2空白:</p>
<pre class="literal-block">
M-x cua-mode
選好區塊
C-RET ...</pre></div>
                <a class="readmore" href="../computer/emacs_docs.html">read more</a>
                <p>There are <a href="../computer/emacs_docs.html#disqus_thread">comments</a>.</p>                </div><!-- /.entry-content -->
            </article></li>
                            

                 
                        <li><article class="hentry">    
                <header>
                    <h1><a href="../computer/scripting-languages-draft.html" rel="bookmark"
                           title="Permalink to Scripting Languages (draft)">Scripting Languages (draft)</a></h1>
                </header>
                
                <div class="entry-content">
                <footer class="post-info">
        <abbr class="published" title="2013-04-09T11:38:00">
                2013-04-09 11:38
        </abbr>

        <p>In <a href="../category/computer.html">computer</a>. </p>
<p>tags: <a href="../tag/docs.html">docs</a></p>
</footer><!-- /.post-info -->                <p>PHP, Python, Javascript, Lua</p>
<div class="section" id="basic">
<h2>Basic</h2>
</div>
<div class="section" id="data-type">
<h2>Data Type</h2>
<p><strong>Array</strong></p>
<pre class="literal-block">
# python
arr = [1, 2, 3]

# lua
squares = {1, 4, 9, 16, 25, 36, 49, 64, 81}
squares[1] # 1
</pre>
</div>
<div class="section" id="statement-expression">
<h2>statement/expression</h2>
<div class="section" id="id1">
<h3>函式</h3>
<p><strong>引數</strong></p>
<pre class="literal-block">
# python
def func(a, *pargs, **kargs): print a, pargs, kargs
# &gt;&gt;&gt; f(1, 2, 3, x=1, y=2)
# 1 ...</pre></div></div>
                <a class="readmore" href="../computer/scripting-languages-draft.html">read more</a>
                <p>There are <a href="../computer/scripting-languages-draft.html#disqus_thread">comments</a>.</p>                </div><!-- /.entry-content -->
            </article></li>
                            

                 
                        <li><article class="hentry">    
                <header>
                    <h1><a href="../computer/python-web-framework.html" rel="bookmark"
                           title="Permalink to Python Web Framework">Python Web Framework</a></h1>
                </header>
                
                <div class="entry-content">
                <footer class="post-info">
        <abbr class="published" title="2013-04-09T11:36:00">
                2013-04-09 11:36
        </abbr>

        <p>In <a href="../category/computer.html">computer</a>. </p>
<p>tags: <a href="../tag/docs.html">docs</a></p>
</footer><!-- /.post-info -->                <div class="section" id="django">
<h2>Django</h2>
<div class="section" id="quick-start">
<h3>Quick Start</h3>
<pre class="literal-block">
$ pip install Django
$ django-admin.py startproject mysite
$ python manage.py startapp myapp
</pre>
<p>check version:</p>
<pre class="literal-block">
import django
print django.get_version()
</pre>
</div>
<div class="section" id="docs">
<h3>docs</h3>
<ul class="simple">
<li><a class="reference external" href="https://docs.djangoproject.com/en/1.3/">Django | Django documentation | Django documentation</a></li>
<li><a class="reference external" href="http://djangosnippets.org/snippets/1811/">Django snippets: django paginator</a></li>
</ul>
</div>
</div>
<div class="section" id="flask">
<h2>Flask</h2>
<div class="section" id="id1">
<h3>Docs</h3>
<ul class="simple">
<li><a class="reference external" href="http://flask.pocoo.org/docs/">Flask documentation</a>, <a class="reference external" href="https://github.com/mitsuhiko/flask">github</a></li>
<li><a class="reference external" href="http://jinja.pocoo.org/docs/">Jinja2 documentation</a></li>
<li><a class="reference external" href="http://packages.python.org/Flask-SQLAlchemy/">Flask-SQLAlchemy documentation</a>, <a class="reference external" href="https://github.com/brosner/sqlalchemy">github</a>, <a class="reference external" href="http://docs.sqlalchemy.org/en/latest/index.html">SQLAlchemy Documentation</a></li>
<li><a class="reference external" href="http://packages.python.org/Flask-Login/">Flask-Login documentation</a>, <a class="reference external" href="https://bitbucket.org/leafstorm/flask-login">leafstorm / flask-login / overview — Bitbucket ...</a></li></ul></div></div>
                <a class="readmore" href="../computer/python-web-framework.html">read more</a>
                <p>There are <a href="../computer/python-web-framework.html#disqus_thread">comments</a>.</p>                </div><!-- /.entry-content -->
            </article></li>
                            

                 
                        <li><article class="hentry">    
                <header>
                    <h1><a href="../computer/blog.html" rel="bookmark"
                           title="Permalink to blog">blog</a></h1>
                </header>
                
                <div class="entry-content">
                <footer class="post-info">
        <abbr class="published" title="2013-04-02T15:53:00">
                2013-04-02 15:53
        </abbr>

        <p>In <a href="../category/computer.html">computer</a>. </p>
<p>tags: <a href="../tag/docs.html">docs</a></p>
</footer><!-- /.post-info -->                <div class="section" id="http-status-code">
<h2>HTTP status code</h2>
<p><a class="reference external" href="http://www.w3.org/Protocols/rfc2616/rfc2616-sec10.html">http://www.w3.org/Protocols/rfc2616/rfc2616-sec10.html</a></p>
<div class="section" id="informational-1xx">
<h3>Informational 1xx</h3>
<p>HTTP/1.0沒有定義</p>
<ul class="simple">
<li>100 Continue, proxy</li>
<li>101 Switching Protocols, HTTP版本轉換</li>
</ul>
</div>
<div class="section" id="successful-2xx">
<h3>Successful 2xx</h3>
<ul class="simple">
<li>200 OK</li>
<li>201 Created</li>
<li>202 Accepted</li>
<li>203 Non-Authoritative Information</li>
<li>204 No Content</li>
<li>205 Reset Content</li>
<li>206 Partial Content</li>
</ul>
</div>
<div class="section" id="redirection-3xx">
<h3>Redirection 3xx</h3>
<ul class="simple">
<li>300 Multiple Choices</li>
<li>301 Moved ...</li></ul></div></div>
                <a class="readmore" href="../computer/blog.html">read more</a>
                <p>There are <a href="../computer/blog.html#disqus_thread">comments</a>.</p>                </div><!-- /.entry-content -->
            </article></li>
                            

                 
                        <li><article class="hentry">    
                <header>
                    <h1><a href="../computer/rest-restructuredtextyu-sphinx.html" rel="bookmark"
                           title="Permalink to reST – reStructuredText與Sphinx">reST – reStructuredText與Sphinx</a></h1>
                </header>
                
                <div class="entry-content">
                <footer class="post-info">
        <abbr class="published" title="2013-03-28T00:00:00">
                2013-03-28 00:00
        </abbr>

        <p>In <a href="../category/computer.html">computer</a>. </p>
<p>tags: <a href="../tag/docs.html">docs</a></p>
</footer><!-- /.post-info -->                <p><a class="reference external" href="http://docutils.sourceforge.net/rst.html">reStructuredText</a> 是Python <a class="reference external" href="http://docutils.sourceforge.net/index.html">Docutils: Documentation Utilities</a> 的一部分, 而 <a class="reference external" href="http://sphinx.pocoo.org/">Sphinx</a> 可以更方便產生，管理文件的工具</p>
<p>縮排用二個或三個空白都可以，Emacs的ReST預設用三個</p>
<div class="section" id="id1">
<h2>使用</h2>
<p>安裝:</p>
<pre class="literal-block">
$ pip install Sphinx
</pre>
<p>某目錄下:</p>
<pre class="literal-block">
$ sphinx-quickstart
</pre>
<p>會自動設定好conf.py, 和相關檔案</p>
<p>產生網頁檔:</p>
<pre class="literal-block">
$ make html
</pre>
</div>
<div class="section" id="id2">
<h2>文件結構</h2>
<div class="section" id="id3">
<h3>分段</h3>
<p>用一串連續的=*-^&quot;~等字符來標示，通常用:</p>
<pre class="literal-block">
==========
全文標題
==========

大標題
========

小標題
---------

段落
^^^^^^
</pre>
<div class="note">
<p class="first admonition-title">Note</p>
<p class="last">中文字用的分段標示要長一點點</p>
</div>
</div>
<div class="section" id="id4">
<h3>分隔</h3>
<p>像HTML裡的 <tt class="docutils literal">&lt;hr&gt;</tt>:</p>
<pre class="literal-block">
----
</pre>
</div>
</div>
<div class="section" id="inline-markup">
<h2>修飾字 Inline markup</h2>
<p><em>斜體</em>:</p>
<pre class="literal-block">
*italic*
</pre>
<div class="note">
<p class="first admonition-title">Note</p>
<p class="last">中文不能斜</p>
</div>
<p><strong>粗體</strong>:</p>
<pre class="literal-block">
**bold**
</pre>
<p><tt class="docutils literal">有底色</tt>:</p>
<pre class="literal-block">
``有底色 ...</pre></div>
                <a class="readmore" href="../computer/rest-restructuredtextyu-sphinx.html">read more</a>
                <p>There are <a href="../computer/rest-restructuredtextyu-sphinx.html#disqus_thread">comments</a>.</p>                </div><!-- /.entry-content -->
            </article></li>
                            

                 
                        <li><article class="hentry">    
                <header>
                    <h1><a href="../computer/software.html" rel="bookmark"
                           title="Permalink to Software">Software</a></h1>
                </header>
                
                <div class="entry-content">
                <footer class="post-info">
        <abbr class="published" title="2013-03-28T00:00:00">
                2013-03-28 00:00
        </abbr>

        <p>In <a href="../category/computer.html">computer</a>. </p>
<p>tags: <a href="../tag/docs.html">docs</a></p>
</footer><!-- /.post-info -->                <div class="section" id="desktop-tips">
<h2>Desktop Tips</h2>
<div class="section" id="mac-osx">
<h3>Mac OSX</h3>
<p>zoom in/out: Command Opt =/-</p>
<p>強制結束: Command Opt Esc</p>
<p>區域截圖: Command Shift 4</p>
<p>顯示User Library: 在Finder裡的Go(前往), 按住option, 就會出現</p>
<p>輸入特殊符號: Command + option + T</p>
<p>放大縮小: Command + &quot;+&quot; / Command + &quot;-&quot;</p>
<p>無線網路密碼</p>
<ol class="arabic simple">
<li>到&quot;鑰匙圈存取&quot;: Finder -&gt; 工具程式 -&gt; 鑰匙圈存取</li>
<li>找基地台名稱, 分類是&quot;AirPort網路密碼&quot;, 顯示密碼</li>
</ol>
</div>
</div>
<div class="section" id="id1">
<h2>好用軟體</h2>
<div class="section" id="internet">
<h3>Internet</h3>
<ul class="simple">
<li>bt - Deluge (Linux)</li>
<li>IRC Client (OS X)</li>
</ul>
</div>
<div class="section" id="ebook">
<h3>ebook ...</h3></div></div>
                <a class="readmore" href="../computer/software.html">read more</a>
                <p>There are <a href="../computer/software.html#disqus_thread">comments</a>.</p>                </div><!-- /.entry-content -->
            </article></li>
                            

                 
                        <li><article class="hentry">    
                <header>
                    <h1><a href="../computer/unix_command.html" rel="bookmark"
                           title="Permalink to UNIX Command 常用指令">UNIX Command 常用指令</a></h1>
                </header>
                
                <div class="entry-content">
                <footer class="post-info">
        <abbr class="published" title="2013-03-28T00:00:00">
                2013-03-28 00:00
        </abbr>

        <p>In <a href="../category/computer.html">computer</a>. </p>
<p>tags: <a href="../tag/docs.html">docs</a></p>
</footer><!-- /.post-info -->                <div class="section" id="id1">
<h2>檔案</h2>
<p>把檔案foo複製到以下全部目錄裡:</p>
<pre class="literal-block">
$ find . -type d |xargs -n 1 cp -i foo
</pre>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field"><th class="field-name">xargs -n 1:</th><td class="field-body">把每一行command line輸出當作一個參數</td>
</tr>
<tr class="field"><th class="field-name">cp -i:</th><td class="field-body">詢問y or n</td>
</tr>
</tbody>
</table>
<div class="section" id="id2">
<h3>改檔名</h3>
<p>大寫改小寫:</p>
<pre class="literal-block">
$ for i in $( ls | grep [A-Z] ); do mv -i $i `echo $i | tr 'A-Z' 'a-z'`; done
</pre>
<p>只取數字, JPG改jpg:</p>
<pre class="literal-block">
for i in *.JPG ; do mv &quot;$i&quot; `echo $i ...</pre></div></div>
                <a class="readmore" href="../computer/unix_command.html">read more</a>
                <p>There are <a href="../computer/unix_command.html#disqus_thread">comments</a>.</p>                </div><!-- /.entry-content -->
            </article></li>
                            

                 
                        <li><article class="hentry">    
                <header>
                    <h1><a href="../computer/git.html" rel="bookmark"
                           title="Permalink to GIT">GIT</a></h1>
                </header>
                
                <div class="entry-content">
                <footer class="post-info">
        <abbr class="published" title="2013-03-23T00:00:00">
                2013-03-23 00:00
        </abbr>

        <p>In <a href="../category/computer.html">computer</a>. </p>
<p>tags: <a href="../tag/docs.html">docs</a></p>
</footer><!-- /.post-info -->                <div class="section" id="quick-start">
<h2>Quick Start</h2>
<div class="section" id="init">
<h3>init</h3>
<p>Server (Repository):</p>
<pre class="literal-block">
mkdir example.git
cd example.git
git --bare init # init加--bare, 表示只會在當下目錄放git的東西，不會有原始檔案, 如果要原始檔案再git clone出來就有了
</pre>
<p>Client:</p>
<pre class="literal-block">
mkdir example
cd example
git init
touch README
git add README
git commit -m 'first commit'
git remote add origin ssh://USERNAME&#64;REMOTE_SERVER/~/example.git
git push origin master (第一次之後只要打git ...</pre></div></div>
                <a class="readmore" href="../computer/git.html">read more</a>
                <p>There are <a href="../computer/git.html#disqus_thread">comments</a>.</p>                </div><!-- /.entry-content -->
            </article></li>
                            </ol><!-- /#posts-list -->
                            <p class="paginator">
        Page 1 / 1
    </p>
                        </section><!-- /#content -->
                    <section id="extras" class="body">
          <div class="blogroll">
            <h2>Links</h2>
            <ul>
            <li><a href="../pages/about.html">About</a></li>
            <li><a href="http://blog.roodo.com/moogoo" target="_blank">舊blog</a></li>
            <li><a href="http://moogoo78.blogspot.com" target="_blank">程式blog</a></li>
            </ul>
          </div>
                                <div class="social">
                        <h2>social</h2>
                        <ul>
                            <li><a href="http://suhen.org/feeds/all.atom.xml" type="application/atom+xml" rel="alternate">atom feed</a></li>
                            
                                                    <li><a href="http://www.facebook.com/farseerfc">facebook</a></li>
                                                    <li><a href="http://twitter.com/moogoo">twitter</a></li>
                                                    <li><a href="http://github.com/moogoo78">github</a></li>
                                                </ul>
                </div><!-- /.social -->
                </section><!-- /#extras -->

        <footer id="contentinfo" class="body">
                <address id="about" class="vcard body">
                Proudly powered by <a href="http://getpelican.com/">Pelican</a>, which takes great advantage of <a href="http://python.org">Python</a>.
                </address><!-- /#about -->

                <p>The theme is by <a href="http://coding.smashingmagazine.com/2009/08/04/designing-a-html-5-layout-from-scratch/">Smashing Magazine</a>, thanks!</p>
        </footer><!-- /#contentinfo -->

    <script type="text/javascript">
    var _gaq = _gaq || [];
    _gaq.push(['_setAccount', 'UA-38928548-1']);
    _gaq.push(['_trackPageview']);
    (function() {
        var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
        ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
        var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
    })();
    </script>
<script type="text/javascript">
    var disqus_shortname = 'suhenorg';
    (function () {
        var s = document.createElement('script'); s.async = true;
        s.type = 'text/javascript';
        s.src = 'http://' + disqus_shortname + '.disqus.com/count.js';
        (document.getElementsByTagName('HEAD')[0] || document.getElementsByTagName('BODY')[0]).appendChild(s);
    }());
</script>
</body>
</html>