<!DOCTYPE html>
<html lang="zh">
<head>
        <meta charset="utf-8">
        <title> Suhen's blog - docs</title>
        <link rel="stylesheet" href="http://blog.suhen.org/theme/css/main.css">
                <link href="http://blog.suhen.org/feeds/all.atom.xml" type="application/atom+xml" rel="alternate" title=" Suhen's blog Atom Feed" />
                
        <!--[if IE]>
            <script src="http://html5shiv.googlecode.com/svn/trunk/html5.js"></script>
        <![endif]-->
</head>

<body id="index" class="home">
        <header id="banner" class="body">
                <h1><a href="http://blog.suhen.org/"> Suhen's blog </a></h1>
                <nav><ul>
                                                                                <li ><a href="http://blog.suhen.org/category/computer.html">電腦</a></li>
                                <li ><a href="http://blog.suhen.org/category/music.html">音樂</a></li>
                                <li ><a href="http://blog.suhen.org/category/run.html">跑步</a></li>
                                <li ><a href="http://blog.suhen.org/category/mountain.html">爬山</a></li>
                                <li ><a href="http://blog.suhen.org/category/nature.html">自然</a></li>
                                <li ><a href="http://blog.suhen.org/category/travel.html">旅遊</a></li>
                                <li ><a href="http://blog.suhen.org/category/book.html">書</a></li>
                                <li ><a href="http://blog.suhen.org/category/language.html">語言</a></li>
                                <li ><a href="http://blog.suhen.org/category/misc.html">其他</a></li>
                                                </ul></nav>
        </header><!-- /#banner -->
                    

                    <aside id="featured" class="body">
                <article>
                    <h1 class="entry-title"><a href="http://blog.suhen.org/computer/python.html">&lt; Python &gt;</a></h1> 
                    <footer class="post-info">
        <abbr class="published" title="2013-07-10T14:02:00">
                2013-07-10 14:02
        </abbr>

        <p>In <a href="http://blog.suhen.org/category/computer.html">computer</a>. </p>
<p>tags: <a href="http://blog.suhen.org/tag/docs.html">docs</a></p>
</footer><!-- /.post-info --><div class="section" id="quick-start">
<h2>Quick Start</h2>
<p>path:</p>
<pre class="literal-block">
(Mac)$ /Library/Python/2.7/site-packages
</pre>
<p>snippets:</p>
<div class="highlight"><pre><span class="c">#!/usr/bin/env python</span>
<span class="c"># -.- coding: utf-8 -.-</span>

<span class="kn">import</span> <span class="nn">sys</span>
<span class="k">if</span> <span class="n">__name__</span> <span class="o">==</span> <span class="s">&#39;__main__&#39;</span><span class="p">:</span>
    <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">sys</span><span class="o">.</span><span class="n">argv</span><span class="p">)</span> <span class="o">&gt;</span> <span class="mi">1</span><span class="p">:</span>
        <span class="n">main</span><span class="p">(</span><span class="n">sys</span><span class="o">.</span><span class="n">argv</span><span class="p">[</span><span class="mi">1</span><span class="p">])</span>
</pre></div>
<p>struct dict:</p>
<div class="highlight"><pre><span class="n">dishes</span> <span class="o">=</span> <span class="p">{</span><span class="s">&#39;eggs&#39;</span><span class="p">:</span> <span class="mi">2</span><span class="p">,</span> <span class="s">&#39;sausage&#39;</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span> <span class="s">&#39;bacon&#39;</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span> <span class="s">&#39;spam&#39;</span><span class="p">:</span> <span class="mi">500</span><span class="p">}</span>
</pre></div>
<p>if/else三元運算 (ternary operator):</p>
<pre class="literal-block">
A = Y if X else Z
</pre>
<div class="section" id="regular-expression">
<h3>regular expression</h3>
<p>只留a-z, A-Z, 0-9:</p>
<div class="highlight"><pre><span class="n">re</span><span class="o">.</span><span class="n">sub</span><span class="p">(</span><span class="s">r&#39;[^a-zA-Z_0-9]&#39;</span><span class="p">,</span> <span class="s">&#39;&#39;</span><span class="p">,</span> <span class="n">did</span><span class="p">)</span>
</pre></div>
<p>parse出每個sql欄位
.. code-block:: python</p>
<blockquote>
# (1, 'The Three Little Pigs', '三隻小豬', 350, '這是有關於三隻...', 28, 16000, 'en', 280, ''),
m = re.match(r'((d+), '(.*)', '(.*)', (d+), '(.*)', (d+), (d+), '(.*)', (d+), '(.*)')', i)</blockquote>
</div>
<div class="section" id="list-compension">
<h3>list compension</h3>
<p>印出a到z</p>
<div class="highlight"><pre><span class="n">a2z</span> <span class="o">=</span> <span class="p">[</span><span class="nb">chr</span><span class="p">(</span><span class="n">a</span><span class="p">)</span> <span class="k">for</span> <span class="n">a</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">97</span><span class="p">,</span> <span class="mi">123</span><span class="p">)]</span>

<span class="c"># 也可以加上tenary operator [ Y if X else Z for i in LIST]</span>
</pre></div>
<p>sort list(用mydict的foo去排序):</p>
<pre class="literal-block">
output = sorted(mydict, key = lambda x:x['foo'])
</pre>
<p>lambda function:</p>
<pre class="literal-block">
lower = (lambda x, y: x if x &lt; y else y)
lower ('bb', 'aa') # aa
</pre>
</div>
<div class="section" id="string">
<h3>string</h3>
<p>format:</p>
<pre class="literal-block">
'{0:.2f}'.format(init_scale) # 小數點後兩位
'{0:02d}'.format(dtime.tm_mon) # 補2位0
</pre>
<p>replace</p>
<pre class="literal-block">
string.replace('old', 'new')
</pre>
</div>
<div class="section" id="time">
<h3>time</h3>
<p><strong>time format</strong></p>
<div class="highlight"><pre><span class="kn">import</span> <span class="nn">time</span>
<span class="kn">from</span> <span class="nn">datetime</span> <span class="kn">import</span> <span class="n">datetime</span>
<span class="n">TIME_STR</span> <span class="o">=</span> <span class="n">time</span><span class="o">.</span><span class="n">strftime</span><span class="p">(</span><span class="s">&#39;%Y%m</span><span class="si">%d</span><span class="s">-%H%M%S&#39;</span><span class="p">)</span> <span class="c"># 時間字串</span>

<span class="n">dtime</span> <span class="o">=</span> <span class="n">datetime</span><span class="o">.</span><span class="n">utcnow</span><span class="p">()</span> <span class="c"># UTC 格式</span>
<span class="n">ts</span> <span class="o">=</span> <span class="n">time</span><span class="o">.</span><span class="n">mktime</span><span class="p">(</span><span class="n">dtime</span><span class="o">.</span><span class="n">timetuple</span><span class="p">())</span> <span class="c"># datetime to unix timestamp</span>
<span class="n">ts</span> <span class="o">=</span> <span class="n">time</span><span class="o">.</span><span class="n">time</span><span class="p">()</span> <span class="c"># unix timestamp now</span>
<span class="n">datetime</span><span class="o">.</span><span class="n">fromtimestamp</span><span class="p">(</span><span class="n">ts</span><span class="p">)</span> <span class="c"># unix timestamp to datetime</span>

<span class="n">dtime</span><span class="o">.</span><span class="n">strftime</span><span class="p">(</span><span class="s">&#39;%Y-%m-</span><span class="si">%d</span><span class="s">&#39;</span><span class="p">)</span> <span class="c"># datetime =&gt; string</span>
<span class="n">datetime</span><span class="o">.</span><span class="n">strptime</span><span class="p">(</span><span class="n">dtime</span><span class="p">,</span> <span class="s">&#39;%Y-%m-</span><span class="si">%d</span><span class="s">&#39;</span><span class="p">)</span> <span class="c"># =&gt; string to datetime (格式要一樣)</span>

<span class="n">datetime</span><span class="o">.</span><span class="n">strptime</span><span class="p">(</span><span class="n">dtime</span><span class="o">.</span><span class="n">strftime</span><span class="p">(</span><span class="s">&#39;%Y-%m-</span><span class="si">%d</span><span class="s">&#39;</span><span class="p">),</span> <span class="s">&#39;%Y-%m-</span><span class="si">%d</span><span class="s">&#39;</span><span class="p">)</span> <span class="c"># 取得年月日0分0時0秒</span>

<span class="c"># 取得當周的第1天跟最後一天</span>
<span class="n">d</span> <span class="o">=</span> <span class="n">datetime</span><span class="p">(</span><span class="mi">2014</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">15</span><span class="p">)</span>
<span class="n">w</span> <span class="o">=</span> <span class="n">d</span><span class="o">.</span><span class="n">weekday</span><span class="p">()</span>
<span class="n">t1</span> <span class="o">=</span> <span class="n">d</span> <span class="o">+</span> <span class="n">timedelta</span><span class="p">(</span><span class="n">days</span><span class="o">=-</span><span class="n">w</span><span class="p">)</span>
<span class="n">t2</span> <span class="o">=</span> <span class="n">d</span> <span class="o">+</span> <span class="n">timedelta</span><span class="p">(</span><span class="n">days</span><span class="o">=+</span><span class="p">(</span><span class="mi">7</span><span class="o">-</span><span class="n">w</span><span class="p">))</span>
</pre></div>
</div>
<div class="section" id="file">
<h3>file</h3>
<p>write:</p>
<pre class="literal-block">
f = open('data.txt', 'w')
f.write('Hello\n')
f.close()
</pre>
<p>read:</p>
<pre class="literal-block">
f = open('data.txt') # 預設是 'r'
bytes = f.read() # 讀出內容
# -------------
for line in f:
    print line # 讀出每一行
f.close()
</pre>
</div>
</div>
<div class="section" id="basic">
<h2>Basic</h2>
<div class="section" id="overview">
<h3>overview</h3>
<p>functions are objects in Python, just like everything else. (If you find that confusing wait till you hear that classes are objects in Python, just like everything else!)</p>
<p>pprint:</p>
<pre class="literal-block">
import pprint
pp = pprint.PrettyPrinter(indent=4)
pp.pprint(foo)
</pre>
</div>
<div class="section" id="id1">
<h3>引數</h3>
<p>引數傳遞:</p>
<ol class="arabic simple">
<li>傳值, 引數不回被改</li>
<li>傳址標, 引數會被改 (list)</li>
</ol>
<p>例如:</p>
<pre class="literal-block">
def changer(a, b):
    a = 2
    b[0] = 'spam'

X = 1
L = [1, 2]
changer(X, L)
# &gt;&gt;&gt; (1, ['spam', 2])
</pre>
<p>任意多引數:</p>
<pre class="literal-block">
def func(*name): # tuple
    pass
def func(**name): # dict
    pass
</pre>
</div>
<div class="section" id="build-in-functions">
<h3>build-in functions</h3>
<p>filter(function, iterable):</p>
<pre class="literal-block">
[item for item in iterable if function(item)]
</pre>
<p>map(function, iterable, ...):</p>
<pre class="literal-block">
#
</pre>
<p>sum(iterable[, start]):</p>
<pre class="literal-block">
#
</pre>
<p>all(iterable):</p>
<pre class="literal-block">
def all(iterable):
    for element in iterable:
        if not element:
            return False
    return True
</pre>
<p>any(iterable):</p>
<pre class="literal-block">
def any(iterable):
    for element in iterable:
        if element:
            return True
    return False
</pre>
</div>
<div class="section" id="regex">
<h3>regex</h3>
<p>re.search()跟re.match()的不同, match()是字串開頭也要符合, search()只要字串中間有符合的pattern就可以了</p>
<p><a class="reference external" href="http://docs.python.org/2/library/re.html#search-vs-match">7.2. re — Regular expression operations — Python v2.7.6 documentation</a></p>
</div>
<div class="section" id="json">
<h3>json</h3>
<div class="highlight"><pre><span class="c"># obj to json string (serialize)</span>
<span class="n">json</span><span class="o">.</span><span class="n">dumps</span><span class="p">({</span><span class="s">&#39;foo&#39;</span><span class="p">:</span><span class="s">&#39;bar&#39;</span><span class="p">},</span> <span class="n">ensure_ascii</span><span class="o">=</span><span class="bp">False</span><span class="p">)</span> <span class="c"># ensure_ascii = False (Default: True), 中文不會變成 u\xxxx 的 unicode 格式</span>

<span class="c"># obj to json fp</span>
<span class="n">json</span><span class="o">.</span><span class="n">dump</span><span class="p">({</span><span class="s">&#39;foo&#39;</span><span class="p">:</span><span class="s">&#39;bar&#39;</span><span class="p">},</span> <span class="n">fp</span><span class="p">)</span>

<span class="c"># json fp to obj</span>
<span class="n">json</span><span class="o">.</span><span class="n">load</span><span class="p">(</span><span class="n">fp</span><span class="p">)</span>

<span class="c"># json string</span>
<span class="n">json</span><span class="o">.</span><span class="n">loads</span><span class="p">(</span><span class="n">s</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="section" id="id2">
<h2>算數</h2>
<div class="highlight"><pre><span class="kn">import</span> <span class="nn">random</span>

<span class="n">random</span><span class="o">.</span><span class="n">randint</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="mi">9</span><span class="p">)</span>
<span class="c"># &#39;&#39;.join([str(random.randint(1,9)) for i in range(5)]) # 產生5個0-9的字串</span>

<span class="n">random</span><span class="o">.</span><span class="n">random</span><span class="p">()</span> <span class="c"># 產生 [0.0, 1.0) 的亂數</span>

<span class="c"># test 百分比</span>
<span class="n">a</span> <span class="o">=</span> <span class="mi">0</span>
<span class="n">b</span> <span class="o">=</span> <span class="mi">0</span>
<span class="n">c</span> <span class="o">=</span> <span class="mi">0</span>
<span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">10000</span><span class="p">):</span>
    <span class="n">r</span> <span class="o">=</span> <span class="n">random</span><span class="o">.</span><span class="n">random</span><span class="p">()</span>
    <span class="k">if</span> <span class="n">r</span> <span class="o">&gt;=</span> <span class="mf">0.95</span><span class="p">:</span> <span class="c"># 5 %</span>
        <span class="n">c</span> <span class="o">+=</span> <span class="mi">1</span>
    <span class="k">elif</span> <span class="n">r</span> <span class="o">&gt;=</span> <span class="mf">0.70</span> <span class="ow">and</span> <span class="n">r</span> <span class="o">&lt;</span> <span class="mf">0.95</span><span class="p">:</span> <span class="c"># 25 %</span>
        <span class="n">b</span> <span class="o">+=</span> <span class="mi">1</span>
    <span class="k">else</span><span class="p">:</span> <span class="c"># 70 %</span>
        <span class="n">a</span><span class="o">+=</span> <span class="mi">1</span>
<span class="k">print</span> <span class="n">a</span><span class="p">,</span> <span class="n">b</span><span class="p">,</span><span class="n">c</span><span class="p">,</span> <span class="n">a</span><span class="o">/</span><span class="mf">10000.0</span><span class="p">,</span> <span class="n">b</span><span class="o">/</span><span class="mf">10000.0</span><span class="p">,</span> <span class="n">c</span><span class="o">/</span><span class="mf">10000.0</span>
</pre></div>
</div>
<div class="section" id="io-shell-commond-line">
<h2>IO / shell / commond line</h2>
<p><a class="reference external" href="http://docs.python.org/2/library/os.html">15.1. os — Miscellaneous operating system interfaces — Python v2.7.3 documentation</a></p>
<p>檢查目錄存在:</p>
<pre class="literal-block">
os.path.exists('/etc/passwd')
</pre>
<p>subprocess:</p>
<pre class="literal-block">
import subprocess
subprocess.call([&quot;ls&quot;, &quot;-l&quot;]) # 輸入是list, pipe要用popen, 安全一點
subprocess.call([&quot;ls -l&quot;], shell=True) # 完全用系統的shell, pipe, wildcards, 家目錄~都可以用, 參數直接給字串就可以了, 也許會有輸入不乾淨(shell injection)的風險
</pre>
<p>常用:</p>
<pre class="literal-block">
os.getcwd()
os.mkdir(src)
os.rename(src, dst)
</pre>
</div>
<div class="section" id="coding">
<h2>coding</h2>
<ul class="simple">
<li><a class="reference external" href="http://blog.wahahajk.com/2009/08/unicodedecodeerror-ascii-codec-cant.html">宅之力: 解決方法: UnicodeDecodeError: 'ascii' codec can't decode byte 0xe4 in position 0: ordinal not in range(128)</a></li>
</ul>
</div>
<div class="section" id="tips">
<h2>Tips</h2>
<div class="section" id="syntax">
<h3>syntax</h3>
<p>變數決定class名稱:</p>
<pre class="literal-block">
all_class = { 'my_class' : my_class }
object = all_class['my_class']()
</pre>
</div>
<div class="section" id="id3">
<h3>coding</h3>
<p>只留ASCII:</p>
<pre class="literal-block">
print &quot;&quot;.join(filter(lambda x: ord(x)&lt;128, did))
</pre>
</div>
<div class="section" id="array">
<h3>array排序</h3>
<p>有個dict有title和date二個key, 要指定用date來排序:</p>
<pre class="literal-block">
list = []
list.append({'title':'abc','date':1})
list.append({'title':'def','date':2})
list.append({'title':'ghi','date':0})
print sorted(list, key=lambda x: x['date'])
# [{'title': 'ghi', 'date': 0}, {'title': 'abc', 'date': 1}, {'title': 'def', 'date': 2}]
print sorted(list, key=lambda x: x['date'], reverse=True)
# [{'title': 'def', 'date': 2}, {'title': 'abc', 'date': 1}, {'title': 'ghi', 'date': 0}]
</pre>
</div>
<div class="section" id="simple-http-server">
<h3>simple http server</h3>
<p>在當下目錄:</p>
<pre class="literal-block">
$ python -m SimpleHTTPServer # 預設的port 8000, http://127.0.0.1:8000
</pre>
</div>
</div>
<div class="section" id="coding-style">
<h2>Coding Style</h2>
<ul class="simple">
<li><a class="reference external" href="http://www.pocoo.org/internal/styleguide/">The Pocoo Style Guide — Pocoo</a></li>
<li><a class="reference external" href="http://google-styleguide.googlecode.com/svn/trunk/pyguide.html">Google Python Style Guide</a></li>
<li><a class="reference external" href="http://docs.python-guide.org/en/latest/writing/style/">Code Style — The Hitchhiker's Guide to Python</a></li>
</ul>
<div class="section" id="comments-google-style">
<h3>Comments (google style)</h3>
<div class="highlight"><pre><span class="k">def</span> <span class="nf">fetch_bigtable_rows</span><span class="p">(</span><span class="n">big_table</span><span class="p">,</span> <span class="n">keys</span><span class="p">,</span> <span class="n">other_silly_variable</span><span class="o">=</span><span class="bp">None</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Fetches rows from a Bigtable.</span>

<span class="sd">    Retrieves rows pertaining to the given keys from the Table instance</span>
<span class="sd">    represented by big_table.  Silly things may happen if</span>
<span class="sd">    other_silly_variable is not None.</span>

<span class="sd">    Args:</span>
<span class="sd">        big_table: An open Bigtable Table instance.</span>
<span class="sd">        keys: A sequence of strings representing the key of each table row</span>
<span class="sd">            to fetch.</span>
<span class="sd">        other_silly_variable: Another optional variable, that has a much</span>
<span class="sd">            longer name than the other args, and which does nothing.</span>

<span class="sd">    Returns:</span>
<span class="sd">        A dict mapping keys to the corresponding table row data</span>
<span class="sd">        fetched. Each row is represented as a tuple of strings. For</span>
<span class="sd">        example:</span>

<span class="sd">        {&#39;Serak&#39;: (&#39;Rigel VII&#39;, &#39;Preparer&#39;),</span>
<span class="sd">         &#39;Zim&#39;: (&#39;Irk&#39;, &#39;Invader&#39;),</span>
<span class="sd">         &#39;Lrrr&#39;: (&#39;Omicron Persei 8&#39;, &#39;Emperor&#39;)}</span>

<span class="sd">        If a key from the keys argument is missing from the dictionary,</span>
<span class="sd">        then that row was not found in the table.</span>

<span class="sd">    Raises:</span>
<span class="sd">        IOError: An error occurred accessing the bigtable.Table object.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">pass</span>
</pre></div>
</div>
</div>
<div class="section" id="practice">
<h2>Practice</h2>
<p>exceptions and/or logging</p>
<div class="highlight"><pre><span class="k">class</span> <span class="nc">SillyWalkMinistry</span><span class="p">(</span><span class="ne">Exception</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot; handle exception &quot;&quot;&quot;</span>
    <span class="k">pass</span>

<span class="k">try</span><span class="p">:</span>
    <span class="n">do_silly</span><span class="p">(</span><span class="n">value</span><span class="p">)</span>
<span class="k">except</span> <span class="ne">AttributeError</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
    <span class="n">log</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="s">&#39;&#39;</span><span class="p">)</span>
    <span class="n">do_invisible</span><span class="p">(</span><span class="n">v</span><span class="p">)</span>
<span class="k">except</span> <span class="ne">Exception</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
    <span class="n">log</span><span class="o">.</span><span class="n">debug</span><span class="p">(</span><span class="nb">str</span><span class="p">(</span><span class="n">e</span><span class="p">))</span>
    <span class="k">raise</span> <span class="n">SillyWalkMinistry</span><span class="p">(</span><span class="n">e</span><span class="p">)</span>
</pre></div>
</div>
<div class="section" id="id4">
<h2>整理</h2>
<p>小括弧整理程式碼:</p>
<pre class="literal-block">
X = (A + B +
     C + D)

if (A == 1 and
    B == 2 and
    C == 3):
       print 'spam' * 3
</pre>
<div class="note">
<p class="first admonition-title">Note</p>
<p class="last">斜線結尾不好看, 很難注意</p>
</div>
</div>
<div class="section" id="reference">
<h2>reference</h2>
<div class="section" id="tutorial">
<h3>Tutorial</h3>
<p><a class="reference external" href="http://www.slideshare.net/moskytw">Mosky Liu, Pinkoi | SlideShare</a></p>
</div>
</div>
<div class="section" id="decorator">
<h2>decorator</h2>
<p>沒用 from functools import wraps 的話, function的資訊會跑掉, 重複(reentrant) 會有問題, 傳參數的話會變只有最後一個</p>
<p>via: <a class="reference external" href="http://stackoverflow.com/questions/308999/what-does-functools-wraps-do">http://stackoverflow.com/questions/308999/what-does-functools-wraps-do</a></p>
<div class="highlight"><pre><span class="c"># -.- encoding: utf-8 -.-</span>

<span class="kn">from</span> <span class="nn">functools</span> <span class="kn">import</span> <span class="n">wraps</span>
<span class="k">def</span> <span class="nf">logged</span><span class="p">(</span><span class="n">func</span><span class="p">):</span>
    <span class="nd">@wraps</span><span class="p">(</span><span class="n">func</span><span class="p">)</span>
    <span class="k">def</span> <span class="nf">with_logging</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
        <span class="k">print</span> <span class="n">func</span><span class="o">.</span><span class="n">__name__</span> <span class="o">+</span> <span class="s">&quot; was called&quot;</span>
        <span class="k">return</span> <span class="n">func</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">with_logging</span>

<span class="nd">@logged</span>
<span class="k">def</span> <span class="nf">f</span><span class="p">(</span><span class="n">x</span><span class="p">):</span>
   <span class="sd">&quot;&quot;&quot;does some math&quot;&quot;&quot;</span>
   <span class="k">return</span> <span class="n">x</span> <span class="o">+</span> <span class="n">x</span> <span class="o">*</span> <span class="n">x</span>

<span class="k">print</span> <span class="n">f</span><span class="o">.</span><span class="n">__name__</span>  <span class="c"># prints &#39;f&#39;, 沒wraps -&gt; with_logging</span>
<span class="k">print</span> <span class="n">f</span><span class="o">.</span><span class="n">__doc__</span>   <span class="c"># prints &#39;does some math&#39; 沒wraps -&gt; None</span>

<span class="k">print</span> <span class="s">&#39;-----&#39;</span>

<span class="k">def</span> <span class="nf">logged_param</span><span class="p">(</span><span class="n">param</span><span class="p">):</span>
    <span class="k">def</span> <span class="nf">with_logging</span><span class="p">(</span><span class="n">func</span><span class="p">):</span>
        <span class="c">#@wraps(func)</span>
        <span class="k">def</span> <span class="nf">log_p</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
            <span class="k">print</span> <span class="n">func</span><span class="o">.</span><span class="n">__name__</span> <span class="o">+</span> <span class="s">&quot; was called, &quot;</span><span class="p">,</span> <span class="n">param</span>
            <span class="k">return</span> <span class="n">func</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">log_p</span>
    <span class="k">return</span> <span class="n">with_logging</span>

<span class="nd">@logged_param</span><span class="p">(</span><span class="s">&#39;foo&#39;</span><span class="p">)</span>
<span class="k">def</span> <span class="nf">f2</span><span class="p">(</span><span class="n">x</span><span class="p">):</span>
   <span class="sd">&quot;&quot;&quot;does some math2&quot;&quot;&quot;</span>
   <span class="k">return</span> <span class="n">x</span> <span class="o">+</span> <span class="n">x</span> <span class="o">*</span> <span class="n">x</span>

<span class="k">print</span> <span class="n">f2</span><span class="o">.</span><span class="n">__name__</span>  <span class="c"># prints &#39;f&#39;</span>
<span class="k">print</span> <span class="n">f2</span><span class="o">.</span><span class="n">__doc__</span>   <span class="c"># prints &#39;does some math&#39;</span>
<span class="k">print</span> <span class="n">f2</span><span class="p">(</span><span class="mi">2</span><span class="p">)</span>

<span class="nd">@logged_param</span><span class="p">(</span><span class="s">&#39;bar&#39;</span><span class="p">)</span>
<span class="k">def</span> <span class="nf">f3</span><span class="p">(</span><span class="n">x</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot; math3 &quot;&quot;&quot;</span>
    <span class="k">return</span> <span class="n">x</span> <span class="o">+</span> <span class="n">x</span> <span class="o">*</span> <span class="n">x</span>

<span class="k">print</span> <span class="n">f3</span><span class="p">(</span><span class="mi">2</span><span class="p">)</span>

<span class="k">print</span> <span class="n">f2</span><span class="p">(</span><span class="mi">2</span><span class="p">)</span>
</pre></div>
<p>另一例:</p>
<div class="highlight"><pre><span class="kn">from</span> <span class="nn">time</span> <span class="kn">import</span> <span class="n">time</span>

<span class="c"># Imperative Programming</span>
<span class="k">def</span> <span class="nf">speak</span><span class="p">(</span><span class="n">topic</span><span class="p">):</span>
    <span class="k">print</span> <span class="s">&quot;My speach is &quot;</span> <span class="o">+</span> <span class="n">topic</span>

<span class="k">def</span> <span class="nf">timer</span><span class="p">(</span><span class="n">fn</span><span class="p">):</span>
    <span class="k">def</span> <span class="nf">inner</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
        <span class="n">t</span> <span class="o">=</span> <span class="n">time</span><span class="p">()</span>
        <span class="n">fn</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
        <span class="k">print</span> <span class="s">&quot;took {time}&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">time</span><span class="o">=</span><span class="n">time</span><span class="p">()</span><span class="o">-</span><span class="n">t</span><span class="p">)</span>

    <span class="k">return</span> <span class="n">inner</span>

<span class="n">speaker</span> <span class="o">=</span> <span class="n">timer</span><span class="p">(</span><span class="n">speak</span><span class="p">)</span>
<span class="n">speaker</span><span class="p">(</span><span class="s">&quot;FP with Python&quot;</span><span class="p">)</span>

<span class="c"># Decorator (Functional Programming)</span>
<span class="nd">@timer</span>
<span class="k">def</span> <span class="nf">speak</span><span class="p">(</span><span class="n">topic</span><span class="p">):</span>
    <span class="k">print</span> <span class="s">&quot;My speach is &quot;</span> <span class="o">+</span> <span class="n">topic</span>

<span class="n">speak</span><span class="p">(</span><span class="s">&quot;FP with Python&quot;</span><span class="p">)</span>

<span class="c"># &gt; My speach is FP with Python</span>
<span class="c"># &gt; took 5.96046447754e-06</span>
</pre></div>
</div>
<p>There are <a href="http://blog.suhen.org/computer/python.html#disqus_thread">comments</a>.</p>                </article>
                            </aside><!-- /#featured -->
                            <section id="content" class="body">
                    <h1>Other articles</h1>
                    <hr />
                    <ol id="posts-list" class="hfeed">
            
                            

         
                        <li><article class="hentry">    
                <header>
                    <h1><a href="http://blog.suhen.org/computer/database_docs.html" rel="bookmark"
                           title="Permalink to Database筆記 (MySQL, SQLite)">Database筆記 (MySQL, SQLite)</a></h1>
                </header>
                
                <div class="entry-content">
                <footer class="post-info">
        <abbr class="published" title="2013-05-09T18:23:00">
                2013-05-09 18:23
        </abbr>

        <p>In <a href="http://blog.suhen.org/category/computer.html">computer</a>. </p>
<p>tags: <a href="http://blog.suhen.org/tag/docs.html">docs</a><a href="http://blog.suhen.org/tag/mysql.html">mysql</a><a href="http://blog.suhen.org/tag/sqlite.html">sqlite</a></p>
</footer><!-- /.post-info -->                <div class="section" id="mysql">
<h2>MySql</h2>
<p>Syntax</p>
<div class="highlight"><pre><span class="p">[</span><span class="k">ALL</span> <span class="o">|</span> <span class="k">DISTINCT</span> <span class="o">|</span> <span class="n">DISTINCTROW</span> <span class="p">]</span>
  <span class="p">[</span><span class="n">HIGH_PRIORITY</span><span class="p">]</span>
  <span class="p">[</span><span class="n">STRAIGHT_JOIN</span><span class="p">]</span>
  <span class="p">[</span><span class="n">SQL_SMALL_RESULT</span><span class="p">]</span> <span class="p">[</span><span class="n">SQL_BIG_RESULT</span><span class="p">]</span> <span class="p">[</span><span class="n">SQL_BUFFER_RESULT</span><span class="p">]</span>
  <span class="p">[</span><span class="n">SQL_CACHE</span> <span class="o">|</span> <span class="n">SQL_NO_CACHE</span><span class="p">]</span> <span class="p">[</span><span class="n">SQL_CALC_FOUND_ROWS</span><span class="p">]</span>
<span class="n">select_expr</span> <span class="p">[,</span> <span class="n">select_expr</span> <span class="p">...]</span>
<span class="p">[</span><span class="k">FROM</span> <span class="n">table_references</span>
<span class="p">[</span><span class="k">WHERE</span> <span class="n">where_condition</span><span class="p">]</span>
<span class="p">[</span><span class="k">GROUP</span> <span class="k">BY</span> <span class="err">{</span><span class="n">col_name</span> <span class="o">|</span> <span class="n">expr</span> <span class="o">|</span> <span class="k">position</span><span class="err">}</span>
  <span class="p">[</span><span class="k">ASC</span> <span class="o">|</span> <span class="k">DESC</span><span class="p">],</span> <span class="p">...</span> <span class="p">[</span><span class="k">WITH</span> <span class="k">ROLLUP</span><span class="p">]]</span>
<span class="p">[</span><span class="k">HAVING</span> <span class="n">where_condition</span><span class="p">]</span>
<span class="p">[</span><span class="k">ORDER</span> <span class="k">BY</span> <span class="err">{</span><span class="n">col_name</span> <span class="o">|</span> <span class="n">expr</span> <span class="o">|</span> <span class="k">position</span><span class="err">}</span>
  <span class="p">[</span><span class="k">ASC</span> <span class="o">|</span> <span class="k">DESC</span><span class="p">],</span> <span class="p">...]</span>
<span class="p">[</span><span class="k">LIMIT</span> <span class="err">{</span><span class="p">[</span><span class="k">offset</span><span class="p">,]</span> <span class="k">row_count</span> <span class="o">|</span> <span class="k">row_count</span> <span class="k">OFFSET</span> <span class="k">offset</span><span class="err">}</span><span class="p">]</span>
<span class="p">[</span><span class="k">PROCEDURE</span> <span class="n">procedure_name</span><span class="p">(</span><span class="n">argument_list</span><span class="p">)]</span>
</pre></div>
<div class="note">
<p class="first admonition-title">Note</p>
<p class="last">MySQL的JOIN預設是 <tt class="docutils literal">INNER JOIN ...</tt></p></div></div>
                <a class="readmore" href="http://blog.suhen.org/computer/database_docs.html">read more</a>
                <p>There are <a href="http://blog.suhen.org/computer/database_docs.html#disqus_thread">comments</a>.</p>                </div><!-- /.entry-content -->
            </article></li>
                            

         
                        <li><article class="hentry">    
                <header>
                    <h1><a href="http://blog.suhen.org/computer/emacs.html" rel="bookmark"
                           title="Permalink to Emacs 小抄">Emacs 小抄</a></h1>
                </header>
                
                <div class="entry-content">
                <footer class="post-info">
        <abbr class="published" title="2013-04-26T18:37:00">
                2013-04-26 18:37
        </abbr>

        <p>In <a href="http://blog.suhen.org/category/computer.html">computer</a>. </p>
<p>tags: <a href="http://blog.suhen.org/tag/docs.html">docs</a></p>
</footer><!-- /.post-info -->                <div class="section" id="tips">
<h2>Tips</h2>
<p>自動補齊:</p>
<pre class="literal-block">
M-/
</pre>
<p>變數對齊:</p>
<pre class="literal-block">
M-x align-regexp
</pre>
<p>輸入 <tt class="docutils literal">=</tt></p>
<p>列出全部字串:</p>
<pre class="literal-block">
M-x occur
</pre>
<p>刪除整行(vim's dd):</p>
<pre class="literal-block">
C-S-Backspace
</pre>
<p>刪除空白行:</p>
<pre class="literal-block">
M-x flush-lines RET ^$ RET ;純空白行
M-x flush-lines RET ^\s-*$ RET ; 有空白的空白行
</pre>
<p>編輯每行文字:</p>
<pre class="literal-block">
;; 把每行的文字foo加indent和quote 'foo' =&gt;'  &quot;foo&quot;'
M-x replace-regexp RET ^ RET SPACE SPACE&quot; RET ;; 開頭加3個空白和&quot;
M-x replace-regexp RET $ RET &quot;, RET ;; 結尾加&quot;
</pre>
<p>每行加2空白:</p>
<pre class="literal-block">
M-x cua-mode
選好區塊
C-RET ...</pre></div>
                <a class="readmore" href="http://blog.suhen.org/computer/emacs.html">read more</a>
                <p>There are <a href="http://blog.suhen.org/computer/emacs.html#disqus_thread">comments</a>.</p>                </div><!-- /.entry-content -->
            </article></li>
                            

         
                        <li><article class="hentry">    
                <header>
                    <h1><a href="http://blog.suhen.org/computer/scripting-bi-jiao.html" rel="bookmark"
                           title="Permalink to Scripting 比較">Scripting 比較</a></h1>
                </header>
                
                <div class="entry-content">
                <footer class="post-info">
        <abbr class="published" title="2013-04-09T11:38:00">
                2013-04-09 11:38
        </abbr>

        <p>In <a href="http://blog.suhen.org/category/computer.html">computer</a>. </p>
<p>tags: <a href="http://blog.suhen.org/tag/docs.html">docs</a></p>
</footer><!-- /.post-info -->                <p>PHP, Python, Javascript, Lua</p>
<div class="section" id="id1">
<h2>易搞混</h2>
<div class="section" id="hash-dictionary-table">
<h3>hash/dictionary/table</h3>
<p>json:</p>
<div class="highlight"><pre><span class="p">{</span>
     <span class="nt">&quot;firstName&quot;</span><span class="p">:</span> <span class="s2">&quot;John&quot;</span><span class="p">,</span>
     <span class="nt">&quot;lastName&quot;</span><span class="p">:</span> <span class="s2">&quot;Smith&quot;</span><span class="p">,</span>
     <span class="nt">&quot;male&quot;</span><span class="p">:</span> <span class="kc">true</span><span class="p">,</span>
     <span class="nt">&quot;age&quot;</span><span class="p">:</span> <span class="mi">25</span><span class="p">,</span>
     <span class="nt">&quot;address&quot;</span><span class="p">:</span>
     <span class="p">{</span>
         <span class="nt">&quot;streetAddress&quot;</span><span class="p">:</span> <span class="s2">&quot;21 2nd Street&quot;</span><span class="p">,</span>
         <span class="nt">&quot;city&quot;</span><span class="p">:</span> <span class="s2">&quot;New York&quot;</span><span class="p">,</span>
         <span class="nt">&quot;state&quot;</span><span class="p">:</span> <span class="s2">&quot;NY&quot;</span><span class="p">,</span>
         <span class="nt">&quot;postalCode&quot;</span><span class="p">:</span> <span class="s2">&quot;10021&quot;</span>
     <span class="p">},</span>
     <span class="nt">&quot;phoneNumber&quot;</span><span class="p">:</span>
     <span class="p">[</span>
         <span class="p">{</span>
           <span class="nt">&quot;type&quot;</span><span class="p">:</span> <span class="s2">&quot;home&quot;</span><span class="p">,</span>
           <span class="nt">&quot;number&quot;</span><span class="p">:</span> <span class="s2">&quot;212 555-1234&quot;</span>
         <span class="p">},</span>
         <span class="p">{</span>
           <span class="nt">&quot;type&quot;</span><span class="p">:</span> <span class="s2">&quot;fax&quot;</span><span class="p">,</span>
           <span class="nt">&quot;number&quot;</span><span class="p">:</span> <span class="s2">&quot;646 555-4567&quot;</span>
         <span class="p">}</span>
     <span class="p">]</span>
 <span class="p">}</span>
</pre></div>
<p>python dictionary:</p>
<div class="highlight"><pre><span class="n">dishes</span> <span class="o">=</span> <span class="p">{</span><span class="s">&#39;eggs&#39;</span><span class="p">:</span> <span class="mi">2</span><span class="p">,</span> <span class="s">&#39;sausage&#39;</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span> <span class="s">&#39;bacon&#39;</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span> <span class="s">&#39;spam ...</span></pre></div></div></div>
                <a class="readmore" href="http://blog.suhen.org/computer/scripting-bi-jiao.html">read more</a>
                <p>There are <a href="http://blog.suhen.org/computer/scripting-bi-jiao.html#disqus_thread">comments</a>.</p>                </div><!-- /.entry-content -->
            </article></li>
                            

         
                        <li><article class="hentry">    
                <header>
                    <h1><a href="http://blog.suhen.org/computer/python-web-framework-sqlalchemy-django-flask-jinja2.html" rel="bookmark"
                           title="Permalink to Python Web Framework (SQLAlchemy, Django, Flask, Jinja2)">Python Web Framework (SQLAlchemy, Django, Flask, Jinja2)</a></h1>
                </header>
                
                <div class="entry-content">
                <footer class="post-info">
        <abbr class="published" title="2013-04-09T11:36:00">
                2013-04-09 11:36
        </abbr>

        <p>In <a href="http://blog.suhen.org/category/computer.html">computer</a>. </p>
<p>tags: <a href="http://blog.suhen.org/tag/docs.html">docs</a></p>
</footer><!-- /.post-info -->                <div class="section" id="sqlalchemy">
<h2>SQLAlchemy</h2>
<div class="section" id="setting">
<h3>setting</h3>
<p>sqlite path:</p>
<pre class="literal-block">
# sqlite://&lt;nohostname&gt;/&lt;path&gt;
# where &lt;path&gt; is relative:
engine = create_engine('sqlite:///foo.db')

# or absolute, starting with a slash:
engine = create_engine('sqlite:////absolute/path/to/foo.db')
</pre>
<p>import:</p>
<pre class="literal-block">
from flask.ext.sqlalchemy import BaseQuery
from sqlalchemy.sql import func
</pre>
</div>
<div class="section" id="schema">
<h3>schema</h3>
<p>column parameters:</p>
<pre class="literal-block">
primary_key =True
nullable=False
unique ...</pre></div></div>
                <a class="readmore" href="http://blog.suhen.org/computer/python-web-framework-sqlalchemy-django-flask-jinja2.html">read more</a>
                <p>There are <a href="http://blog.suhen.org/computer/python-web-framework-sqlalchemy-django-flask-jinja2.html#disqus_thread">comments</a>.</p>                </div><!-- /.entry-content -->
            </article></li>
                            

         
                        <li><article class="hentry">    
                <header>
                    <h1><a href="http://blog.suhen.org/computer/blog.html" rel="bookmark"
                           title="Permalink to blog">blog</a></h1>
                </header>
                
                <div class="entry-content">
                <footer class="post-info">
        <abbr class="published" title="2013-04-02T15:53:00">
                2013-04-02 15:53
        </abbr>

        <p>In <a href="http://blog.suhen.org/category/computer.html">computer</a>. </p>
<p>tags: <a href="http://blog.suhen.org/tag/docs.html">docs</a></p>
</footer><!-- /.post-info -->                <div class="section" id="http-status-code">
<h2>HTTP status code</h2>
<p><a class="reference external" href="http://www.w3.org/Protocols/rfc2616/rfc2616-sec10.html">http://www.w3.org/Protocols/rfc2616/rfc2616-sec10.html</a></p>
<div class="section" id="informational-1xx">
<h3>Informational 1xx</h3>
<p>HTTP/1.0沒有定義</p>
<ul class="simple">
<li>100 Continue, proxy</li>
<li>101 Switching Protocols, HTTP版本轉換</li>
</ul>
</div>
<div class="section" id="successful-2xx">
<h3>Successful 2xx</h3>
<ul class="simple">
<li>200 OK</li>
<li>201 Created</li>
<li>202 Accepted</li>
<li>203 Non-Authoritative Information</li>
<li>204 No Content</li>
<li>205 Reset Content</li>
<li>206 Partial Content</li>
</ul>
</div>
<div class="section" id="redirection-3xx">
<h3>Redirection 3xx</h3>
<ul class="simple">
<li>300 Multiple Choices</li>
<li>301 Moved ...</li></ul></div></div>
                <a class="readmore" href="http://blog.suhen.org/computer/blog.html">read more</a>
                <p>There are <a href="http://blog.suhen.org/computer/blog.html#disqus_thread">comments</a>.</p>                </div><!-- /.entry-content -->
            </article></li>
                            

         
                        <li><article class="hentry">    
                <header>
                    <h1><a href="http://blog.suhen.org/computer/rest_sphinx.html" rel="bookmark"
                           title="Permalink to reST – reStructuredText與Sphinx">reST – reStructuredText與Sphinx</a></h1>
                </header>
                
                <div class="entry-content">
                <footer class="post-info">
        <abbr class="published" title="2013-03-28T00:00:00">
                2013-03-28 00:00
        </abbr>

        <p>In <a href="http://blog.suhen.org/category/computer.html">computer</a>. </p>
<p>tags: <a href="http://blog.suhen.org/tag/docs.html">docs</a></p>
</footer><!-- /.post-info -->                <p><a class="reference external" href="http://docutils.sourceforge.net/rst.html">reStructuredText</a> 是Python <a class="reference external" href="http://docutils.sourceforge.net/index.html">Docutils: Documentation Utilities</a> 的一部分, 而 <a class="reference external" href="http://sphinx.pocoo.org/">Sphinx</a> 可以更方便產生，管理文件的工具</p>
<p>縮排用二個或三個空白都可以，Emacs的ReST預設用三個</p>
<div class="section" id="id1">
<h2>使用</h2>
<p>安裝:</p>
<pre class="literal-block">
$ pip install Sphinx
</pre>
<p>某目錄下:</p>
<pre class="literal-block">
$ sphinx-quickstart
</pre>
<p>會自動設定好conf.py, 和相關檔案</p>
<p>產生網頁檔:</p>
<pre class="literal-block">
$ make html
</pre>
</div>
<div class="section" id="id2">
<h2>文件結構</h2>
<div class="section" id="id3">
<h3>分段</h3>
<p>用一串連續的=*-^&quot;~等字符來標示，通常用:</p>
<pre class="literal-block">
==========
全文標題
==========

大標題
========

小標題
---------

段落
^^^^^^
</pre>
<div class="note">
<p class="first admonition-title">Note</p>
<p class="last">中文字用的分段標示要長一點點</p>
</div>
</div>
<div class="section" id="id4">
<h3>分隔</h3>
<p>像HTML裡的 <tt class="docutils literal">&lt;hr&gt;</tt>:</p>
<pre class="literal-block">
----
</pre>
</div>
</div>
<div class="section" id="inline-markup">
<h2>修飾字 Inline markup</h2>
<p><em>斜體</em>:</p>
<pre class="literal-block">
*italic*
</pre>
<div class="note">
<p class="first admonition-title">Note</p>
<p class="last">中文不能斜</p>
</div>
<p><strong>粗體</strong>:</p>
<pre class="literal-block">
**bold**
</pre>
<p><tt class="docutils literal">有底色</tt>:</p>
<pre class="literal-block">
``有底色 ...</pre></div>
                <a class="readmore" href="http://blog.suhen.org/computer/rest_sphinx.html">read more</a>
                <p>There are <a href="http://blog.suhen.org/computer/rest_sphinx.html#disqus_thread">comments</a>.</p>                </div><!-- /.entry-content -->
            </article></li>
                            

         
                        <li><article class="hentry">    
                <header>
                    <h1><a href="http://blog.suhen.org/computer/software.html" rel="bookmark"
                           title="Permalink to Software">Software</a></h1>
                </header>
                
                <div class="entry-content">
                <footer class="post-info">
        <abbr class="published" title="2013-03-28T00:00:00">
                2013-03-28 00:00
        </abbr>

        <p>In <a href="http://blog.suhen.org/category/computer.html">computer</a>. </p>
<p>tags: <a href="http://blog.suhen.org/tag/docs.html">docs</a></p>
</footer><!-- /.post-info -->                <div class="section" id="desktop-tips">
<h2>Desktop Tips</h2>
<div class="section" id="system">
<h3>System</h3>
<div class="section" id="mac-osx">
<h4>Mac OSX</h4>
<p>zoom in/out: Command Opt =/-</p>
<p>強制結束: Command Opt Esc</p>
<p>區域截圖: Command Shift 4</p>
<p>貼上無格式文字 (plain-text): Shift + Option + Command + v</p>
<p>顯示User Library: 在Finder裡的Go(前往), 按住option, 就會出現</p>
<p>輸入特殊符號: Command + option + T</p>
<p>放大縮小: Command + &quot;+&quot; / Command + &quot;-&quot;</p>
<p>無線網路密碼</p>
<ol class="arabic simple">
<li>到&quot;鑰匙圈存取&quot;: Finder -&gt; 工具程式 -&gt; 鑰匙圈存取</li>
<li>找基地台名稱, 分類是&quot;AirPort網路密碼&quot;, 顯示密碼</li>
</ol>
<p>[14 Mac Hacks ...</p></div></div></div>
                <a class="readmore" href="http://blog.suhen.org/computer/software.html">read more</a>
                <p>There are <a href="http://blog.suhen.org/computer/software.html#disqus_thread">comments</a>.</p>                </div><!-- /.entry-content -->
            </article></li>
                            

         
                        <li><article class="hentry">    
                <header>
                    <h1><a href="http://blog.suhen.org/computer/unix_command.html" rel="bookmark"
                           title="Permalink to UNIX Command 常用指令">UNIX Command 常用指令</a></h1>
                </header>
                
                <div class="entry-content">
                <footer class="post-info">
        <abbr class="published" title="2013-03-28T00:00:00">
                2013-03-28 00:00
        </abbr>

        <p>In <a href="http://blog.suhen.org/category/computer.html">computer</a>. </p>
<p>tags: <a href="http://blog.suhen.org/tag/docs.html">docs</a></p>
</footer><!-- /.post-info -->                <div class="section" id="script">
<h2>好用script</h2>
<p>把&quot;/t&quot;分隔的檔案轉成sql語法, 用awk和sed</p>
<div class="highlight"><pre>awk -F <span class="s1">&#39;\t&#39;</span> <span class="s1">&#39;{print &quot;INSERT INTO word (\&quot;s3id\&quot;,\&quot;content\&quot;,\&quot;freq\&quot;,\&quot;translate\&quot;,\&quot;ex1\&quot;,\&quot;ex1_translate\&quot;,\&quot;ex2\&quot;,\&quot;ex2_translate\&quot;) VALUES(\&quot;&quot;$1&quot;\&quot;,\&quot;&quot;$2&quot;\&quot;,\&quot;&quot;$3&quot;\&quot;,\&quot;&quot;$4&quot;\&quot;,\&quot;&quot;$5&quot;\&quot;,\&quot;&quot;$6&quot;\&quot;,\&quot;&quot;$7&quot;\&quot;,\&quot;&quot;$8&quot;\&quot;);&quot;}&#39;</span> data_all_u.txt | sed -e <span class="s1">&#39;s/^M//g&#39;</span> &gt; out.sql
</pre></div>
<div class="note">
<p class="first admonition-title">Note</p>
<p class="last">先用awk轉好, 再用sed去除最後換行符號, &quot;^M&quot;在commend-line裡要Ctrl-V + Ctrl-M表示</p>
</div>
</div>
<div class="section" id="id1">
<h2>檔案</h2>
<p>把檔案foo複製到以下全部目錄裡:</p>
<pre class="literal-block">
$ find . -type d |xargs ...</pre></div>
                <a class="readmore" href="http://blog.suhen.org/computer/unix_command.html">read more</a>
                <p>There are <a href="http://blog.suhen.org/computer/unix_command.html#disqus_thread">comments</a>.</p>                </div><!-- /.entry-content -->
            </article></li>
                            

         
                        <li><article class="hentry">    
                <header>
                    <h1><a href="http://blog.suhen.org/computer/git.html" rel="bookmark"
                           title="Permalink to GIT">GIT</a></h1>
                </header>
                
                <div class="entry-content">
                <footer class="post-info">
        <abbr class="published" title="2013-03-23T00:00:00">
                2013-03-23 00:00
        </abbr>

        <p>In <a href="http://blog.suhen.org/category/computer.html">computer</a>. </p>
<p>tags: <a href="http://blog.suhen.org/tag/docs.html">docs</a></p>
</footer><!-- /.post-info -->                <div class="section" id="quick-start">
<h2>Quick Start</h2>
<div class="section" id="init">
<h3>init</h3>
<p>Server (Repository):</p>
<pre class="literal-block">
mkdir example.git
cd example.git
git --bare init # init加--bare, 表示只會在當下目錄放git的東西，不會有原始檔案, 如果要原始檔案再git clone出來就有了
</pre>
<p>Client:</p>
<pre class="literal-block">
mkdir example
cd example
git init
touch README
git add README
git commit -m 'first commit'
git remote add origin ssh://USERNAME&#64;REMOTE_SERVER/~/example.git
git push origin master (第一次之後只要打git ...</pre></div></div>
                <a class="readmore" href="http://blog.suhen.org/computer/git.html">read more</a>
                <p>There are <a href="http://blog.suhen.org/computer/git.html#disqus_thread">comments</a>.</p>                </div><!-- /.entry-content -->
            </article></li>
                            </ol><!-- /#posts-list -->
                            <p class="paginator">
        Page 1 / 1
    </p>
                        </section><!-- /#content -->
            
        <section id="extras" class="body">
                        <div class="blogroll">
                        <h2>blogroll</h2>
                        <ul>
                                                    <li><a href="/pages/about.html">About</a></li>
                                                    <li><a href="http://blog.roodo.com/moogoo">舊blog</a></li>
                                                    <li><a href="http://moogoo78.blogspot.com">電腦程式blog</a></li>
                                                </ul>
                </div><!-- /.blogroll -->
                                <div class="social">
                        <h2>social</h2>
                        <ul>
                            <li><a href="http://blog.suhen.org/feeds/all.atom.xml" type="application/atom+xml" rel="alternate">atom feed</a></li>
                            
                                                    <li><a href="http://www.facebook.com/moogee.lee">facebook</a></li>
                                                    <li><a href="http://twitter.com/moogoo">twitter</a></li>
                                                    <li><a href="http://github.com/moogoo78">github</a></li>
                                                </ul>
                </div><!-- /.social -->
                </section><!-- /#extras -->

        <footer id="contentinfo" class="body">
                <address id="about" class="vcard body">
                Proudly powered by <a href="http://getpelican.com/">Pelican</a>, which takes great advantage of <a href="http://python.org">Python</a>.
                </address><!-- /#about -->

                <p>The theme is by <a href="http://coding.smashingmagazine.com/2009/08/04/designing-a-html-5-layout-from-scratch/">Smashing Magazine</a>, thanks!</p>
        </footer><!-- /#contentinfo -->

    <script type="text/javascript">
    var _gaq = _gaq || [];
    _gaq.push(['_setAccount', 'UA-38928548-1']);
    _gaq.push(['_trackPageview']);
    (function() {
        var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
        ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
        var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
    })();
    </script>
<script type="text/javascript">
    var disqus_shortname = 'suhenorg';
    (function () {
        var s = document.createElement('script'); s.async = true;
        s.type = 'text/javascript';
        s.src = 'http://' + disqus_shortname + '.disqus.com/count.js';
        (document.getElementsByTagName('HEAD')[0] || document.getElementsByTagName('BODY')[0]).appendChild(s);
    }());
</script>
</body>
</html>