<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom"><title>suhen suchen</title><link href="http://blog.suhen.org/" rel="alternate"></link><link href="http://blog.suhen.org/feeds/computer.atom.xml" rel="self"></link><id>http://blog.suhen.org/</id><updated>2014-06-11T12:43:00+08:00</updated><entry><title>[draft] 電子書 / Ebook</title><link href="http://blog.suhen.org/computer/ebook.html" rel="alternate"></link><updated>2014-06-11T12:43:00+08:00</updated><author><name>moogoo</name></author><id>tag:blog.suhen.org,2014-06-11:computer/ebook.html</id><summary type="html">&lt;h1&gt;格式 /format&lt;/h1&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href="http://www.cloud.org.tw/?q=node/6"&gt;電子書專區 | 雲端產業應用推動計畫&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="http://en.wikipedia.org/wiki/Comparison_of_e-book_formats"&gt;Comparison of e-book formats - Wikipedia, the free encyclopedia&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h2&gt;EPUB&lt;/h2&gt;
&lt;p&gt;&lt;a href="http://en.wikipedia.org/wiki/EPUB"&gt;EPUB - Wikipedia, the free encyclopedia&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;epub 其實就是一個 zip 的打包檔:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;mimetype&lt;/li&gt;
&lt;li&gt;META-INF&lt;/li&gt;
&lt;li&gt;OEBPS&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;mimetype zip 檔要放在最前面&lt;/p&gt;
&lt;h3&gt;utils&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;Python EbookLib https://pypi.python.org/pypi/EbookLib/0.15&lt;/li&gt;
&lt;li&gt;Sigil https://github.com/user-none/Sigil , http://www.openfoundry.org/en/foss-programs/8732-sigil-epub-editor&lt;/li&gt;
&lt;li&gt;https://code.google.com/p/python-epub-builder/source/checkout&lt;/li&gt;
&lt;li&gt;https://github.com/knpdarvish/pyepub&lt;/li&gt;
&lt;li&gt;&lt;a href="http://www.webvivant.com/zipping-epub-files.html"&gt;Zipping ePub files - the right way to create ePub zip files ~ WebVivant&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="https://code.google.com/p/epub-applescripts/"&gt;epub-applescripts - AppleScripts for ePub Creation - Google Project Hosting&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h1&gt;ISBN&lt;/h1&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href="https://ebook.ncl.edu.tw/ebookDepositNcl/modules/login.jsp"&gt;EPS&lt;/a&gt; E-Publication Platform System (國家圖書館: 電子書送審)&lt;/li&gt;
&lt;li&gt;&lt;a href="https://www.youtube.com/watch?v=hm5a3y857SE"&gt;▶ 【國家圖書館 數位出版品平台系統】出版單位電子書ISBN申辦與送存作業 - YouTube&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;</summary><category term="note"></category></entry><entry><title>[網路] SSL</title><link href="http://blog.suhen.org/computer/ssl.html" rel="alternate"></link><updated>2014-04-10T18:26:00+08:00</updated><author><name>moogoo</name></author><id>tag:blog.suhen.org,2014-04-10:computer/ssl.html</id><summary type="html">&lt;p&gt;CSR: Certificate Signing Request
CA: Certificate Authority&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href="http://www.sslshopper.com/ssl-checker.html"&gt;SSL Checker - SSL Certificate Verify&lt;/a&gt; 檢查SSL&lt;/li&gt;
&lt;li&gt;&lt;a href="https://www.sslshopper.com/csr-decoder.html"&gt;CSR Decoder - Check CSR to verify its contents&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;</summary><category term="note"></category></entry><entry><title>Corona SDK 筆記</title><link href="http://blog.suhen.org/computer/corona_sdk.html" rel="alternate"></link><updated>2014-02-26T12:13:00+08:00</updated><author><name>moogoo</name></author><id>tag:blog.suhen.org,2014-02-26:computer/corona_sdk.html</id><summary type="html">&lt;h1&gt;API&lt;/h1&gt;
&lt;h2&gt;System&lt;/h2&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span class="n"&gt;system&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="n"&gt;setIdleTimer&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt; &lt;span class="n"&gt;enabled&lt;/span&gt; &lt;span class="p"&gt;)&lt;/span&gt;
&lt;span class="n"&gt;display&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="n"&gt;setStatusBar&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt; &lt;span class="n"&gt;display&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="n"&gt;HiddenStatusBar&lt;/span&gt; &lt;span class="p"&gt;)&lt;/span&gt;
&lt;span class="nb"&gt;collectgarbage&lt;/span&gt;&lt;span class="p"&gt;()&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;h2&gt;Event / Timer&lt;/h2&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span class="n"&gt;AnimTimer&lt;/span&gt;  &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;timer&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="n"&gt;performWithDelay&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="mi"&gt;1&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;V&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="n"&gt;PAnimate&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="mi"&gt;0&lt;/span&gt; &lt;span class="p"&gt;)&lt;/span&gt;
&lt;span class="n"&gt;timer&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="n"&gt;cancel&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;AnimTimer&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;h2&gt;Network&lt;/h2&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span class="kd"&gt;local&lt;/span&gt; &lt;span class="k"&gt;function&lt;/span&gt; &lt;span class="nf"&gt;networkListener&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt; &lt;span class="n"&gt;event&lt;/span&gt; &lt;span class="p"&gt;)&lt;/span&gt;
    &lt;span class="k"&gt;if&lt;/span&gt; &lt;span class="p"&gt;(&lt;/span&gt; &lt;span class="n"&gt;event&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="n"&gt;isError&lt;/span&gt; &lt;span class="p"&gt;)&lt;/span&gt; &lt;span class="k"&gt;then&lt;/span&gt;
            &lt;span class="nb"&gt;print&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt; &lt;span class="s2"&gt;&amp;quot;&lt;/span&gt;&lt;span class="s"&gt;Network error!&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
    &lt;span class="k"&gt;else&lt;/span&gt;
            &lt;span class="nb"&gt;print&lt;/span&gt; &lt;span class="p"&gt;(&lt;/span&gt; &lt;span class="s2"&gt;&amp;quot;&lt;/span&gt;&lt;span class="s"&gt;RESPONSE: &amp;quot;&lt;/span&gt; &lt;span class="o"&gt;..&lt;/span&gt; &lt;span class="n"&gt;event&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="n"&gt;response&lt;/span&gt; &lt;span class="p"&gt;)&lt;/span&gt;
    &lt;span class="k"&gt;end&lt;/span&gt;
&lt;span class="k"&gt;end&lt;/span&gt;

&lt;span class="c1"&gt;-- Access Google over SSL:&lt;/span&gt;
&lt;span class="n"&gt;network&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="n"&gt;request&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt; &lt;span class="s2"&gt;&amp;quot;&lt;/span&gt;&lt;span class="s"&gt;https://encrypted.google.com&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="s2"&gt;&amp;quot;&lt;/span&gt;&lt;span class="s"&gt;GET&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;networkListener&lt;/span&gt; &lt;span class="p"&gt;)&lt;/span&gt;

&lt;span class="c1"&gt;-- link to market&lt;/span&gt;
&lt;span class="n"&gt;system&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="n"&gt;openURL&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt; &lt;span class="s2"&gt;&amp;quot;&lt;/span&gt;&lt;span class="s"&gt;market://details?id=com.yourdoman.packagename&amp;quot;&lt;/span&gt; &lt;span class="p"&gt;)&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;h2&gt;locale&lt;/h2&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span class="nb"&gt;print&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s2"&gt;&amp;quot;&lt;/span&gt;&lt;span class="s"&gt;ui.language&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="n"&gt;system&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="n"&gt;getPreference&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt; &lt;span class="s2"&gt;&amp;quot;&lt;/span&gt;&lt;span class="s"&gt;ui&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="s2"&gt;&amp;quot;&lt;/span&gt;&lt;span class="s"&gt;language&amp;quot;&lt;/span&gt; &lt;span class="p"&gt;))&lt;/span&gt;
&lt;span class="nb"&gt;print&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s2"&gt;&amp;quot;&lt;/span&gt;&lt;span class="s"&gt;locale.country&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="n"&gt;system&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="n"&gt;getPreference&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt; &lt;span class="s2"&gt;&amp;quot;&lt;/span&gt;&lt;span class="s"&gt;locale&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="s2"&gt;&amp;quot;&lt;/span&gt;&lt;span class="s"&gt;country&amp;quot;&lt;/span&gt; &lt;span class="p"&gt;))&lt;/span&gt;
&lt;span class="nb"&gt;print&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s2"&gt;&amp;quot;&lt;/span&gt;&lt;span class="s"&gt;locale.identifier&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="n"&gt;system&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="n"&gt;getPreference&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt; &lt;span class="s2"&gt;&amp;quot;&lt;/span&gt;&lt;span class="s"&gt;locale&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="s2"&gt;&amp;quot;&lt;/span&gt;&lt;span class="s"&gt;identifier&amp;quot;&lt;/span&gt; &lt;span class="p"&gt;))&lt;/span&gt;
&lt;span class="nb"&gt;print&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s2"&gt;&amp;quot;&lt;/span&gt;&lt;span class="s"&gt;locale.language&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="n"&gt;system&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="n"&gt;getPreference&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt; &lt;span class="s2"&gt;&amp;quot;&lt;/span&gt;&lt;span class="s"&gt;locale&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="s2"&gt;&amp;quot;&lt;/span&gt;&lt;span class="s"&gt;language&amp;quot;&lt;/span&gt; &lt;span class="p"&gt;))&lt;/span&gt;


&lt;span class="c1"&gt;-- iOS:&lt;/span&gt;
&lt;span class="c1"&gt;-- &amp;gt; ui.language     zh-Hant&lt;/span&gt;
&lt;span class="c1"&gt;-- &amp;gt; locale.country     TW&lt;/span&gt;
&lt;span class="c1"&gt;-- &amp;gt; locale.identifier     zh_TW&lt;/span&gt;
&lt;span class="c1"&gt;-- &amp;gt; locale.language     zh&lt;/span&gt;

&lt;span class="c1"&gt;-- Android:&lt;/span&gt;
&lt;span class="c1"&gt;-- &amp;gt; ui.language  中文&lt;/span&gt;
&lt;span class="c1"&gt;-- &amp;gt; locale.country       TW&lt;/span&gt;
&lt;span class="c1"&gt;-- &amp;gt; locale.identifier    zh_TW&lt;/span&gt;
&lt;span class="c1"&gt;-- &amp;gt; locale.language      zh&lt;/span&gt;

&lt;span class="c1"&gt;-- &amp;gt; ui.language  日本語&lt;/span&gt;
&lt;span class="c1"&gt;-- &amp;gt; locale.country       JP&lt;/span&gt;
&lt;span class="c1"&gt;-- &amp;gt; locale.identifier    ja_JP&lt;/span&gt;
&lt;span class="c1"&gt;-- &amp;gt; locale.language      ja&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;在iPad上測試: locale.* 不管語系怎麼設定, 都會是zh_TW (綁帳號?),&lt;/p&gt;
&lt;h2&gt;Setting&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href="http://docs.coronalabs.com/guide/basics/configSettings/"&gt;Corona Docs: guide &amp;gt; basics &amp;gt; configSettings&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;scale:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;letterbox: 等比例縮放, 把所有內容放入screen內, 所以會有"空白"跑出來, 可以用大一點的背景圖填滿&lt;/li&gt;
&lt;li&gt;zoomEven: 等比例縮放, 內容可能會"凸"出去&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;zoomStretch: 適應螢幕大小縮放, 比例會跑掉&lt;/p&gt;
&lt;p&gt;:::lua
display.screenOriginX
width = 320
height = 480
-- letterbox時, 到iPad上會左右多出20, display.screenOriginX = -20
-- 座標x會以實際上20的地方當起始0。所以如果用預設中間對齊，就不用調整。&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;h2&gt;update API&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href="http://coronalabs.com/blog/2014/06/03/tutorial-understanding-the-composer-api/"&gt;Tutorial: Understanding the Composer API | Corona Labs&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="http://coronalabs.com/blog/2013/10/15/tutorial-anchor-points-in-graphics-2-0/"&gt;Tutorial: Anchor Points in Graphics 2.0 | Corona Labs&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h1&gt;Snippets&lt;/h1&gt;
&lt;ul&gt;
&lt;li&gt;存檔 https://github.com/SatheeshJM/Lua-Preference-Library&lt;/li&gt;
&lt;li&gt;整理常用 https://github.com/moogoo78/qll-corona-toolkit&lt;/li&gt;
&lt;li&gt;&lt;a href="http://coronalabs.com/blog/2014/09/02/tutorial-printing-table-contents/"&gt;Tutorial: Printing Table Contents | Corona Labs&lt;/a&gt; print_r()&lt;/li&gt;
&lt;/ul&gt;
&lt;h1&gt;Best Practice&lt;/h1&gt;
&lt;p&gt;&lt;strong&gt;native.newTextField&lt;/strong&gt; 字體大小在 Android 會變大, 所以遇到 Android 要縮小一點 (textfield 高度也提高)&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span class="kd"&gt;local&lt;/span&gt; &lt;span class="n"&gt;isAndroid&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="s2"&gt;&amp;quot;&lt;/span&gt;&lt;span class="s"&gt;Android&amp;quot;&lt;/span&gt; &lt;span class="o"&gt;==&lt;/span&gt; &lt;span class="n"&gt;system&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="n"&gt;getInfo&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s2"&gt;&amp;quot;&lt;/span&gt;&lt;span class="s"&gt;platformName&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;span class="kd"&gt;local&lt;/span&gt; &lt;span class="n"&gt;inputFontSize&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="mi"&gt;18&lt;/span&gt;
&lt;span class="n"&gt;tHeight&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="mi"&gt;30&lt;/span&gt;

&lt;span class="k"&gt;if&lt;/span&gt; &lt;span class="n"&gt;isAndroid&lt;/span&gt; &lt;span class="k"&gt;then&lt;/span&gt;
&lt;span class="c1"&gt;-- Android text fields have more chrome. It&amp;#39;s either make them bigger, or make the font smaller.&lt;/span&gt;
    &lt;span class="n"&gt;inputFontSize&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="mi"&gt;14&lt;/span&gt;
    &lt;span class="n"&gt;tHeight&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="mi"&gt;40&lt;/span&gt;
&lt;span class="k"&gt;end&lt;/span&gt;

&lt;span class="n"&gt;defaultField&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;native&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="n"&gt;newTextField&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt; &lt;span class="mi"&gt;10&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="mi"&gt;30&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="mi"&gt;180&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;tHeight&lt;/span&gt; &lt;span class="p"&gt;)&lt;/span&gt;
&lt;span class="n"&gt;defaultField&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="n"&gt;font&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;native&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="n"&gt;newFont&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt; &lt;span class="n"&gt;native&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="n"&gt;systemFontBold&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;inputFontSize&lt;/span&gt; &lt;span class="p"&gt;)&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;h1&gt;串接facebook&lt;/h1&gt;
&lt;ol&gt;
&lt;li&gt;facebook app id
   先到developers.facebook.com產生一個app，取得app id&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;設定&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Android
  keyhash - 如果是android的話，需要產生keyhash，回填到developers.facebook.com的app&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;可以用corona sdk提供的debug.keystore&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;/Applications/CoronaSDK/Resource Library/Android/debug.keystore
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;在mac上用JavaVM提供的keytool指令，產生android的keyhash&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;/System/Library/Frameworks/JavaVM.framework/Versions/A/Commands/keytool -exportcert -alias androiddebugkey -keystore /path/to/debug.keystore | openssl sha1 -binary | openssl base64
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;如果keyhash有問題的話，可以在裝置上看debug log，會出現:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;Key hash [這一串是keyhash] does not match any stored key hashes.
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;也可以拿來回填~&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;補充&lt;/strong&gt;:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;# 列出alias
keytool -list -keystore foo.keystore
# 產生keystore
keytool -genkey -v -keystore mykeystore.keystore -alias aliasname -keyalg RSA -validity 999999
&lt;/pre&gt;&lt;/div&gt;


&lt;h2&gt;iOS&lt;/h2&gt;
&lt;p&gt;build.settings:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span class="n"&gt;settings&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt;
&lt;span class="p"&gt;{&lt;/span&gt;
   &lt;span class="n"&gt;iphone&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt;
   &lt;span class="p"&gt;{&lt;/span&gt;
      &lt;span class="n"&gt;plist&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt;
      &lt;span class="p"&gt;{&lt;/span&gt;
         &lt;span class="n"&gt;UIApplicationExitsOnSuspend&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="kc"&gt;false&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;
         &lt;span class="n"&gt;FacebookAppID&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="s2"&gt;&amp;quot;&lt;/span&gt;&lt;span class="s"&gt;934738748374738&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;
         &lt;span class="n"&gt;CFBundleURLTypes&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt;
         &lt;span class="p"&gt;{&lt;/span&gt;
            &lt;span class="p"&gt;{&lt;/span&gt;
               &lt;span class="n"&gt;CFBundleURLSchemes&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt;
               &lt;span class="p"&gt;{&lt;/span&gt;
                  &lt;span class="s2"&gt;&amp;quot;&lt;/span&gt;&lt;span class="s"&gt;fb934738748374738&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;
               &lt;span class="p"&gt;}&lt;/span&gt;
            &lt;span class="p"&gt;}&lt;/span&gt;
         &lt;span class="p"&gt;}&lt;/span&gt;
      &lt;span class="p"&gt;},&lt;/span&gt;
   &lt;span class="p"&gt;},&lt;/span&gt; 
&lt;span class="p"&gt;}&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;&lt;a href="http://coronalabs.com/blog/2013/07/30/understanding-facebook-authentication/"&gt;Understanding Facebook Authentication | Corona Labs&lt;/a&gt;&lt;/p&gt;</summary></entry><entry><title>裝置</title><link href="http://blog.suhen.org/computer/mobile_develop.html" rel="alternate"></link><updated>2014-02-17T13:15:00+08:00</updated><author><name>moogoo</name></author><id>tag:blog.suhen.org,2014-02-17:computer/mobile_develop.html</id><summary type="html">&lt;h1&gt;iOS&lt;/h1&gt;
&lt;p&gt;AppStore link 規範 &lt;a href="https://developer.apple.com/library/ios/qa/qa1633/_index.html"&gt;Technical Q&amp;amp;A QA1633: Creating easy-to-read short links to the App Store for your apps and company&lt;/a&gt;&lt;/p&gt;
&lt;h1&gt;Android&lt;/h1&gt;
&lt;p&gt;Android
&lt;a href="http://developer.android.com/guide/practices/screens_support.html"&gt;Supporting Multiple Screens | Android Developers&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;&lt;a href="http://www.emirweb.com/ScreenDeviceStatistics.php"&gt;EmirWeb&lt;/a&gt;&lt;/p&gt;
&lt;h1&gt;dev tools&lt;/h1&gt;
&lt;h2&gt;CoronaSDK&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href="http://coronalabs.com/blog/2014/06/19/avoiding-app-rejection-from-apple/"&gt;Avoiding App Rejection from Apple | Corona Labs&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;</summary><category term="mobile"></category></entry><entry><title></title><link href="http://blog.suhen.org/computer/web_develop.html" rel="alternate"></link><updated>2013-12-18T18:08:00+08:00</updated><author><name>moogoo</name></author><id>tag:blog.suhen.org,2013-12-18:computer/web_develop.html</id><summary type="html">&lt;h1&gt;名詞&lt;/h1&gt;
&lt;p&gt;Webhooks: "user-defined HTTP callbacks"&lt;/p&gt;
&lt;h1&gt;Frontend&lt;/h1&gt;
&lt;h2&gt;CSS&lt;/h2&gt;
&lt;h3&gt;基本語法&lt;/h3&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span class="nt"&gt;border&lt;/span&gt;&lt;span class="nd"&gt;:5px&lt;/span&gt; &lt;span class="nt"&gt;solid&lt;/span&gt; &lt;span class="nt"&gt;red&lt;/span&gt;&lt;span class="o"&gt;;&lt;/span&gt; &lt;span class="c"&gt;/* 常用style: none, dotted, dashed, solid, double */&lt;/span&gt;
&lt;span class="nt"&gt;tr&lt;/span&gt;&lt;span class="nd"&gt;:nth-child&lt;/span&gt;&lt;span class="o"&gt;(&lt;/span&gt;&lt;span class="nt"&gt;odd&lt;/span&gt;&lt;span class="o"&gt;)&lt;/span&gt; &lt;span class="p"&gt;{&lt;/span&gt; &lt;span class="k"&gt;background-color&lt;/span&gt;&lt;span class="o"&gt;:&lt;/span&gt;&lt;span class="m"&gt;#99ff99&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt; &lt;span class="p"&gt;}&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;ul&gt;
&lt;li&gt;&lt;a href="http://www.w3schools.com/css/css_border.asp"&gt;CSS Border&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="http://dev.opera.com/articles/view/zebra-striping-tables-with-css3/"&gt;Zebra striping tables with CSS3 - Dev.Opera&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h3&gt;position, box&lt;/h3&gt;
&lt;p&gt;layout (float, clear):&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span class="o"&gt;|===========&lt;/span&gt; &lt;span class="n"&gt;header&lt;/span&gt; &lt;span class="o"&gt;==========|&lt;/span&gt;
&lt;span class="o"&gt;|&lt;/span&gt;                             &lt;span class="o"&gt;|&lt;/span&gt;
&lt;span class="o"&gt;|==&lt;/span&gt; &lt;span class="n"&gt;section&lt;/span&gt; &lt;span class="o"&gt;==|&lt;/span&gt; &lt;span class="o"&gt;|==&lt;/span&gt; &lt;span class="n"&gt;section&lt;/span&gt; &lt;span class="o"&gt;==|&lt;/span&gt;
&lt;span class="o"&gt;|&lt;/span&gt; &lt;span class="kt"&gt;float&lt;/span&gt;&lt;span class="o"&gt;:&lt;/span&gt; &lt;span class="n"&gt;left&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;   &lt;span class="kt"&gt;float&lt;/span&gt;&lt;span class="o"&gt;:&lt;/span&gt; &lt;span class="n"&gt;right&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;&lt;span class="o"&gt;|&lt;/span&gt;
&lt;span class="o"&gt;|===========&lt;/span&gt; &lt;span class="n"&gt;footer&lt;/span&gt; &lt;span class="o"&gt;==========|&lt;/span&gt;
&lt;span class="o"&gt;|&lt;/span&gt;          &lt;span class="n"&gt;clear&lt;/span&gt;&lt;span class="o"&gt;:&lt;/span&gt;&lt;span class="n"&gt;both&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;        &lt;span class="o"&gt;|&lt;/span&gt;
&lt;span class="o"&gt;|-----------------------------|&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;style:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span class="nt"&gt;section&lt;/span&gt; &lt;span class="p"&gt;{&lt;/span&gt;
    &lt;span class="k"&gt;float&lt;/span&gt;&lt;span class="o"&gt;:&lt;/span&gt; &lt;span class="k"&gt;left&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;
    &lt;span class="k"&gt;margin&lt;/span&gt;&lt;span class="o"&gt;:&lt;/span&gt; &lt;span class="m"&gt;10px&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;
    &lt;span class="k"&gt;width&lt;/span&gt;&lt;span class="o"&gt;:&lt;/span&gt; &lt;span class="m"&gt;600px&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;
&lt;span class="p"&gt;}&lt;/span&gt;
&lt;span class="nt"&gt;aside&lt;/span&gt; &lt;span class="p"&gt;{&lt;/span&gt;
    &lt;span class="k"&gt;float&lt;/span&gt;&lt;span class="o"&gt;:&lt;/span&gt; &lt;span class="k"&gt;right&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;
    &lt;span class="k"&gt;margin&lt;/span&gt;&lt;span class="o"&gt;:&lt;/span&gt; &lt;span class="m"&gt;10px&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;
    &lt;span class="k"&gt;width&lt;/span&gt;&lt;span class="o"&gt;:&lt;/span&gt; &lt;span class="m"&gt;320px&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;
&lt;span class="p"&gt;}&lt;/span&gt;
&lt;span class="nt"&gt;footer&lt;/span&gt; &lt;span class="p"&gt;{&lt;/span&gt;
    &lt;span class="k"&gt;clear&lt;/span&gt;&lt;span class="o"&gt;:&lt;/span&gt; &lt;span class="k"&gt;both&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;
&lt;span class="p"&gt;}&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;css:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span class="nc"&gt;.center&lt;/span&gt; &lt;span class="p"&gt;{&lt;/span&gt;
    &lt;span class="k"&gt;width&lt;/span&gt;&lt;span class="o"&gt;:&lt;/span&gt;&lt;span class="n"&gt;xxxpx&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;&lt;span class="k"&gt;margin-left&lt;/span&gt;&lt;span class="o"&gt;:&lt;/span&gt;&lt;span class="k"&gt;auto&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;&lt;span class="k"&gt;margin-right&lt;/span&gt;&lt;span class="o"&gt;:&lt;/span&gt;&lt;span class="k"&gt;auto&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;
&lt;span class="p"&gt;}&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;h3&gt;應用&lt;/h3&gt;
&lt;p&gt;圖片塞滿browser
* &lt;a href="http://paulmason.name/item/full-screen-background-image-pure-css-code"&gt;Full Screen Background Image - Pure CSS Code&lt;/a&gt;&lt;/p&gt;
&lt;h2&gt;JavaScript&lt;/h2&gt;
&lt;h3&gt;jQuery&lt;/h3&gt;
&lt;p&gt;(DOM) ready:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span class="nx"&gt;$&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt; &lt;span class="nb"&gt;document&lt;/span&gt; &lt;span class="p"&gt;).&lt;/span&gt;&lt;span class="nx"&gt;ready&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="kd"&gt;function&lt;/span&gt;&lt;span class="p"&gt;()&lt;/span&gt; &lt;span class="p"&gt;{&lt;/span&gt;
&lt;span class="c1"&gt;// Handler for .ready() called.&lt;/span&gt;
&lt;span class="p"&gt;});&lt;/span&gt;


&lt;span class="nx"&gt;$&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="kd"&gt;function&lt;/span&gt;&lt;span class="p"&gt;()&lt;/span&gt; &lt;span class="p"&gt;{&lt;/span&gt;
&lt;span class="c1"&gt;// Handler for .ready() called.&lt;/span&gt;
&lt;span class="p"&gt;});&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;h2&gt;工具&lt;/h2&gt;
&lt;h3&gt;layout&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href="http://www.placehold.it/"&gt;Placehold.it - Quick and simple image placeholders&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="https://gomockingbird.com/mockingbird/"&gt;Mockingbird&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h3&gt;color&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href="http://nipponcolors.com/"&gt;NIPPON COLORS - 日本の伝統色&lt;/a&gt; (Firefox有問題)&lt;/li&gt;
&lt;/ul&gt;
&lt;h3&gt;Font&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href="http://chengyinliu.com/whatfont.html"&gt;WhatFont Tool - The easiest way to inspect fonts in webpages « Chengyin Liu&lt;/a&gt; 方便看網頁字體的bookmarklet&lt;/li&gt;
&lt;/ul&gt;
&lt;h3&gt;資源&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href="http://copypastecharacter.com/"&gt;✿ Our favorite set — CopyPasteCharacter.com&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="http://thenounproject.com/"&gt;NounProject&lt;/a&gt; 剪影 icon&lt;/li&gt;
&lt;/ul&gt;
&lt;h1&gt;Backend&lt;/h1&gt;
&lt;h2&gt;service / daemon&lt;/h2&gt;
&lt;h3&gt;uwsgi&lt;/h3&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span class="cp"&gt;# kill existing uwsgi&lt;/span&gt;
&lt;span class="n"&gt;ps&lt;/span&gt; &lt;span class="n"&gt;aux&lt;/span&gt;&lt;span class="o"&gt;|&lt;/span&gt;&lt;span class="n"&gt;grep&lt;/span&gt; &lt;span class="n"&gt;uwsgi&lt;/span&gt; &lt;span class="o"&gt;|&lt;/span&gt;&lt;span class="n"&gt;awk&lt;/span&gt; &lt;span class="err"&gt;&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;{&lt;/span&gt; &lt;span class="n"&gt;print&lt;/span&gt; &lt;span class="err"&gt;$&lt;/span&gt;&lt;span class="mi"&gt;2&lt;/span&gt;&lt;span class="p"&gt;}&lt;/span&gt;&lt;span class="err"&gt;&amp;#39;&lt;/span&gt; &lt;span class="o"&gt;|&lt;/span&gt; &lt;span class="n"&gt;xargs&lt;/span&gt; &lt;span class="o"&gt;--&lt;/span&gt;&lt;span class="n"&gt;no&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;run&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="k"&gt;if&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;empty&lt;/span&gt; &lt;span class="n"&gt;sudo&lt;/span&gt; &lt;span class="n"&gt;kill&lt;/span&gt; &lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="mi"&gt;9&lt;/span&gt;
&lt;span class="n"&gt;sleep&lt;/span&gt; &lt;span class="mi"&gt;1&lt;/span&gt;
&lt;span class="cp"&gt;# start with virtualhost setting&lt;/span&gt;
&lt;span class="n"&gt;sudo&lt;/span&gt; &lt;span class="n"&gt;uwsgi&lt;/span&gt; &lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;s&lt;/span&gt; &lt;span class="o"&gt;:&lt;/span&gt;&lt;span class="mi"&gt;9090&lt;/span&gt; &lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;M&lt;/span&gt; &lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;p&lt;/span&gt; &lt;span class="mi"&gt;4&lt;/span&gt; &lt;span class="o"&gt;--&lt;/span&gt;&lt;span class="n"&gt;vhost&lt;/span&gt; &lt;span class="o"&gt;&amp;amp;&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;h3&gt;PHP&lt;/h3&gt;
&lt;p&gt;PHP session:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span class="o"&gt;/&lt;/span&gt;&lt;span class="n"&gt;var&lt;/span&gt;&lt;span class="o"&gt;/&lt;/span&gt;&lt;span class="n"&gt;lib&lt;/span&gt;&lt;span class="o"&gt;/&lt;/span&gt;&lt;span class="n"&gt;php&lt;/span&gt;&lt;span class="o"&gt;/&lt;/span&gt;&lt;span class="n"&gt;session&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;php start:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span class="n"&gt;sudo&lt;/span&gt; &lt;span class="o"&gt;/&lt;/span&gt;&lt;span class="n"&gt;etc&lt;/span&gt;&lt;span class="o"&gt;/&lt;/span&gt;&lt;span class="n"&gt;init&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="n"&gt;d&lt;/span&gt;&lt;span class="o"&gt;/&lt;/span&gt;&lt;span class="n"&gt;php_cgi&lt;/span&gt; &lt;span class="n"&gt;start&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;h2&gt;Performance&lt;/h2&gt;
&lt;h3&gt;ab&lt;/h3&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span class="n"&gt;ab&lt;/span&gt; &lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;k&lt;/span&gt; &lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;c&lt;/span&gt; &lt;span class="mi"&gt;1000&lt;/span&gt; &lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;n&lt;/span&gt; &lt;span class="mi"&gt;1000&lt;/span&gt; &lt;span class="n"&gt;http&lt;/span&gt;&lt;span class="o"&gt;:&lt;/span&gt;&lt;span class="c1"&gt;//testme.com&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;參數:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;k: HTTP Keep Alive
c: concurrency (同時連線)
n: num of requests (測試的request總數, 用完就結束)
t: timelimit
p: postfile
T: content-type
h: help
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;http://www.teachparentstech.org/images/checkbox.gif&lt;/p&gt;
&lt;h1&gt;content .boxlabel{&lt;/h1&gt;
&lt;p&gt;color:#999;
background: url(../images/checkbox.gif) no-repeat00;
height: 28px;
padding-left: 20px;
padding-right:10px;
cursor: pointer;
}&lt;/p&gt;
&lt;h1&gt;content .boxlabel.selected{&lt;/h1&gt;
&lt;p&gt;color: rgb(32, 25, 25);
background-position:0-42px;
}&lt;/p&gt;
&lt;!--

架構
-----------
* `HTML5 &amp; CSS3 Fundamentals: Development for Absolute Beginners | Channel 9 &lt;http://channel9.msdn.com/Series/HTML5-CSS3-Fundamentals-Development-for-Absolute-Beginners&gt;`__ 初學課程video
* `An Advanced Guide to HTML &amp; CSS &lt;http://learn.shayhowe.com/advanced-html-css/&gt;`__ 進階架構
* `The truth about structuring an HTML5 page | Feature | .net magazine &lt;http://www.netmagazine.com/features/truth-about-structuring-html5-page&gt;`__

屬性細節
-----------

* `» 你從未瞭解過的 z-index | iCoding &lt;http://www.icoding.co/2013/06/knowledge-about-z-index-2&gt;`__
--&gt;

&lt;h1&gt;WebServer&lt;/h1&gt;
&lt;p&gt;Mac apache folder:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span class="o"&gt;/&lt;/span&gt;&lt;span class="n"&gt;Library&lt;/span&gt;&lt;span class="o"&gt;/&lt;/span&gt;&lt;span class="n"&gt;WebServer&lt;/span&gt;&lt;span class="o"&gt;/&lt;/span&gt;&lt;span class="n"&gt;Documents&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;</summary><category term="html"></category><category term="css"></category></entry><entry><title>Deploying Flask (Python) to AWS Elastic Beanstalk</title><link href="http://blog.suhen.org/computer/aws_elastic_beanstalk_flask.html" rel="alternate"></link><updated>2013-11-12T17:31:00+08:00</updated><author><name>moogoo</name></author><id>tag:blog.suhen.org,2013-11-12:computer/aws_elastic_beanstalk_flask.html</id><summary type="html">&lt;h1&gt;quickstart&lt;/h1&gt;
&lt;h2&gt;1. 安裝eb commend tools&lt;/h2&gt;
&lt;p&gt;下載: &lt;a href="http://aws.amazon.com/code/6752709412171743"&gt;AWS Elastic Beanstalk Command Line Tool : Sample Code &amp;amp; Libraries : Amazon Web Services&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;設定好路徑(以mac為例), 就可以開始了&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;AWS-ElasticBeanstalk-CLI-2.5.1/eb/macosx/python2.7/eb

&lt;span class="c"&gt;# 環境變數, 可以在shell下export或是寫在~/.elasticbeanstalk/aws_credential_file裡 (忘記是我自己加的還是eb工具自動加的)&lt;/span&gt;
&lt;span class="nv"&gt;AWSAccessKeyId&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;Write your AWS access ID
&lt;span class="nv"&gt;AWSSecretKey&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;Write your AWS secret key
&lt;/pre&gt;&lt;/div&gt;


&lt;h2&gt;2. 準備部署&lt;/h2&gt;
&lt;h3&gt;WSGI&lt;/h3&gt;
&lt;p&gt;預設是application.py:application, 自己要改application.py名字失敗..&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;[aws:elasticbeanstalk:container:python]
...
WSGIPath=my_fail_wsgi
eb update?
&lt;/pre&gt;&lt;/div&gt;


&lt;h3&gt;連接原本的RDS&lt;/h3&gt;
&lt;p&gt;要去RDS的security group那裡新增一個(因為等於是開了一個新的EC2)，通常是awseb-xxx 開頭的&lt;/p&gt;
&lt;h3&gt;Elastic Beanstalk沒有filesystem&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;所以原本的media檔要改存到S3&lt;/li&gt;
&lt;li&gt;原本logger有自己存檔, 也要取消 (反正會出現在eb的log裡)&lt;/li&gt;
&lt;/ul&gt;
&lt;h2&gt;3. 跑起來&lt;/h2&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span class="c"&gt;# 在git目錄下操作, 如果沒有repo就會叫你git init&lt;/span&gt;
eb init
&lt;span class="c"&gt;# 會有選單, 開始勾選&lt;/span&gt;
&lt;span class="c"&gt;# 平台選這個&lt;/span&gt;
64bit Amazon Linux 2013.09 running Python 2.7
&lt;span class="c"&gt;# 勾完後, 就可以啟動餓了&lt;/span&gt;
eb start
&lt;span class="c"&gt;# 問你要用那個version deploy, 預設最新的&lt;/span&gt;
&lt;span class="c"&gt;# 等個幾分鐘&lt;/span&gt;

&lt;span class="c"&gt;# 改程式後git commit&lt;/span&gt;
&lt;span class="c"&gt;# git aws.push -&amp;gt; 自動傳到eb環境&lt;/span&gt;

&lt;span class="c"&gt;# 其他指令&lt;/span&gt;
eb status --verbose
&lt;/pre&gt;&lt;/div&gt;


&lt;h2&gt;其他設定&lt;/h2&gt;
&lt;h3&gt;環境設定&lt;/h3&gt;
&lt;p&gt;產生 &lt;strong&gt;.ebextensions&lt;/strong&gt;目錄, 新增 python.config:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span class="nl"&gt;option_settings:&lt;/span&gt;
  &lt;span class="s"&gt;&amp;quot;aws:elasticbeanstalk:container:python:staticfiles&amp;quot;&lt;/span&gt;&lt;span class="o"&gt;:&lt;/span&gt;
    &lt;span class="s"&gt;&amp;quot;/static/&amp;quot;&lt;/span&gt;&lt;span class="o"&gt;:&lt;/span&gt; &lt;span class="s"&gt;&amp;quot;myapp/static/&amp;quot;&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;ul&gt;
&lt;li&gt;&lt;a href="http://docs.aws.amazon.com/elasticbeanstalk/latest/dg/command-options.html#command-options-python"&gt;Option Values - AWS Elastic Beanstalk&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h3&gt;custom domain&lt;/h3&gt;
&lt;p&gt;到原domain註冊商去加一筆CNAME, 指到EB提供的public url&lt;/p&gt;
&lt;h3&gt;HTTPS&lt;/h3&gt;
&lt;h4&gt;1. startssl申請: 產生 ssl.crt, ssl.key (encrypted), 還有一組密碼&lt;/h4&gt;
&lt;p&gt;&lt;a href="http://blog.miniasp.com/post/2013/01/10/The-Complete-Guide-Free-StartSSL-personal-and-web-site-ssl-tls-certificates.aspx"&gt;The Will Will Web | 免費申請 StartSSL™ 個人數位簽章與網站 SSL 憑證完全攻略&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;產生private key:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span class="n"&gt;openssl&lt;/span&gt; &lt;span class="n"&gt;rsa&lt;/span&gt; &lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;in&lt;/span&gt; &lt;span class="n"&gt;ssl&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="n"&gt;key&lt;/span&gt; &lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;out&lt;/span&gt; &lt;span class="n"&gt;private&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="n"&gt;key&lt;/span&gt; &lt;span class="err"&gt;#&lt;/span&gt; &lt;span class="err"&gt;要求輸入那一組密碼&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;&lt;strong&gt;無效(self signed cert.):&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;private key:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span class="n"&gt;openssl&lt;/span&gt; &lt;span class="n"&gt;genrsa&lt;/span&gt; &lt;span class="mi"&gt;1024&lt;/span&gt; &lt;span class="o"&gt;&amp;gt;&lt;/span&gt; &lt;span class="n"&gt;privatekey&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="n"&gt;pem&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;cert. pem:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span class="n"&gt;openssl&lt;/span&gt; &lt;span class="n"&gt;req&lt;/span&gt; &lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;new&lt;/span&gt; &lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;key&lt;/span&gt; &lt;span class="n"&gt;privatekey&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="n"&gt;pem&lt;/span&gt; &lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;out&lt;/span&gt; &lt;span class="n"&gt;csr&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="n"&gt;pem&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;server cert:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span class="n"&gt;openssl&lt;/span&gt; &lt;span class="n"&gt;x509&lt;/span&gt; &lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;req&lt;/span&gt; &lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;days&lt;/span&gt; &lt;span class="mi"&gt;365&lt;/span&gt; &lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;in&lt;/span&gt; &lt;span class="n"&gt;csr&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="n"&gt;pem&lt;/span&gt; &lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;signkey&lt;/span&gt; &lt;span class="n"&gt;privatekey&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="n"&gt;pem&lt;/span&gt; &lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;out&lt;/span&gt; &lt;span class="n"&gt;server&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="n"&gt;crt&lt;/span&gt; &lt;span class="err"&gt;#&lt;/span&gt; &lt;span class="err"&gt;會問一些問題&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;h4&gt;2. 設定到AWS&lt;/h4&gt;
&lt;p&gt;下載 iam 命令列:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span class="n"&gt;pip&lt;/span&gt; &lt;span class="n"&gt;install&lt;/span&gt; &lt;span class="n"&gt;awscli&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;執行前要先:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span class="n"&gt;aws&lt;/span&gt; &lt;span class="n"&gt;configure&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;輸入 id, sec key,&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span class="n"&gt;iam&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;servercertupload&lt;/span&gt; &lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;b&lt;/span&gt; &lt;span class="n"&gt;server&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="n"&gt;crt&lt;/span&gt; &lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;k&lt;/span&gt; &lt;span class="n"&gt;privatekey&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="n"&gt;pem&lt;/span&gt; &lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;s&lt;/span&gt; &lt;span class="n"&gt;server&lt;/span&gt; &lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;v&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;[[TODO]]&lt;/p&gt;
&lt;p&gt;然後AWS Management Console選EC2, load-balancer加入https (對應instance是http): SSL Certificate填入剛才的ssl.key, private.key&lt;/p&gt;
&lt;p&gt;&lt;a href="http://docs.aws.amazon.com/elasticbeanstalk/latest/dg/configuring-https.html"&gt;Configuring HTTPS for your AWS Elastic Beanstalk Environment - AWS Elastic Beanstalk&lt;/a&gt;&lt;/p&gt;
&lt;h3&gt;參考&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href="http://docs.aws.amazon.com/elasticbeanstalk/latest/dg/create_deploy_Python_flask.html"&gt;Deploying a Flask Application to AWS Elastic Beanstalk - AWS Elastic Beanstalk&lt;/a&gt; &lt;/li&gt;
&lt;li&gt;&lt;a href="http://aws.amazon.com/elasticbeanstalk/faqs/"&gt;AWS Elastic Beanstalk FAQs&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="http://docs.aws.amazon.com/elasticbeanstalk/latest/dg/AWSHowTo.RDS.html"&gt;Using AWS Elastic Beanstalk with Amazon RDS - AWS Elastic Beanstalk&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h2&gt;eb stop / delete&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;rds的security group要拿掉, 否則會失敗&lt;/li&gt;
&lt;li&gt;如果有eb start有create新的RDS, delete時會把那個RDS也殺掉&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;http://blog.uptill3.com/2012/08/25/python-on-elastic-beanstalk.html
http://stackoverflow.com/questions/14077095/aws-elastic-beanstalk-running-a-cronjob
https://github.com/keithters/elasticbeanstalk-mysql-rds-flask
https://github.com/adamcrosby/elastic-flask-baseline&lt;/p&gt;
&lt;h1&gt;note&lt;/h1&gt;
&lt;ul&gt;
&lt;li&gt;http session -&amp;gt; 用stateless (access token)&lt;/li&gt;
&lt;li&gt;自己存session&lt;/li&gt;
&lt;li&gt;load balance上啓動stick session  (load balance產生一個table),&lt;/li&gt;
&lt;li&gt;memcached session manager&lt;/li&gt;
&lt;li&gt;redis session manager&lt;/li&gt;
&lt;li&gt;amazon DynamoDB session manager&lt;/li&gt;
&lt;/ul&gt;
&lt;h1&gt;message, celery&lt;/h1&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href="http://stackoverflow.com/questions/8048556/celery-with-amazon-sqs"&gt;Celery with Amazon SQS - Stack Overflow&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="http://www.caktusgroup.com/blog/2011/12/19/using-django-and-celery-amazon-sqs/"&gt;Using Django and Celery with Amazon SQS&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h1&gt;問題 / Problems&lt;/h1&gt;
&lt;ul&gt;
&lt;li&gt;requirements.txt 加了 bcrypt 會錯, 因為還要安裝 gcc 跟 libffi&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;.ebextensions/python.config:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;packages:
  yum:
    libffi-devel: []
    gcc: []
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;&lt;a href="https://racingtadpole.com/blog/django-aws-eb-s3/"&gt;Django and Amazon AWS Elastic Beanstalk with S3 | Racing Tadpole&lt;/a&gt;&lt;/p&gt;</summary><category term="flask"></category><category term="aws"></category></entry><entry><title>[Mac] 從Leopard升級到Mavericks</title><link href="http://blog.suhen.org/computer/mac_leopard_mavericks.html" rel="alternate"></link><updated>2013-11-02T00:46:00+08:00</updated><author><name>moogoo</name></author><id>tag:blog.suhen.org,2013-11-02:computer/mac_leopard_mavericks.html</id><summary type="html">&lt;p&gt;家裡一台很舊的iMac，作業系統跑Leopard (OS X 10.5.8)，很多軟體都不支援如 LINE桌面版... ，或是連Chrome都不更新了，倒是Firefox還很照顧這些老電腦...&lt;/p&gt;
&lt;p&gt;最近Mavericks開放免費更新，我的MacBook Air (Lion) 免費升級新的Mavericks後，覺得很好用，實在也很想更新這台iMac，Leopard一般是無法直接升級到Mavericks的，除非花一點錢，先升級成Snow Leopard (OS X 10.6)，才可以免費升級到Mavericks。但是網路上果然有解決方法！！&lt;/p&gt;
&lt;p&gt;參考這篇: &lt;a href="http://www.macworld.com/article/2056564/how-to-install-mavericks-over-leopard.html"&gt;How to install Mavericks over Leopard | Macworld&lt;/a&gt;&lt;/p&gt;
&lt;h1&gt;1. 下載Mavericks&lt;/h1&gt;
&lt;p&gt;我的MacBook Air已經更新10.9了，但還是可以再下載。&lt;/p&gt;
&lt;p&gt;改一個系統檔:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;/System/Library/CoreServices/SystemVersion.plist
# 把10.9的地方改稱10.8
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;然後到iTunes Mavericks官方頁面&lt;a href="https://itunes.apple.com/tw/app/id675248567?mt=12"&gt;Mavericks&lt;/a&gt;就可以"重新"下載了。下載完的檔案會放在 &lt;em&gt;/Applications/Install\ OS\ X\ Mavericks.app&lt;/em&gt;，大概有5G多，iTunes載完會自動跳出安裝視窗，但是先不理他，可以把這個目錄copy到其他地方，不然系統以為安裝完後就會自動殺掉。&lt;/p&gt;
&lt;h1&gt;2. 製作開機磁碟&lt;/h1&gt;
&lt;p&gt;用Terminal打入以下:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;sudo /Applications/Install&lt;span class="se"&gt;\ &lt;/span&gt;OS&lt;span class="se"&gt;\ &lt;/span&gt;X&lt;span class="se"&gt;\ &lt;/span&gt;Mavericks.app/Contents/Resources/createinstallmedia --volume /Volumes/MY_EXTURNAL_HD --applicationpath /Applications/Install&lt;span class="se"&gt;\ &lt;/span&gt;OS&lt;span class="se"&gt;\ &lt;/span&gt;X&lt;span class="se"&gt;\ &lt;/span&gt;Mavericks.app --nointeraction
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;訊息跑完後就好了。(原本磁碟內容會消除)&lt;/p&gt;
&lt;p&gt;ref: &lt;a href="http://www.macworld.com/article/2056561/how-to-make-a-bootable-mavericks-install-drive.html"&gt;How to make a bootable Mavericks install drive | Macworld&lt;/a&gt;&lt;/p&gt;
&lt;h1&gt;3. 安裝&lt;/h1&gt;
&lt;p&gt;改系統檔(不確定這是不是一定要):&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;/System/Library/CoreServices/SystemVersion.plist
# 把10.5.8改成10.68
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;外接硬碟接上iMac，重新開機。開機時按住&lt;em&gt;Option&lt;/em&gt;會跳出選擇開機磁碟，就選剛才製作好的開機碟。就會開始自動安裝了。 爽快。&lt;/p&gt;</summary><category term="note"></category></entry><entry><title>Lua 筆記</title><link href="http://blog.suhen.org/computer/lua_note.html" rel="alternate"></link><updated>2013-10-01T12:36:00+08:00</updated><author><name>moogoo</name></author><id>tag:blog.suhen.org,2013-10-01:computer/lua_note.html</id><summary type="html">&lt;h1&gt;String&lt;/h1&gt;
&lt;h2&gt;Standard&lt;/h2&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span class="nb"&gt;string.find&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;s&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;pattern&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="n"&gt;index&lt;/span&gt;&lt;span class="p"&gt;])&lt;/span&gt;
&lt;span class="nb"&gt;string.format&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;s&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;e1&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;e2&lt;/span&gt;&lt;span class="o"&gt;...&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;span class="nb"&gt;string.sub&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;s&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;i&lt;/span&gt; &lt;span class="p"&gt;[,&lt;/span&gt; &lt;span class="n"&gt;j&lt;/span&gt;&lt;span class="p"&gt;])&lt;/span&gt; &lt;span class="c1"&gt;-- string.sub(&amp;quot;abcd&amp;quot;, 1, 3) &amp;gt;&amp;gt; abc&lt;/span&gt;

&lt;span class="nb"&gt;string.len&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;s&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;span class="n"&gt;s&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;&lt;span class="n"&gt;len&lt;/span&gt;&lt;span class="p"&gt;()&lt;/span&gt;

&lt;span class="nb"&gt;string.gmatch&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;s&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;pattern&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;span class="nb"&gt;string.gsub&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;s&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;pattern&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;replace&lt;/span&gt; &lt;span class="p"&gt;[,&lt;/span&gt; &lt;span class="n"&gt;n&lt;/span&gt;&lt;span class="p"&gt;])&lt;/span&gt;

&lt;span class="nb"&gt;string.lower&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;s&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;span class="nb"&gt;string.upper&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;s&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;

&lt;span class="nb"&gt;string.byte&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s2"&gt;&amp;quot;&lt;/span&gt;&lt;span class="s"&gt;A&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt; &lt;span class="c1"&gt;-- 65&lt;/span&gt;
&lt;span class="nb"&gt;string.char&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="mi"&gt;65&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt; &lt;span class="c1"&gt;-- A&lt;/span&gt;


&lt;span class="nb"&gt;string.find&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s2"&gt;&amp;quot;&lt;/span&gt;&lt;span class="s"&gt;hyphenated-word&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="s2"&gt;&amp;quot;&lt;/span&gt;&lt;span class="s"&gt;hyphenated-word&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt; &lt;span class="c1"&gt;-- 找不到&lt;/span&gt;
&lt;span class="nb"&gt;string.find&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s2"&gt;&amp;quot;&lt;/span&gt;&lt;span class="s"&gt;hyphenated-word&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="s2"&gt;&amp;quot;&lt;/span&gt;&lt;span class="s"&gt;hyphenated%-word&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt; &lt;span class="err"&gt;才有&lt;/span&gt;

&lt;span class="c1"&gt;-- date&lt;/span&gt;
&lt;span class="nb"&gt;os.date&lt;/span&gt;&lt;span class="p"&gt;()&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;h2&gt;regular expression (patterns)&lt;/h2&gt;
&lt;table align="center" border="1"&gt;
&lt;tbody&gt;&lt;tr&gt;&lt;td&gt;&lt;code&gt;.&lt;/code&gt;&lt;/td&gt;&lt;td&gt;all characters&lt;/td&gt;&lt;/tr&gt;
&lt;tr&gt;&lt;td&gt;&lt;code&gt;%a&lt;/code&gt;&lt;/td&gt;&lt;td&gt;letters&lt;/td&gt;&lt;/tr&gt;
&lt;tr&gt;&lt;td&gt;&lt;code&gt;%c&lt;/code&gt;&lt;/td&gt;&lt;td&gt;control characters&lt;/td&gt;&lt;/tr&gt;
&lt;tr&gt;&lt;td&gt;&lt;code&gt;%d&lt;/code&gt;&lt;/td&gt;&lt;td&gt;digits&lt;/td&gt;&lt;/tr&gt;
&lt;tr&gt;&lt;td&gt;&lt;code&gt;%l&lt;/code&gt;&lt;/td&gt;&lt;td&gt;lower case letters&lt;/td&gt;&lt;/tr&gt;
&lt;tr&gt;&lt;td&gt;&lt;code&gt;%p&lt;/code&gt;&lt;/td&gt;&lt;td&gt;punctuation characters&lt;/td&gt;&lt;/tr&gt;
&lt;tr&gt;&lt;td&gt;&lt;code&gt;%s&lt;/code&gt;&lt;/td&gt;&lt;td&gt;space characters&lt;/td&gt;&lt;/tr&gt;
&lt;tr&gt;&lt;td&gt;&lt;code&gt;%u&lt;/code&gt;&lt;/td&gt;&lt;td&gt;upper case letters&lt;/td&gt;&lt;/tr&gt;
&lt;tr&gt;&lt;td&gt;&lt;code&gt;%w&lt;/code&gt;&lt;/td&gt;&lt;td&gt;alphanumeric characters&lt;/td&gt;&lt;/tr&gt;
&lt;tr&gt;&lt;td&gt;&lt;code&gt;%x&lt;/code&gt;&lt;/td&gt;&lt;td&gt;hexadecimal digits&lt;/td&gt;&lt;/tr&gt;
&lt;tr&gt;&lt;td&gt;&lt;code&gt;%z&lt;/code&gt;&lt;/td&gt;&lt;td&gt;the character with representation 0&lt;/td&gt;&lt;/tr&gt;
&lt;/tbody&gt;&lt;/table&gt;

&lt;p&gt;大寫表示逆向，例如: &lt;strong&gt;%A&lt;/strong&gt; 就是非字串的意思&lt;/p&gt;
&lt;p&gt;特殊字元:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span class="p"&gt;(&lt;/span&gt; &lt;span class="p"&gt;)&lt;/span&gt; &lt;span class="p"&gt;.&lt;/span&gt; &lt;span class="o"&gt;%&lt;/span&gt; &lt;span class="o"&gt;+&lt;/span&gt; &lt;span class="o"&gt;-&lt;/span&gt; &lt;span class="o"&gt;*&lt;/span&gt; &lt;span class="o"&gt;?&lt;/span&gt; &lt;span class="p"&gt;[&lt;/span&gt; &lt;span class="o"&gt;^&lt;/span&gt; &lt;span class="err"&gt;$&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;ex:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span class="nb"&gt;print&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="nb"&gt;string.gsub&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s2"&gt;&amp;quot;&lt;/span&gt;&lt;span class="s"&gt;hello, up-down!&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="s2"&gt;&amp;quot;&lt;/span&gt;&lt;span class="s"&gt;%A&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="s2"&gt;&amp;quot;&lt;/span&gt;&lt;span class="s"&gt;.&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;))&lt;/span&gt;
&lt;span class="c1"&gt;-- hello..up.down. 4&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;相關連結&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href="http://lua-users.org/wiki/StringLibraryTutorial"&gt;lua-users wiki: String Library Tutorial&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="http://www.lua.org/pil/2.4.html"&gt;Programming in Lua : 2.4&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h1&gt;Array (Table)&lt;/h1&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span class="nb"&gt;table.concat&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt; &lt;span class="n"&gt;myTable&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="s2"&gt;&amp;quot;&lt;/span&gt;&lt;span class="s"&gt;, &amp;quot;&lt;/span&gt; &lt;span class="p"&gt;)&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;用key來排序:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span class="kd"&gt;local&lt;/span&gt; &lt;span class="k"&gt;function&lt;/span&gt; &lt;span class="nf"&gt;pairsByKeys&lt;/span&gt; &lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;t&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;f&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
  &lt;span class="kd"&gt;local&lt;/span&gt; &lt;span class="n"&gt;a&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="p"&gt;{}&lt;/span&gt;
  &lt;span class="k"&gt;for&lt;/span&gt; &lt;span class="n"&gt;n&lt;/span&gt; &lt;span class="k"&gt;in&lt;/span&gt; &lt;span class="nb"&gt;pairs&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;t&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt; &lt;span class="k"&gt;do&lt;/span&gt; &lt;span class="nb"&gt;table.insert&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;a&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;n&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt; &lt;span class="k"&gt;end&lt;/span&gt;
  &lt;span class="nb"&gt;table.sort&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;a&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;f&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
  &lt;span class="kd"&gt;local&lt;/span&gt; &lt;span class="n"&gt;i&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="mi"&gt;0&lt;/span&gt;      &lt;span class="c1"&gt;-- iterator variable&lt;/span&gt;
  &lt;span class="kd"&gt;local&lt;/span&gt; &lt;span class="n"&gt;iter&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="k"&gt;function&lt;/span&gt; &lt;span class="p"&gt;()&lt;/span&gt;   &lt;span class="c1"&gt;-- iterator function&lt;/span&gt;
    &lt;span class="n"&gt;i&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;i&lt;/span&gt; &lt;span class="o"&gt;+&lt;/span&gt; &lt;span class="mi"&gt;1&lt;/span&gt;
    &lt;span class="k"&gt;if&lt;/span&gt; &lt;span class="n"&gt;a&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="n"&gt;i&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt; &lt;span class="o"&gt;==&lt;/span&gt; &lt;span class="kc"&gt;nil&lt;/span&gt; &lt;span class="k"&gt;then&lt;/span&gt; &lt;span class="k"&gt;return&lt;/span&gt; &lt;span class="kc"&gt;nil&lt;/span&gt;
    &lt;span class="k"&gt;else&lt;/span&gt; &lt;span class="k"&gt;return&lt;/span&gt; &lt;span class="n"&gt;a&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="n"&gt;i&lt;/span&gt;&lt;span class="p"&gt;],&lt;/span&gt; &lt;span class="n"&gt;t&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="n"&gt;a&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="n"&gt;i&lt;/span&gt;&lt;span class="p"&gt;]]&lt;/span&gt;
    &lt;span class="k"&gt;end&lt;/span&gt;
  &lt;span class="k"&gt;end&lt;/span&gt;
  &lt;span class="k"&gt;return&lt;/span&gt; &lt;span class="n"&gt;iter&lt;/span&gt;
&lt;span class="k"&gt;end&lt;/span&gt;

&lt;span class="n"&gt;lines&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="p"&gt;{&lt;/span&gt;
  &lt;span class="n"&gt;luaH_set&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="mi"&gt;10&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;
  &lt;span class="n"&gt;luaH_get&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="mi"&gt;24&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;
  &lt;span class="n"&gt;luaH_present&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="mi"&gt;48&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;
&lt;span class="p"&gt;}&lt;/span&gt;

&lt;span class="k"&gt;for&lt;/span&gt; &lt;span class="n"&gt;name&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;line&lt;/span&gt; &lt;span class="k"&gt;in&lt;/span&gt; &lt;span class="n"&gt;pairsByKeys&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;lines&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt; &lt;span class="k"&gt;do&lt;/span&gt;
  &lt;span class="nb"&gt;print&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;name&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;line&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;span class="k"&gt;end&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;來源: &lt;a href="http://www.lua.org/pil/19.3.html"&gt;Programming in Lua : 19.3&lt;/a&gt;&lt;/p&gt;
&lt;h1&gt;Function&lt;/h1&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span class="k"&gt;function&lt;/span&gt; &lt;span class="nf"&gt;g&lt;/span&gt; &lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;a&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;b&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="o"&gt;...&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
    &lt;span class="nb"&gt;print&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;a&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;b&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;arg&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;span class="k"&gt;end&lt;/span&gt;

&lt;span class="c1"&gt;-- CALL            PARAMETERS&lt;/span&gt;
&lt;span class="c1"&gt;-- g(3)             a=3, b=nil,    arg={n=0}&lt;/span&gt;
&lt;span class="c1"&gt;-- g(3, 4)          a=3, b=4, arg={n=0}&lt;/span&gt;
&lt;span class="c1"&gt;-- g(3, 4, 5, 8)    a=3, b=4, arg={5, 8; n=2}&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;變數已經包成table, 要恢復arguments, 就要用unpack&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span class="k"&gt;function&lt;/span&gt; &lt;span class="nf"&gt;countargs&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="o"&gt;...&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
    &lt;span class="k"&gt;return&lt;/span&gt; &lt;span class="o"&gt;#&lt;/span&gt;&lt;span class="n"&gt;arg&lt;/span&gt;
&lt;span class="k"&gt;end&lt;/span&gt;
&lt;span class="n"&gt;countargs&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="mi"&gt;1&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="mi"&gt;2&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="mi"&gt;3&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;span class="o"&gt;&amp;gt;&lt;/span&gt; &lt;span class="mi"&gt;3&lt;/span&gt;
&lt;span class="n"&gt;countargs&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="nb"&gt;unpack&lt;/span&gt;&lt;span class="p"&gt;{&lt;/span&gt;&lt;span class="mi"&gt;1&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="mi"&gt;2&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="mi"&gt;3&lt;/span&gt;&lt;span class="p"&gt;})&lt;/span&gt;
&lt;span class="o"&gt;&amp;gt;&lt;/span&gt; &lt;span class="mi"&gt;3&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;h1&gt;Debug&lt;/h1&gt;
&lt;p&gt;Lua的debug library有很多資訊可用:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span class="c1"&gt;-- ## lua debug function&lt;/span&gt;
&lt;span class="c1"&gt;-- # 1: simple print, 就跟print一樣&lt;/span&gt;
&lt;span class="c1"&gt;-- # 2: verbose info, 印出呼叫的函式名稱跟函式所在的檔案行數&lt;/span&gt;

&lt;span class="kd"&gt;local&lt;/span&gt; &lt;span class="n"&gt;debug_level&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="mi"&gt;0&lt;/span&gt; 
&lt;span class="kd"&gt;local&lt;/span&gt; &lt;span class="k"&gt;function&lt;/span&gt; &lt;span class="nf"&gt;log&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;s&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
    &lt;span class="k"&gt;if&lt;/span&gt; &lt;span class="n"&gt;debug_level&lt;/span&gt; &lt;span class="o"&gt;==&lt;/span&gt; &lt;span class="mi"&gt;1&lt;/span&gt; &lt;span class="k"&gt;then&lt;/span&gt;
        &lt;span class="nb"&gt;print&lt;/span&gt; &lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s2"&gt;&amp;quot;&lt;/span&gt;&lt;span class="s"&gt;&amp;gt;&amp;gt; log: &amp;quot;&lt;/span&gt; &lt;span class="o"&gt;..&lt;/span&gt; &lt;span class="n"&gt;s&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
    &lt;span class="k"&gt;elseif&lt;/span&gt; &lt;span class="n"&gt;debug_level&lt;/span&gt; &lt;span class="o"&gt;==&lt;/span&gt; &lt;span class="mi"&gt;2&lt;/span&gt; &lt;span class="k"&gt;then&lt;/span&gt;
            &lt;span class="n"&gt;d&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="nb"&gt;debug.getinfo&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="mi"&gt;2&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="s1"&gt;&amp;#39;&lt;/span&gt;&lt;span class="s"&gt;Sln&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
            &lt;span class="n"&gt;func_name&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;d&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="n"&gt;name&lt;/span&gt; &lt;span class="ow"&gt;or&lt;/span&gt; &lt;span class="s2"&gt;&amp;quot;&lt;/span&gt;&lt;span class="s"&gt;&amp;quot;&lt;/span&gt;
            &lt;span class="n"&gt;ln&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;d&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="n"&gt;currentline&lt;/span&gt; &lt;span class="ow"&gt;or&lt;/span&gt; &lt;span class="s2"&gt;&amp;quot;&lt;/span&gt;&lt;span class="s"&gt;?&amp;quot;&lt;/span&gt;
            &lt;span class="nb"&gt;print&lt;/span&gt; &lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s2"&gt;&amp;quot;&lt;/span&gt;&lt;span class="s"&gt;------ log -------&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
            &lt;span class="nb"&gt;print&lt;/span&gt; &lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s2"&gt;&amp;quot;&lt;/span&gt;&lt;span class="s"&gt;&amp;gt;&amp;gt; &amp;quot;&lt;/span&gt; &lt;span class="o"&gt;..&lt;/span&gt; &lt;span class="n"&gt;s&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
            &lt;span class="nb"&gt;print&lt;/span&gt; &lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s2"&gt;&amp;quot;&lt;/span&gt;&lt;span class="s"&gt;&amp;gt;&amp;gt; &amp;quot;&lt;/span&gt; &lt;span class="o"&gt;..&lt;/span&gt; &lt;span class="n"&gt;d&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="n"&gt;short_src&lt;/span&gt; &lt;span class="o"&gt;..&lt;/span&gt; &lt;span class="s2"&gt;&amp;quot;&lt;/span&gt;&lt;span class="s"&gt;:&amp;quot;&lt;/span&gt; &lt;span class="o"&gt;..&lt;/span&gt; &lt;span class="n"&gt;ln&lt;/span&gt; &lt;span class="o"&gt;..&lt;/span&gt; &lt;span class="s2"&gt;&amp;quot;&lt;/span&gt;&lt;span class="s"&gt;:&amp;quot;&lt;/span&gt; &lt;span class="o"&gt;..&lt;/span&gt; &lt;span class="n"&gt;func_name&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
    &lt;span class="k"&gt;else&lt;/span&gt;
        &lt;span class="k"&gt;return&lt;/span&gt;
    &lt;span class="k"&gt;end&lt;/span&gt;
&lt;span class="k"&gt;end&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;ul&gt;
&lt;li&gt;&lt;a href="http://www.lua.org/pil/23.html"&gt;Programming in Lua : 23&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h1&gt;Ternary Operator&lt;/h1&gt;
&lt;p&gt;Lua不支援，但是可以利用 &lt;strong&gt;and&lt;/strong&gt;, &lt;strong&gt;or&lt;/strong&gt; 運算子的特性來達成。如:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span class="nb"&gt;print&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;&lt;/span&gt;&lt;span class="s"&gt;x is &amp;#39;&lt;/span&gt; &lt;span class="o"&gt;..&lt;/span&gt; &lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;x&lt;/span&gt; &lt;span class="o"&gt;&amp;lt;&lt;/span&gt; &lt;span class="mi"&gt;0&lt;/span&gt; &lt;span class="ow"&gt;and&lt;/span&gt; &lt;span class="s1"&gt;&amp;#39;&lt;/span&gt;&lt;span class="s"&gt;negative&amp;#39;&lt;/span&gt; &lt;span class="ow"&gt;or&lt;/span&gt; &lt;span class="s1"&gt;&amp;#39;&lt;/span&gt;&lt;span class="s"&gt;non-negative&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;))&lt;/span&gt;
&lt;span class="nb"&gt;print&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;&lt;/span&gt;&lt;span class="s"&gt;x is &amp;#39;&lt;/span&gt; &lt;span class="o"&gt;..&lt;/span&gt; &lt;span class="p"&gt;((&lt;/span&gt;&lt;span class="n"&gt;x&lt;/span&gt; &lt;span class="o"&gt;&amp;lt;&lt;/span&gt; &lt;span class="mi"&gt;0&lt;/span&gt; &lt;span class="ow"&gt;and&lt;/span&gt; &lt;span class="s1"&gt;&amp;#39;&lt;/span&gt;&lt;span class="s"&gt;negative&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt; &lt;span class="ow"&gt;or&lt;/span&gt; &lt;span class="s1"&gt;&amp;#39;&lt;/span&gt;&lt;span class="s"&gt;non-negative&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;))&lt;/span&gt; &lt;span class="c1"&gt;-- 這樣好懂一點&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;主要是利用 &lt;strong&gt;and&lt;/strong&gt; 和 &lt;strong&gt;or&lt;/strong&gt; 的優先循序規則看以下例子:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span class="nb"&gt;print&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt; &lt;span class="mi"&gt;1&lt;/span&gt; &lt;span class="ow"&gt;and&lt;/span&gt; &lt;span class="s2"&gt;&amp;quot;&lt;/span&gt;&lt;span class="s"&gt;hello&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="s2"&gt;&amp;quot;&lt;/span&gt;&lt;span class="s"&gt;hello&amp;quot;&lt;/span&gt; &lt;span class="ow"&gt;and&lt;/span&gt; &lt;span class="s2"&gt;&amp;quot;&lt;/span&gt;&lt;span class="s"&gt;there&amp;quot;&lt;/span&gt; &lt;span class="p"&gt;)&lt;/span&gt;
&lt;span class="c1"&gt;-- hello   there&lt;/span&gt;
&lt;span class="c1"&gt;-- a, b 都是 *true*, 回傳b (第二個)&lt;/span&gt;

&lt;span class="nb"&gt;print&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt; &lt;span class="s2"&gt;&amp;quot;&lt;/span&gt;&lt;span class="s"&gt;hello&amp;quot;&lt;/span&gt; &lt;span class="ow"&gt;or&lt;/span&gt; &lt;span class="s2"&gt;&amp;quot;&lt;/span&gt;&lt;span class="s"&gt;there&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="mi"&gt;1&lt;/span&gt; &lt;span class="ow"&gt;or&lt;/span&gt; &lt;span class="mi"&gt;0&lt;/span&gt; &lt;span class="p"&gt;)&lt;/span&gt;
&lt;span class="c1"&gt;-- hello   1&lt;/span&gt;
&lt;span class="c1"&gt;-- a,b 都是 *true*, 回傳a (第一個)&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;Lua是很活的語言, 另外還可以用很多不同方式實現, 有興趣的人可以參考一下連結: &lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href="http://lua-users.org/wiki/TernaryOperator"&gt;lua-users wiki: Ternary Operator&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="http://lua-users.org/wiki/ExpressionsTutorial"&gt;lua-users wiki: Expressions Tutorial&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h1&gt;Libraries&lt;/h1&gt;
&lt;h2&gt;math&lt;/h2&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span class="nb"&gt;math.ceil&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="nb"&gt;math.floor&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="nb"&gt;math.abs&lt;/span&gt;
&lt;span class="nb"&gt;math.min&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="nb"&gt;math.max&lt;/span&gt;

&lt;span class="c1"&gt;-- random&lt;/span&gt;
&lt;span class="nb"&gt;math.randomseed&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt; &lt;span class="nb"&gt;os.time&lt;/span&gt;&lt;span class="p"&gt;()&lt;/span&gt; &lt;span class="p"&gt;)&lt;/span&gt;
&lt;span class="nb"&gt;math.random&lt;/span&gt;&lt;span class="p"&gt;()&lt;/span&gt; &lt;span class="c1"&gt;-- 產生 0 到 1 小數的亂數&lt;/span&gt;
&lt;span class="nb"&gt;math.random&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="mi"&gt;100&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt; &lt;span class="c1"&gt;-- 1 到 100 整數&lt;/span&gt;
&lt;span class="nb"&gt;math.random&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="mi"&gt;70&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="mi"&gt;80&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt; &lt;span class="c1"&gt;-- 70 到 80 整數&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;ul&gt;
&lt;li&gt;&lt;a href="http://lua-users.org/wiki/MathLibraryTutorial"&gt;lua-users wiki: Math Library Tutorial&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;</summary></entry><entry><title>強大的Emacs Macro 巨集</title><link href="http://blog.suhen.org/computer/emacs_macro.html" rel="alternate"></link><updated>2013-08-30T12:06:00+08:00</updated><author><name>moogoo</name></author><id>tag:blog.suhen.org,2013-08-30:computer/emacs_macro.html</id><summary type="html">&lt;div class="section" id="id1"&gt;
&lt;h2&gt;基本操作&lt;/h2&gt;
&lt;ol class="arabic simple"&gt;
&lt;li&gt;&lt;tt class="docutils literal"&gt;&lt;span class="pre"&gt;C-x&lt;/span&gt; (&lt;/tt&gt; 開始錄製&lt;/li&gt;
&lt;li&gt;胡搞瞎搞&lt;/li&gt;
&lt;li&gt;&lt;tt class="docutils literal"&gt;&lt;span class="pre"&gt;C-x&lt;/span&gt; )&lt;/tt&gt; 結束&lt;/li&gt;
&lt;li&gt;&lt;tt class="docutils literal"&gt;&lt;span class="pre"&gt;C-x&lt;/span&gt; e&lt;/tt&gt; ABASE&lt;/li&gt;
&lt;/ol&gt;
&lt;hr class="docutils" /&gt;
&lt;ul class="simple"&gt;
&lt;li&gt;執行多次 &lt;tt class="docutils literal"&gt;&lt;span class="pre"&gt;C-u&lt;/span&gt; 次數 &lt;span class="pre"&gt;C-x&lt;/span&gt; e&lt;/tt&gt;&lt;/li&gt;
&lt;li&gt;&lt;tt class="docutils literal"&gt;&lt;span class="pre"&gt;C-x&lt;/span&gt; &lt;span class="pre"&gt;C-k&lt;/span&gt; n FOO&lt;/tt&gt; 給macro取名字&lt;/li&gt;
&lt;li&gt;&lt;tt class="docutils literal"&gt;&lt;span class="pre"&gt;M-x&lt;/span&gt; FOO&lt;/tt&gt; 執行&lt;/li&gt;
&lt;li&gt;&lt;tt class="docutils literal"&gt;&lt;span class="pre"&gt;M-x&lt;/span&gt; &lt;span class="pre"&gt;insert-kbd-macro&lt;/span&gt;&lt;/tt&gt; 把macro存到設定檔, 他會問你要存那個macro name&lt;/li&gt;
&lt;/ul&gt;
&lt;/div&gt;
</summary><category term="emacs"></category></entry><entry><title>用Emacs的skeleton快速建立pelican的blog內文</title><link href="http://blog.suhen.org/computer/emacs_skeleton.html" rel="alternate"></link><updated>2013-08-27T18:07:00+08:00</updated><author><name>moogoo</name></author><id>tag:blog.suhen.org,2013-08-27:computer/emacs_skeleton.html</id><summary type="html">&lt;p&gt;用 &lt;a class="reference external" href="http://blog.suhen.org/computer/pelican.html"&gt;Pelican&lt;/a&gt; 寫blog時都要輸入一堆metadata很麻煩, 利用 &lt;a class="reference external" href="http://blog.suhen.org/computer/emacs.html"&gt;Emacs&lt;/a&gt; 的skeleton-mode可以很快產生template, 接受mini-buffer輸入, insert lisp function...超方便!!&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="nv"&gt;define-skeleton&lt;/span&gt; &lt;span class="nv"&gt;insert-pelican-template&lt;/span&gt;
  &lt;span class="s"&gt;&amp;quot;Insert templete for pelican static blog system&amp;quot;&lt;/span&gt;
  &lt;span class="s"&gt;&amp;quot;&amp;quot;&lt;/span&gt; &lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="nv"&gt;skeleton-read&lt;/span&gt; &lt;span class="s"&gt;&amp;quot;Title: &amp;quot;&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;&lt;span class="nv"&gt;?\n&lt;/span&gt;
  &lt;span class="s"&gt;&amp;quot;#############################&amp;quot;&lt;/span&gt; &lt;span class="nv"&gt;?\n&lt;/span&gt;
  &lt;span class="s"&gt;&amp;quot;:date: &amp;quot;&lt;/span&gt; &lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="nv"&gt;insert-current-date&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt; &lt;span class="nv"&gt;?\n&lt;/span&gt;
  &lt;span class="s"&gt;&amp;quot;:category: &amp;quot;&lt;/span&gt; &lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="nv"&gt;skeleton-read&lt;/span&gt; &lt;span class="s"&gt;&amp;quot;category: &amp;quot;&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt; &lt;span class="nv"&gt;?\n&lt;/span&gt;
  &lt;span class="s"&gt;&amp;quot;:tags: &amp;quot;&lt;/span&gt; &lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="nv"&gt;skeleton-read&lt;/span&gt; &lt;span class="s"&gt;&amp;quot;tags: &amp;quot;&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt; &lt;span class="nv"&gt;?\n&lt;/span&gt;
  &lt;span class="s"&gt;&amp;quot;:slug: &amp;quot;&lt;/span&gt; &lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="nv"&gt;skeleton-read&lt;/span&gt; &lt;span class="s"&gt;&amp;quot;slug: &amp;quot;&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt; &lt;span class="nv"&gt;?\n&lt;/span&gt;
&lt;span class="p"&gt;)&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;參考:
&lt;a class="reference external" href="http://www.emacswiki.org/emacs/SkeletonMode"&gt;EmacsWiki: Skeleton Mode&lt;/a&gt;&lt;/p&gt;
</summary><category term="emacs"></category></entry><entry><title>&lt; Python &gt;</title><link href="http://blog.suhen.org/computer/python.html" rel="alternate"></link><updated>2013-07-10T14:02:00+08:00</updated><author><name>moogoo</name></author><id>tag:blog.suhen.org,2013-07-10:computer/python.html</id><summary type="html">&lt;div class="section" id="quick-start"&gt;
&lt;h2&gt;Quick Start&lt;/h2&gt;
&lt;p&gt;path:&lt;/p&gt;
&lt;pre class="literal-block"&gt;
(Mac)$ /Library/Python/2.7/site-packages
&lt;/pre&gt;
&lt;p&gt;snippets:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span class="c"&gt;#!/usr/bin/env python&lt;/span&gt;
&lt;span class="c"&gt;# -.- coding: utf-8 -.-&lt;/span&gt;

&lt;span class="kn"&gt;import&lt;/span&gt; &lt;span class="nn"&gt;sys&lt;/span&gt;
&lt;span class="k"&gt;if&lt;/span&gt; &lt;span class="n"&gt;__name__&lt;/span&gt; &lt;span class="o"&gt;==&lt;/span&gt; &lt;span class="s"&gt;&amp;#39;__main__&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;
    &lt;span class="k"&gt;if&lt;/span&gt; &lt;span class="nb"&gt;len&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;sys&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;argv&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt; &lt;span class="o"&gt;&amp;gt;&lt;/span&gt; &lt;span class="mi"&gt;1&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;
        &lt;span class="n"&gt;main&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;sys&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;argv&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="mi"&gt;1&lt;/span&gt;&lt;span class="p"&gt;])&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;struct dict:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span class="n"&gt;dishes&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="p"&gt;{&lt;/span&gt;&lt;span class="s"&gt;&amp;#39;eggs&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="mi"&gt;2&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="s"&gt;&amp;#39;sausage&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="mi"&gt;1&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="s"&gt;&amp;#39;bacon&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="mi"&gt;1&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="s"&gt;&amp;#39;spam&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="mi"&gt;500&lt;/span&gt;&lt;span class="p"&gt;}&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;if/else三元運算 (ternary operator):&lt;/p&gt;
&lt;pre class="literal-block"&gt;
A = Y if X else Z
&lt;/pre&gt;
&lt;div class="section" id="regular-expression"&gt;
&lt;h3&gt;regular expression&lt;/h3&gt;
&lt;p&gt;只留a-z, A-Z, 0-9:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span class="n"&gt;re&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;sub&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s"&gt;r&amp;#39;[^a-zA-Z_0-9]&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="s"&gt;&amp;#39;&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;did&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;parse出每個sql欄位
.. code-block:: python&lt;/p&gt;
&lt;blockquote&gt;
# (1, 'The Three Little Pigs', '三隻小豬', 350, '這是有關於三隻...', 28, 16000, 'en', 280, ''),
m = re.match(r'((d+), '(.*)', '(.*)', (d+), '(.*)', (d+), (d+), '(.*)', (d+), '(.*)')', i)&lt;/blockquote&gt;
&lt;/div&gt;
&lt;div class="section" id="list-compension"&gt;
&lt;h3&gt;list compension&lt;/h3&gt;
&lt;p&gt;印出a到z&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span class="n"&gt;a2z&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="nb"&gt;chr&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;a&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt; &lt;span class="k"&gt;for&lt;/span&gt; &lt;span class="n"&gt;a&lt;/span&gt; &lt;span class="ow"&gt;in&lt;/span&gt; &lt;span class="nb"&gt;range&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="mi"&gt;97&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="mi"&gt;123&lt;/span&gt;&lt;span class="p"&gt;)]&lt;/span&gt;

&lt;span class="c"&gt;# 也可以加上tenary operator [ Y if X else Z for i in LIST]&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;sort list(用mydict的foo去排序):&lt;/p&gt;
&lt;pre class="literal-block"&gt;
output = sorted(mydict, key = lambda x:x['foo'])
&lt;/pre&gt;
&lt;p&gt;lambda function:&lt;/p&gt;
&lt;pre class="literal-block"&gt;
lower = (lambda x, y: x if x &amp;lt; y else y)
lower ('bb', 'aa') # aa
&lt;/pre&gt;
&lt;/div&gt;
&lt;div class="section" id="string"&gt;
&lt;h3&gt;string&lt;/h3&gt;
&lt;p&gt;format:&lt;/p&gt;
&lt;pre class="literal-block"&gt;
'{0:.2f}'.format(init_scale) # 小數點後兩位
'{0:02d}'.format(dtime.tm_mon) # 補2位0
&lt;/pre&gt;
&lt;p&gt;replace&lt;/p&gt;
&lt;pre class="literal-block"&gt;
string.replace('old', 'new')
&lt;/pre&gt;
&lt;/div&gt;
&lt;div class="section" id="time"&gt;
&lt;h3&gt;日期/時間 time&lt;/h3&gt;
&lt;p&gt;&lt;strong&gt;time format&lt;/strong&gt;&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span class="kn"&gt;import&lt;/span&gt; &lt;span class="nn"&gt;time&lt;/span&gt;
&lt;span class="kn"&gt;from&lt;/span&gt; &lt;span class="nn"&gt;datetime&lt;/span&gt; &lt;span class="kn"&gt;import&lt;/span&gt; &lt;span class="n"&gt;datetime&lt;/span&gt;
&lt;span class="n"&gt;TIME_STR&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;time&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;strftime&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s"&gt;&amp;#39;%Y%m&lt;/span&gt;&lt;span class="si"&gt;%d&lt;/span&gt;&lt;span class="s"&gt;-%H%M%S&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt; &lt;span class="c"&gt;# 時間字串&lt;/span&gt;

&lt;span class="n"&gt;dtime&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;datetime&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;utcnow&lt;/span&gt;&lt;span class="p"&gt;()&lt;/span&gt; &lt;span class="c"&gt;# UTC 格式&lt;/span&gt;
&lt;span class="n"&gt;ts&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;time&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;mktime&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;dtime&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;timetuple&lt;/span&gt;&lt;span class="p"&gt;())&lt;/span&gt; &lt;span class="c"&gt;# datetime to unix timestamp&lt;/span&gt;
&lt;span class="n"&gt;ts&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;time&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;time&lt;/span&gt;&lt;span class="p"&gt;()&lt;/span&gt; &lt;span class="c"&gt;# unix timestamp now&lt;/span&gt;
&lt;span class="n"&gt;datetime&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;fromtimestamp&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;ts&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt; &lt;span class="c"&gt;# unix timestamp to datetime&lt;/span&gt;

&lt;span class="n"&gt;dtime&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;strftime&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s"&gt;&amp;#39;%Y-%m-&lt;/span&gt;&lt;span class="si"&gt;%d&lt;/span&gt;&lt;span class="s"&gt;&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt; &lt;span class="c"&gt;# datetime =&amp;gt; string&lt;/span&gt;
&lt;span class="n"&gt;datetime&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;strptime&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;dtime&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="s"&gt;&amp;#39;%Y-%m-&lt;/span&gt;&lt;span class="si"&gt;%d&lt;/span&gt;&lt;span class="s"&gt;&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt; &lt;span class="c"&gt;# =&amp;gt; string to datetime (格式要一樣)&lt;/span&gt;

&lt;span class="n"&gt;datetime&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;strptime&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;dtime&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;strftime&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s"&gt;&amp;#39;%Y-%m-&lt;/span&gt;&lt;span class="si"&gt;%d&lt;/span&gt;&lt;span class="s"&gt;&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;),&lt;/span&gt; &lt;span class="s"&gt;&amp;#39;%Y-%m-&lt;/span&gt;&lt;span class="si"&gt;%d&lt;/span&gt;&lt;span class="s"&gt;&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt; &lt;span class="c"&gt;# 取得年月日0分0時0秒&lt;/span&gt;

&lt;span class="c"&gt;# 常用&lt;/span&gt;
&lt;span class="c"&gt;## 取得當周的第1天跟最後一天&lt;/span&gt;
&lt;span class="n"&gt;d&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;datetime&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="mi"&gt;2014&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="mi"&gt;1&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="mi"&gt;15&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;span class="n"&gt;w&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;d&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;weekday&lt;/span&gt;&lt;span class="p"&gt;()&lt;/span&gt;
&lt;span class="n"&gt;t1&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;d&lt;/span&gt; &lt;span class="o"&gt;+&lt;/span&gt; &lt;span class="n"&gt;timedelta&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;days&lt;/span&gt;&lt;span class="o"&gt;=-&lt;/span&gt;&lt;span class="n"&gt;w&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;span class="n"&gt;t2&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;d&lt;/span&gt; &lt;span class="o"&gt;+&lt;/span&gt; &lt;span class="n"&gt;timedelta&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;days&lt;/span&gt;&lt;span class="o"&gt;=+&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="mi"&gt;7&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;w&lt;/span&gt;&lt;span class="p"&gt;))&lt;/span&gt;


&lt;span class="c"&gt;## time&lt;/span&gt;
&lt;span class="n"&gt;time&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;gmtime&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;n&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt; &lt;span class="c"&gt;# 輸入 unix epoch time 秒數, 回傳 time struct&lt;/span&gt;
&lt;span class="n"&gt;time&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;time&lt;/span&gt;&lt;span class="p"&gt;()&lt;/span&gt; &lt;span class="c"&gt;# unix epoch time (unix-base 和 windows 系統一樣) in seconds&lt;/span&gt;
&lt;span class="n"&gt;time&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;clock&lt;/span&gt;&lt;span class="p"&gt;()&lt;/span&gt; &lt;span class="c"&gt;# unix-base: returns the current processor time (current thread, in seconds). Windows: returns the wall-clock time expressed in seconds elapsed since the first call to this function, based on the Win32 function QueryPerformanceCounter&lt;/span&gt;

&lt;span class="c"&gt;# timeit&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;ul class="simple"&gt;
&lt;li&gt;&lt;a class="reference external" href="http://www.pythoncentral.io/measure-time-in-python-time-time-vs-time-clock/"&gt;Measure Time in Python - time.time() vs time.clock() - Python Central&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/div&gt;
&lt;div class="section" id="file"&gt;
&lt;h3&gt;file&lt;/h3&gt;
&lt;p&gt;write:&lt;/p&gt;
&lt;pre class="literal-block"&gt;
f = open('data.txt', 'w')
f.write('Hello\n')
f.close()
&lt;/pre&gt;
&lt;p&gt;read:&lt;/p&gt;
&lt;pre class="literal-block"&gt;
f = open('data.txt') # 預設是 'r'
bytes = f.read() # 讀出內容
# -------------
for line in f:
    print line # 讀出每一行
f.close()
&lt;/pre&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="section" id="basic"&gt;
&lt;h2&gt;Basic&lt;/h2&gt;
&lt;div class="section" id="overview"&gt;
&lt;h3&gt;overview&lt;/h3&gt;
&lt;p&gt;functions are objects in Python, just like everything else. (If you find that confusing wait till you hear that classes are objects in Python, just like everything else!)&lt;/p&gt;
&lt;p&gt;pprint:&lt;/p&gt;
&lt;pre class="literal-block"&gt;
import pprint
pp = pprint.PrettyPrinter(indent=4)
pp.pprint(foo)
&lt;/pre&gt;
&lt;/div&gt;
&lt;div class="section" id="id1"&gt;
&lt;h3&gt;引數&lt;/h3&gt;
&lt;p&gt;引數傳遞:&lt;/p&gt;
&lt;ol class="arabic simple"&gt;
&lt;li&gt;傳值, 引數不回被改&lt;/li&gt;
&lt;li&gt;傳址標, 引數會被改 (list)&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;例如:&lt;/p&gt;
&lt;pre class="literal-block"&gt;
def changer(a, b):
    a = 2
    b[0] = 'spam'

X = 1
L = [1, 2]
changer(X, L)
# &amp;gt;&amp;gt;&amp;gt; (1, ['spam', 2])
&lt;/pre&gt;
&lt;p&gt;任意多引數:&lt;/p&gt;
&lt;pre class="literal-block"&gt;
def func(*name): # tuple
    pass
def func(**name): # dict
    pass
&lt;/pre&gt;
&lt;/div&gt;
&lt;div class="section" id="build-in-functions"&gt;
&lt;h3&gt;build-in functions&lt;/h3&gt;
&lt;p&gt;filter(function, iterable):&lt;/p&gt;
&lt;pre class="literal-block"&gt;
[item for item in iterable if function(item)]
&lt;/pre&gt;
&lt;p&gt;map(function, iterable, ...):&lt;/p&gt;
&lt;pre class="literal-block"&gt;
#
&lt;/pre&gt;
&lt;p&gt;sum(iterable[, start]):&lt;/p&gt;
&lt;pre class="literal-block"&gt;
#
&lt;/pre&gt;
&lt;p&gt;all(iterable):&lt;/p&gt;
&lt;pre class="literal-block"&gt;
def all(iterable):
    for element in iterable:
        if not element:
            return False
    return True
&lt;/pre&gt;
&lt;p&gt;any(iterable):&lt;/p&gt;
&lt;pre class="literal-block"&gt;
def any(iterable):
    for element in iterable:
        if element:
            return True
    return False
&lt;/pre&gt;
&lt;/div&gt;
&lt;div class="section" id="regex"&gt;
&lt;h3&gt;regex&lt;/h3&gt;
&lt;p&gt;re.search()跟re.match()的不同, match()是字串開頭也要符合, search()只要字串中間有符合的pattern就可以了&lt;/p&gt;
&lt;p&gt;&lt;a class="reference external" href="http://docs.python.org/2/library/re.html#search-vs-match"&gt;7.2. re — Regular expression operations — Python v2.7.6 documentation&lt;/a&gt;&lt;/p&gt;
&lt;/div&gt;
&lt;div class="section" id="json"&gt;
&lt;h3&gt;json&lt;/h3&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span class="c"&gt;# obj to json string (serialize)&lt;/span&gt;
&lt;span class="n"&gt;json&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;dumps&lt;/span&gt;&lt;span class="p"&gt;({&lt;/span&gt;&lt;span class="s"&gt;&amp;#39;foo&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;&lt;span class="s"&gt;&amp;#39;bar&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;},&lt;/span&gt; &lt;span class="n"&gt;ensure_ascii&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="bp"&gt;False&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt; &lt;span class="c"&gt;# ensure_ascii = False (Default: True), 中文不會變成 u\xxxx 的 unicode 格式&lt;/span&gt;

&lt;span class="c"&gt;# obj to json fp&lt;/span&gt;
&lt;span class="n"&gt;json&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;dump&lt;/span&gt;&lt;span class="p"&gt;({&lt;/span&gt;&lt;span class="s"&gt;&amp;#39;foo&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;&lt;span class="s"&gt;&amp;#39;bar&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;},&lt;/span&gt; &lt;span class="n"&gt;fp&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;

&lt;span class="c"&gt;# json fp to obj&lt;/span&gt;
&lt;span class="n"&gt;json&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;load&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;fp&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;

&lt;span class="c"&gt;# json string&lt;/span&gt;
&lt;span class="n"&gt;json&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;loads&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;s&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="section" id="id2"&gt;
&lt;h2&gt;算數&lt;/h2&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span class="kn"&gt;import&lt;/span&gt; &lt;span class="nn"&gt;random&lt;/span&gt;

&lt;span class="n"&gt;random&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;randint&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="mi"&gt;0&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="mi"&gt;9&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;span class="c"&gt;# &amp;#39;&amp;#39;.join([str(random.randint(1,9)) for i in range(5)]) # 產生5個0-9的字串&lt;/span&gt;

&lt;span class="n"&gt;random&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;random&lt;/span&gt;&lt;span class="p"&gt;()&lt;/span&gt; &lt;span class="c"&gt;# 產生 [0.0, 1.0) 的亂數&lt;/span&gt;

&lt;span class="c"&gt;# test 百分比&lt;/span&gt;
&lt;span class="n"&gt;a&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="mi"&gt;0&lt;/span&gt;
&lt;span class="n"&gt;b&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="mi"&gt;0&lt;/span&gt;
&lt;span class="n"&gt;c&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="mi"&gt;0&lt;/span&gt;
&lt;span class="k"&gt;for&lt;/span&gt; &lt;span class="n"&gt;i&lt;/span&gt; &lt;span class="ow"&gt;in&lt;/span&gt; &lt;span class="nb"&gt;range&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="mi"&gt;10000&lt;/span&gt;&lt;span class="p"&gt;):&lt;/span&gt;
    &lt;span class="n"&gt;r&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;random&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;random&lt;/span&gt;&lt;span class="p"&gt;()&lt;/span&gt;
    &lt;span class="k"&gt;if&lt;/span&gt; &lt;span class="n"&gt;r&lt;/span&gt; &lt;span class="o"&gt;&amp;gt;=&lt;/span&gt; &lt;span class="mf"&gt;0.95&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="c"&gt;# 5 %&lt;/span&gt;
        &lt;span class="n"&gt;c&lt;/span&gt; &lt;span class="o"&gt;+=&lt;/span&gt; &lt;span class="mi"&gt;1&lt;/span&gt;
    &lt;span class="k"&gt;elif&lt;/span&gt; &lt;span class="n"&gt;r&lt;/span&gt; &lt;span class="o"&gt;&amp;gt;=&lt;/span&gt; &lt;span class="mf"&gt;0.70&lt;/span&gt; &lt;span class="ow"&gt;and&lt;/span&gt; &lt;span class="n"&gt;r&lt;/span&gt; &lt;span class="o"&gt;&amp;lt;&lt;/span&gt; &lt;span class="mf"&gt;0.95&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="c"&gt;# 25 %&lt;/span&gt;
        &lt;span class="n"&gt;b&lt;/span&gt; &lt;span class="o"&gt;+=&lt;/span&gt; &lt;span class="mi"&gt;1&lt;/span&gt;
    &lt;span class="k"&gt;else&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="c"&gt;# 70 %&lt;/span&gt;
        &lt;span class="n"&gt;a&lt;/span&gt;&lt;span class="o"&gt;+=&lt;/span&gt; &lt;span class="mi"&gt;1&lt;/span&gt;
&lt;span class="k"&gt;print&lt;/span&gt; &lt;span class="n"&gt;a&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;b&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="n"&gt;c&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;a&lt;/span&gt;&lt;span class="o"&gt;/&lt;/span&gt;&lt;span class="mf"&gt;10000.0&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;b&lt;/span&gt;&lt;span class="o"&gt;/&lt;/span&gt;&lt;span class="mf"&gt;10000.0&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;c&lt;/span&gt;&lt;span class="o"&gt;/&lt;/span&gt;&lt;span class="mf"&gt;10000.0&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;/div&gt;
&lt;div class="section" id="io-shell-commond-line"&gt;
&lt;h2&gt;IO / shell / commond line&lt;/h2&gt;
&lt;p&gt;&lt;a class="reference external" href="http://docs.python.org/2/library/os.html"&gt;15.1. os — Miscellaneous operating system interfaces — Python v2.7.3 documentation&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;檢查目錄存在:&lt;/p&gt;
&lt;pre class="literal-block"&gt;
os.path.exists('/etc/passwd')
&lt;/pre&gt;
&lt;p&gt;subprocess:&lt;/p&gt;
&lt;pre class="literal-block"&gt;
import subprocess
subprocess.call([&amp;quot;ls&amp;quot;, &amp;quot;-l&amp;quot;]) # 輸入是list, pipe要用popen, 安全一點
subprocess.call([&amp;quot;ls -l&amp;quot;], shell=True) # 完全用系統的shell, pipe, wildcards, 家目錄~都可以用, 參數直接給字串就可以了, 也許會有輸入不乾淨(shell injection)的風險
&lt;/pre&gt;
&lt;p&gt;常用:&lt;/p&gt;
&lt;pre class="literal-block"&gt;
os.getcwd()
os.mkdir(src)
os.rename(src, dst)
&lt;/pre&gt;
&lt;/div&gt;
&lt;div class="section" id="coding"&gt;
&lt;h2&gt;coding&lt;/h2&gt;
&lt;p&gt;UnicodeEncodeError:&lt;/p&gt;
&lt;pre class="literal-block"&gt;
import sys
reload(sys)
sys.setdefaultencoding('utf-8')
&lt;/pre&gt;
&lt;ul class="simple"&gt;
&lt;li&gt;&lt;a class="reference external" href="http://blog.wahahajk.com/2009/08/unicodedecodeerror-ascii-codec-cant.html"&gt;宅之力: 解決方法: UnicodeDecodeError: 'ascii' codec can't decode byte 0xe4 in position 0: ordinal not in range(128)&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/div&gt;
&lt;div class="section" id="shell"&gt;
&lt;h2&gt;shell&lt;/h2&gt;
&lt;p&gt;多種方法:&lt;/p&gt;
&lt;ul class="simple"&gt;
&lt;li&gt;os.system()&lt;/li&gt;
&lt;li&gt;os.popen()&lt;/li&gt;
&lt;li&gt;subprocess.Popen()&lt;/li&gt;
&lt;li&gt;subprocess.call()&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;參考:&lt;/p&gt;
&lt;ul class="simple"&gt;
&lt;li&gt;&lt;a class="reference external" href="http://stackoverflow.com/questions/89228/calling-an-external-command-in-python"&gt;shell - Calling an external command in Python - Stack Overflow&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;subprocess:&lt;/p&gt;
&lt;pre class="literal-block"&gt;
subprocess.call('ls -al', shell=True)
&lt;/pre&gt;
&lt;/div&gt;
&lt;div class="section" id="tips"&gt;
&lt;h2&gt;Tips&lt;/h2&gt;
&lt;div class="section" id="syntax"&gt;
&lt;h3&gt;syntax&lt;/h3&gt;
&lt;p&gt;變數決定class名稱:&lt;/p&gt;
&lt;pre class="literal-block"&gt;
all_class = { 'my_class' : my_class }
object = all_class['my_class']()
&lt;/pre&gt;
&lt;/div&gt;
&lt;div class="section" id="id3"&gt;
&lt;h3&gt;coding&lt;/h3&gt;
&lt;p&gt;只留ASCII:&lt;/p&gt;
&lt;pre class="literal-block"&gt;
print &amp;quot;&amp;quot;.join(filter(lambda x: ord(x)&amp;lt;128, did))
&lt;/pre&gt;
&lt;/div&gt;
&lt;div class="section" id="array"&gt;
&lt;h3&gt;array排序&lt;/h3&gt;
&lt;p&gt;有個dict有title和date二個key, 要指定用date來排序:&lt;/p&gt;
&lt;pre class="literal-block"&gt;
list = []
list.append({'title':'abc','date':1})
list.append({'title':'def','date':2})
list.append({'title':'ghi','date':0})
print sorted(list, key=lambda x: x['date'])
# [{'title': 'ghi', 'date': 0}, {'title': 'abc', 'date': 1}, {'title': 'def', 'date': 2}]
print sorted(list, key=lambda x: x['date'], reverse=True)
# [{'title': 'def', 'date': 2}, {'title': 'abc', 'date': 1}, {'title': 'ghi', 'date': 0}]
&lt;/pre&gt;
&lt;/div&gt;
&lt;div class="section" id="simple-http-server"&gt;
&lt;h3&gt;simple http server&lt;/h3&gt;
&lt;p&gt;在當下目錄:&lt;/p&gt;
&lt;pre class="literal-block"&gt;
$ python -m SimpleHTTPServer # 預設的port 8000, http://127.0.0.1:8000
&lt;/pre&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="section" id="coding-style"&gt;
&lt;h2&gt;Coding Style&lt;/h2&gt;
&lt;ul class="simple"&gt;
&lt;li&gt;&lt;a class="reference external" href="http://www.pocoo.org/internal/styleguide/"&gt;The Pocoo Style Guide — Pocoo&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a class="reference external" href="http://google-styleguide.googlecode.com/svn/trunk/pyguide.html"&gt;Google Python Style Guide&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a class="reference external" href="http://docs.python-guide.org/en/latest/writing/style/"&gt;Code Style — The Hitchhiker's Guide to Python&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;div class="section" id="comments-google-style"&gt;
&lt;h3&gt;Comments (google style)&lt;/h3&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span class="k"&gt;def&lt;/span&gt; &lt;span class="nf"&gt;fetch_bigtable_rows&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;big_table&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;keys&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;other_silly_variable&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="bp"&gt;None&lt;/span&gt;&lt;span class="p"&gt;):&lt;/span&gt;
    &lt;span class="sd"&gt;&amp;quot;&amp;quot;&amp;quot;Fetches rows from a Bigtable.&lt;/span&gt;

&lt;span class="sd"&gt;    Retrieves rows pertaining to the given keys from the Table instance&lt;/span&gt;
&lt;span class="sd"&gt;    represented by big_table.  Silly things may happen if&lt;/span&gt;
&lt;span class="sd"&gt;    other_silly_variable is not None.&lt;/span&gt;

&lt;span class="sd"&gt;    Args:&lt;/span&gt;
&lt;span class="sd"&gt;        big_table: An open Bigtable Table instance.&lt;/span&gt;
&lt;span class="sd"&gt;        keys: A sequence of strings representing the key of each table row&lt;/span&gt;
&lt;span class="sd"&gt;            to fetch.&lt;/span&gt;
&lt;span class="sd"&gt;        other_silly_variable: Another optional variable, that has a much&lt;/span&gt;
&lt;span class="sd"&gt;            longer name than the other args, and which does nothing.&lt;/span&gt;

&lt;span class="sd"&gt;    Returns:&lt;/span&gt;
&lt;span class="sd"&gt;        A dict mapping keys to the corresponding table row data&lt;/span&gt;
&lt;span class="sd"&gt;        fetched. Each row is represented as a tuple of strings. For&lt;/span&gt;
&lt;span class="sd"&gt;        example:&lt;/span&gt;

&lt;span class="sd"&gt;        {&amp;#39;Serak&amp;#39;: (&amp;#39;Rigel VII&amp;#39;, &amp;#39;Preparer&amp;#39;),&lt;/span&gt;
&lt;span class="sd"&gt;         &amp;#39;Zim&amp;#39;: (&amp;#39;Irk&amp;#39;, &amp;#39;Invader&amp;#39;),&lt;/span&gt;
&lt;span class="sd"&gt;         &amp;#39;Lrrr&amp;#39;: (&amp;#39;Omicron Persei 8&amp;#39;, &amp;#39;Emperor&amp;#39;)}&lt;/span&gt;

&lt;span class="sd"&gt;        If a key from the keys argument is missing from the dictionary,&lt;/span&gt;
&lt;span class="sd"&gt;        then that row was not found in the table.&lt;/span&gt;

&lt;span class="sd"&gt;    Raises:&lt;/span&gt;
&lt;span class="sd"&gt;        IOError: An error occurred accessing the bigtable.Table object.&lt;/span&gt;
&lt;span class="sd"&gt;    &amp;quot;&amp;quot;&amp;quot;&lt;/span&gt;
    &lt;span class="k"&gt;pass&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="section" id="practice"&gt;
&lt;h2&gt;Practice&lt;/h2&gt;
&lt;p&gt;exceptions and/or logging&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span class="k"&gt;class&lt;/span&gt; &lt;span class="nc"&gt;SillyWalkMinistry&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="ne"&gt;Exception&lt;/span&gt;&lt;span class="p"&gt;):&lt;/span&gt;
    &lt;span class="sd"&gt;&amp;quot;&amp;quot;&amp;quot; handle exception &amp;quot;&amp;quot;&amp;quot;&lt;/span&gt;
    &lt;span class="k"&gt;pass&lt;/span&gt;

&lt;span class="k"&gt;try&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;
    &lt;span class="n"&gt;do_silly&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;value&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;span class="k"&gt;except&lt;/span&gt; &lt;span class="ne"&gt;AttributeError&lt;/span&gt; &lt;span class="k"&gt;as&lt;/span&gt; &lt;span class="n"&gt;e&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;
    &lt;span class="n"&gt;log&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;info&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s"&gt;&amp;#39;&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
    &lt;span class="n"&gt;do_invisible&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;v&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;span class="k"&gt;except&lt;/span&gt; &lt;span class="ne"&gt;Exception&lt;/span&gt; &lt;span class="k"&gt;as&lt;/span&gt; &lt;span class="n"&gt;e&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;
    &lt;span class="n"&gt;log&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;debug&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="nb"&gt;str&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;e&lt;/span&gt;&lt;span class="p"&gt;))&lt;/span&gt;
    &lt;span class="k"&gt;raise&lt;/span&gt; &lt;span class="n"&gt;SillyWalkMinistry&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;e&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;/div&gt;
&lt;div class="section" id="id4"&gt;
&lt;h2&gt;整理&lt;/h2&gt;
&lt;p&gt;小括弧整理程式碼:&lt;/p&gt;
&lt;pre class="literal-block"&gt;
X = (A + B +
     C + D)

if (A == 1 and
    B == 2 and
    C == 3):
       print 'spam' * 3
&lt;/pre&gt;
&lt;div class="note"&gt;
&lt;p class="first admonition-title"&gt;Note&lt;/p&gt;
&lt;p class="last"&gt;斜線結尾不好看, 很難注意&lt;/p&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="section" id="reference"&gt;
&lt;h2&gt;reference&lt;/h2&gt;
&lt;div class="section" id="tutorial"&gt;
&lt;h3&gt;Tutorial&lt;/h3&gt;
&lt;p&gt;&lt;a class="reference external" href="http://www.slideshare.net/moskytw"&gt;Mosky Liu, Pinkoi | SlideShare&lt;/a&gt;&lt;/p&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="section" id="decorator"&gt;
&lt;h2&gt;decorator&lt;/h2&gt;
&lt;p&gt;沒用 from functools import wraps 的話, function的資訊會跑掉, 重複(reentrant) 會有問題, 傳參數的話會變只有最後一個&lt;/p&gt;
&lt;p&gt;via: &lt;a class="reference external" href="http://stackoverflow.com/questions/308999/what-does-functools-wraps-do"&gt;http://stackoverflow.com/questions/308999/what-does-functools-wraps-do&lt;/a&gt;&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span class="c"&gt;# -.- encoding: utf-8 -.-&lt;/span&gt;

&lt;span class="kn"&gt;from&lt;/span&gt; &lt;span class="nn"&gt;functools&lt;/span&gt; &lt;span class="kn"&gt;import&lt;/span&gt; &lt;span class="n"&gt;wraps&lt;/span&gt;
&lt;span class="k"&gt;def&lt;/span&gt; &lt;span class="nf"&gt;logged&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;func&lt;/span&gt;&lt;span class="p"&gt;):&lt;/span&gt;
    &lt;span class="nd"&gt;@wraps&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;func&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
    &lt;span class="k"&gt;def&lt;/span&gt; &lt;span class="nf"&gt;with_logging&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="o"&gt;*&lt;/span&gt;&lt;span class="n"&gt;args&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="o"&gt;**&lt;/span&gt;&lt;span class="n"&gt;kwargs&lt;/span&gt;&lt;span class="p"&gt;):&lt;/span&gt;
        &lt;span class="k"&gt;print&lt;/span&gt; &lt;span class="n"&gt;func&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;__name__&lt;/span&gt; &lt;span class="o"&gt;+&lt;/span&gt; &lt;span class="s"&gt;&amp;quot; was called&amp;quot;&lt;/span&gt;
        &lt;span class="k"&gt;return&lt;/span&gt; &lt;span class="n"&gt;func&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="o"&gt;*&lt;/span&gt;&lt;span class="n"&gt;args&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="o"&gt;**&lt;/span&gt;&lt;span class="n"&gt;kwargs&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
    &lt;span class="k"&gt;return&lt;/span&gt; &lt;span class="n"&gt;with_logging&lt;/span&gt;

&lt;span class="nd"&gt;@logged&lt;/span&gt;
&lt;span class="k"&gt;def&lt;/span&gt; &lt;span class="nf"&gt;f&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;x&lt;/span&gt;&lt;span class="p"&gt;):&lt;/span&gt;
   &lt;span class="sd"&gt;&amp;quot;&amp;quot;&amp;quot;does some math&amp;quot;&amp;quot;&amp;quot;&lt;/span&gt;
   &lt;span class="k"&gt;return&lt;/span&gt; &lt;span class="n"&gt;x&lt;/span&gt; &lt;span class="o"&gt;+&lt;/span&gt; &lt;span class="n"&gt;x&lt;/span&gt; &lt;span class="o"&gt;*&lt;/span&gt; &lt;span class="n"&gt;x&lt;/span&gt;

&lt;span class="k"&gt;print&lt;/span&gt; &lt;span class="n"&gt;f&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;__name__&lt;/span&gt;  &lt;span class="c"&gt;# prints &amp;#39;f&amp;#39;, 沒wraps -&amp;gt; with_logging&lt;/span&gt;
&lt;span class="k"&gt;print&lt;/span&gt; &lt;span class="n"&gt;f&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;__doc__&lt;/span&gt;   &lt;span class="c"&gt;# prints &amp;#39;does some math&amp;#39; 沒wraps -&amp;gt; None&lt;/span&gt;

&lt;span class="k"&gt;print&lt;/span&gt; &lt;span class="s"&gt;&amp;#39;-----&amp;#39;&lt;/span&gt;

&lt;span class="k"&gt;def&lt;/span&gt; &lt;span class="nf"&gt;logged_param&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;param&lt;/span&gt;&lt;span class="p"&gt;):&lt;/span&gt;
    &lt;span class="k"&gt;def&lt;/span&gt; &lt;span class="nf"&gt;with_logging&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;func&lt;/span&gt;&lt;span class="p"&gt;):&lt;/span&gt;
        &lt;span class="c"&gt;#@wraps(func)&lt;/span&gt;
        &lt;span class="k"&gt;def&lt;/span&gt; &lt;span class="nf"&gt;log_p&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="o"&gt;*&lt;/span&gt;&lt;span class="n"&gt;args&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="o"&gt;**&lt;/span&gt;&lt;span class="n"&gt;kwargs&lt;/span&gt;&lt;span class="p"&gt;):&lt;/span&gt;
            &lt;span class="k"&gt;print&lt;/span&gt; &lt;span class="n"&gt;func&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;__name__&lt;/span&gt; &lt;span class="o"&gt;+&lt;/span&gt; &lt;span class="s"&gt;&amp;quot; was called, &amp;quot;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;param&lt;/span&gt;
            &lt;span class="k"&gt;return&lt;/span&gt; &lt;span class="n"&gt;func&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="o"&gt;*&lt;/span&gt;&lt;span class="n"&gt;args&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="o"&gt;**&lt;/span&gt;&lt;span class="n"&gt;kwargs&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
        &lt;span class="k"&gt;return&lt;/span&gt; &lt;span class="n"&gt;log_p&lt;/span&gt;
    &lt;span class="k"&gt;return&lt;/span&gt; &lt;span class="n"&gt;with_logging&lt;/span&gt;

&lt;span class="nd"&gt;@logged_param&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s"&gt;&amp;#39;foo&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;span class="k"&gt;def&lt;/span&gt; &lt;span class="nf"&gt;f2&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;x&lt;/span&gt;&lt;span class="p"&gt;):&lt;/span&gt;
   &lt;span class="sd"&gt;&amp;quot;&amp;quot;&amp;quot;does some math2&amp;quot;&amp;quot;&amp;quot;&lt;/span&gt;
   &lt;span class="k"&gt;return&lt;/span&gt; &lt;span class="n"&gt;x&lt;/span&gt; &lt;span class="o"&gt;+&lt;/span&gt; &lt;span class="n"&gt;x&lt;/span&gt; &lt;span class="o"&gt;*&lt;/span&gt; &lt;span class="n"&gt;x&lt;/span&gt;

&lt;span class="k"&gt;print&lt;/span&gt; &lt;span class="n"&gt;f2&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;__name__&lt;/span&gt;  &lt;span class="c"&gt;# prints &amp;#39;f&amp;#39;&lt;/span&gt;
&lt;span class="k"&gt;print&lt;/span&gt; &lt;span class="n"&gt;f2&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;__doc__&lt;/span&gt;   &lt;span class="c"&gt;# prints &amp;#39;does some math&amp;#39;&lt;/span&gt;
&lt;span class="k"&gt;print&lt;/span&gt; &lt;span class="n"&gt;f2&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="mi"&gt;2&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;

&lt;span class="nd"&gt;@logged_param&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s"&gt;&amp;#39;bar&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;span class="k"&gt;def&lt;/span&gt; &lt;span class="nf"&gt;f3&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;x&lt;/span&gt;&lt;span class="p"&gt;):&lt;/span&gt;
    &lt;span class="sd"&gt;&amp;quot;&amp;quot;&amp;quot; math3 &amp;quot;&amp;quot;&amp;quot;&lt;/span&gt;
    &lt;span class="k"&gt;return&lt;/span&gt; &lt;span class="n"&gt;x&lt;/span&gt; &lt;span class="o"&gt;+&lt;/span&gt; &lt;span class="n"&gt;x&lt;/span&gt; &lt;span class="o"&gt;*&lt;/span&gt; &lt;span class="n"&gt;x&lt;/span&gt;

&lt;span class="k"&gt;print&lt;/span&gt; &lt;span class="n"&gt;f3&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="mi"&gt;2&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;

&lt;span class="k"&gt;print&lt;/span&gt; &lt;span class="n"&gt;f2&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="mi"&gt;2&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;另一例:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span class="kn"&gt;from&lt;/span&gt; &lt;span class="nn"&gt;time&lt;/span&gt; &lt;span class="kn"&gt;import&lt;/span&gt; &lt;span class="n"&gt;time&lt;/span&gt;

&lt;span class="c"&gt;# Imperative Programming&lt;/span&gt;
&lt;span class="k"&gt;def&lt;/span&gt; &lt;span class="nf"&gt;speak&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;topic&lt;/span&gt;&lt;span class="p"&gt;):&lt;/span&gt;
    &lt;span class="k"&gt;print&lt;/span&gt; &lt;span class="s"&gt;&amp;quot;My speach is &amp;quot;&lt;/span&gt; &lt;span class="o"&gt;+&lt;/span&gt; &lt;span class="n"&gt;topic&lt;/span&gt;

&lt;span class="k"&gt;def&lt;/span&gt; &lt;span class="nf"&gt;timer&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;fn&lt;/span&gt;&lt;span class="p"&gt;):&lt;/span&gt;
    &lt;span class="k"&gt;def&lt;/span&gt; &lt;span class="nf"&gt;inner&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="o"&gt;*&lt;/span&gt;&lt;span class="n"&gt;args&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="o"&gt;**&lt;/span&gt;&lt;span class="n"&gt;kwargs&lt;/span&gt;&lt;span class="p"&gt;):&lt;/span&gt;
        &lt;span class="n"&gt;t&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;time&lt;/span&gt;&lt;span class="p"&gt;()&lt;/span&gt;
        &lt;span class="n"&gt;fn&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="o"&gt;*&lt;/span&gt;&lt;span class="n"&gt;args&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="o"&gt;**&lt;/span&gt;&lt;span class="n"&gt;kwargs&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
        &lt;span class="k"&gt;print&lt;/span&gt; &lt;span class="s"&gt;&amp;quot;took {time}&amp;quot;&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;format&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;time&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="n"&gt;time&lt;/span&gt;&lt;span class="p"&gt;()&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;t&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;

    &lt;span class="k"&gt;return&lt;/span&gt; &lt;span class="n"&gt;inner&lt;/span&gt;

&lt;span class="n"&gt;speaker&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;timer&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;speak&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;span class="n"&gt;speaker&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s"&gt;&amp;quot;FP with Python&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;

&lt;span class="c"&gt;# Decorator (Functional Programming)&lt;/span&gt;
&lt;span class="nd"&gt;@timer&lt;/span&gt;
&lt;span class="k"&gt;def&lt;/span&gt; &lt;span class="nf"&gt;speak&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;topic&lt;/span&gt;&lt;span class="p"&gt;):&lt;/span&gt;
    &lt;span class="k"&gt;print&lt;/span&gt; &lt;span class="s"&gt;&amp;quot;My speach is &amp;quot;&lt;/span&gt; &lt;span class="o"&gt;+&lt;/span&gt; &lt;span class="n"&gt;topic&lt;/span&gt;

&lt;span class="n"&gt;speak&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s"&gt;&amp;quot;FP with Python&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;

&lt;span class="c"&gt;# &amp;gt; My speach is FP with Python&lt;/span&gt;
&lt;span class="c"&gt;# &amp;gt; took 5.96046447754e-06&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;/div&gt;
&lt;div class="section" id="package"&gt;
&lt;h2&gt;Package&lt;/h2&gt;
&lt;div class="section" id="easy-install"&gt;
&lt;h3&gt;easy_install&lt;/h3&gt;
&lt;p&gt;upgrade pip:&lt;/p&gt;
&lt;pre class="literal-block"&gt;
easy_install --upgrade pip
&lt;/pre&gt;
&lt;/div&gt;
&lt;div class="section" id="pip"&gt;
&lt;h3&gt;pip&lt;/h3&gt;
&lt;p&gt;pip:&lt;/p&gt;
&lt;pre class="literal-block"&gt;
pip --version
&lt;/pre&gt;
&lt;p&gt;~/.pip/pip.conf:&lt;/p&gt;
&lt;pre class="literal-block"&gt;
[global]
index-url = http://d.pypi.python.org/simple

[install]
use-mirrors = true
mirrors =
    http://d.pypi.python.org
    http://b.pypi.python.org
&lt;/pre&gt;
&lt;p&gt;連不到d.pypi.python.org...時:&lt;/p&gt;
&lt;pre class="literal-block"&gt;
pip install -i http://pypi.python.org/simple PACKAGE
&lt;/pre&gt;
&lt;p&gt;&lt;a class="reference external" href="http://www.pypi-mirrors.org/"&gt;PyPI Mirror Status&lt;/a&gt;&lt;/p&gt;
&lt;/div&gt;
&lt;div class="section" id="id5"&gt;
&lt;h3&gt;推薦&lt;/h3&gt;
&lt;ul class="simple"&gt;
&lt;li&gt;&lt;a class="reference external" href="http://crsmithdev.com/arrow/"&gt;Arrow: better dates and times for Python — Arrow 0.4.4 documentation&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/div&gt;
&lt;/div&gt;
</summary><category term="docs"></category></entry><entry><title>[computer] Emacs輸入newline符號</title><link href="http://blog.suhen.org/computer/emacs_newline.html" rel="alternate"></link><updated>2013-06-27T11:32:00+08:00</updated><author><name>moogoo</name></author><id>tag:blog.suhen.org,2013-06-27:computer/emacs_newline.html</id><summary type="html">&lt;p&gt;Emacs的換行:&lt;/p&gt;
&lt;pre class="literal-block"&gt;
C-q C-j
&lt;/pre&gt;
&lt;div class="note"&gt;
&lt;p class="first admonition-title"&gt;Note&lt;/p&gt;
&lt;p class="last"&gt;&lt;cite&gt;C-q&lt;/cite&gt;: quoted-insert, &lt;cite&gt;C-j&lt;/cite&gt;: newline&lt;/p&gt;
&lt;/div&gt;
&lt;p&gt;但是我的 &lt;cite&gt;C-q&lt;/cite&gt; 和 &lt;cite&gt;C-j&lt;/cite&gt; 為了使用dvorak layout, 改成cut &amp;amp; paste:&lt;/p&gt;
&lt;pre class="literal-block"&gt;
(global-set-key (kbd &amp;quot;C-q&amp;quot;) 'kill-region) ; cut
(global-set-key (kbd &amp;quot;C-j&amp;quot;) 'kill-ring-save) ; paste
&lt;/pre&gt;
&lt;p&gt;因此把沒用到的 &lt;cite&gt;C-`&lt;/cite&gt; 跟 &lt;cite&gt;C-,&lt;/cite&gt; 拿來做key-translate:&lt;/p&gt;
&lt;pre class="literal-block"&gt;
(define-key key-translation-map (kbd &amp;quot;C-q&amp;quot;) (kbd &amp;quot;C-'&amp;quot;))
(define-key key-translation-map (kbd &amp;quot;C-'&amp;quot;) (kbd &amp;quot;C-q&amp;quot;))
(define-key key-translation-map (kbd &amp;quot;C-j&amp;quot;) (kbd &amp;quot;C-,&amp;quot;))
(define-key key-translation-map (kbd &amp;quot;C-,&amp;quot;) (kbd &amp;quot;C-j&amp;quot;))
(global-set-key (kbd &amp;quot;C-'&amp;quot;) 'kill-region)
(global-set-key (kbd &amp;quot;C-,&amp;quot;) 'kill-ring-save)
&lt;/pre&gt;
&lt;p&gt;搞得很複雜... 先試用一下看看...&lt;/p&gt;
</summary><category term="emacs"></category><category term="note"></category></entry><entry><title>[computer] 善用Emacs的replace-regexp</title><link href="http://blog.suhen.org/computer/emacs_replace-regexp.rst.html" rel="alternate"></link><updated>2013-06-25T10:07:00+08:00</updated><author><name>moogoo</name></author><id>tag:blog.suhen.org,2013-06-25:computer/emacs_replace-regexp.rst.html</id><summary type="html">&lt;p&gt;指令:&lt;/p&gt;
&lt;pre class="literal-block"&gt;
M-x replace-regexp &amp;lt;RET&amp;gt; regexp &amp;lt;RET&amp;gt; newstring &amp;lt;RET&amp;gt;
&lt;/pre&gt;
&lt;p&gt;特殊字&lt;/p&gt;
&lt;ul class="simple"&gt;
&lt;li&gt;&lt;tt class="docutils literal"&gt;\&amp;amp;’&lt;/tt&gt; 完整的匹配字&lt;/li&gt;
&lt;li&gt;&lt;tt class="docutils literal"&gt;\d&lt;/tt&gt; d是數字, 表示匹配在第幾個group (back reference)&lt;/li&gt;
&lt;li&gt;&lt;tt class="docutils literal"&gt;\#&lt;/tt&gt; 累加, 發生第幾次,第一次從0開始&lt;/li&gt;
&lt;li&gt;&lt;tt class="docutils literal"&gt;\,&lt;/tt&gt; Lisp expression&lt;/li&gt;
&lt;li&gt;&lt;tt class="docutils literal"&gt;\?&lt;/tt&gt; 詢問&lt;/li&gt;
&lt;/ul&gt;
&lt;div class="section" id="id1"&gt;
&lt;h2&gt;範例&lt;/h2&gt;
&lt;p&gt;數字編號:&lt;/p&gt;
&lt;pre class="literal-block"&gt;
1987:Bogotá
5243:Fabergé

\(.+:\)
\#.

0.Bogotá
1.Fabergé

如果要從1開始:
\,(1+ \#).
&lt;/pre&gt;
&lt;p&gt;HTML H降級:&lt;/p&gt;
&lt;pre class="literal-block"&gt;
&amp;lt;h1&amp;gt;silly&amp;lt;/h1&amp;gt;
&amp;lt;h2&amp;gt;walk&amp;lt;/h2&amp;gt;

&amp;lt;\(/?\)h\([0-9]\)&amp;gt;
&amp;lt;\1h\,(1+ \#2)&amp;gt;

&amp;lt;h2&amp;gt;silly&amp;lt;/h2&amp;gt;
&amp;lt;h3&amp;gt;walk&amp;lt;/h3&amp;gt;
&lt;/pre&gt;
&lt;p&gt;HTML link換成rst格式:&lt;/p&gt;
&lt;pre class="literal-block"&gt;
&amp;lt;a href=\&amp;quot;\(.+\)\&amp;quot;\(.*\)&amp;gt;\(.+\)&amp;lt;/a&amp;gt;
-&amp;gt;
`\3 &amp;lt;\1&amp;gt;`__
&lt;/pre&gt;
&lt;p&gt;(BUG)&lt;/p&gt;
&lt;p&gt;Flickr share link to rst:&lt;/p&gt;
&lt;pre class="literal-block"&gt;
&amp;lt;a href=\&amp;quot;\(.+\)\&amp;quot; \(.+\)&amp;gt;&amp;lt;img src=\&amp;quot;\(.+\).jpg\&amp;quot; \(.+\) alt=\&amp;quot;\(.+\)\&amp;quot;&amp;gt;&amp;lt;/a&amp;gt;
-&amp;gt;
\5 | `flickr &amp;lt;\1&amp;gt;`__

.. image:: \3.jpg
&lt;/pre&gt;
&lt;p&gt;(BUG)&lt;/p&gt;
&lt;p&gt;參考&lt;/p&gt;
&lt;ul class="simple"&gt;
&lt;li&gt;&lt;a class="reference external" href="http://www.gnu.org/software/emacs/manual/html_node/emacs/Regexp-Replace.html"&gt;Regexp Replace - GNU Emacs Manual&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a class="reference external" href="http://www.emacswiki.org/emacs/ReplaceRegexp"&gt;EmacsWiki: Replace Regexp&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/div&gt;
</summary><category term="note"></category><category term="emacs"></category></entry><entry><title>[Computer] 用Emacs dired-mode批次改檔名</title><link href="http://blog.suhen.org/computer/emacs_dired_rename.html" rel="alternate"></link><updated>2013-06-17T14:55:00+08:00</updated><author><name>moogoo</name></author><id>tag:blog.suhen.org,2013-06-17:computer/emacs_dired_rename.html</id><summary type="html">&lt;p&gt;看到 &lt;a class="reference external" href="http://xahlee.org"&gt;XahLee&lt;/a&gt; 的一篇文章: &lt;a class="reference external" href="http://ergoemacs.org/emacs/rename_file_pattern.html"&gt;Emacs: Rename Files Interactively by Pattern (regex; wdired)&lt;/a&gt; ，用Emacs來處理批次改檔名實在太方便了。&lt;/p&gt;
&lt;p&gt;在Dired模式下，&lt;strong&gt;C-x C-q&lt;/strong&gt; 進入修改模式，或是執行 &lt;strong&gt;wdired-change-to-wdired-mode&lt;/strong&gt;, 這時改檔名就像改一般文字檔一樣，可以用 &lt;em&gt;query-replace&lt;/em&gt;, &lt;em&gt;query-replace-regexp&lt;/em&gt; 或 &lt;em&gt;cua-mode&lt;/em&gt; , 改完後 &lt;strong&gt;C-c C-c&lt;/strong&gt; 送出, 或是 &lt;strong&gt;C-c C-Esc&lt;/strong&gt; 取消就可以了,  比寫script直覺多了。&lt;/p&gt;
</summary><category term="emacs"></category><category term="note"></category></entry><entry><title>用screen+irssi上IRC聊天不斷線</title><link href="http://blog.suhen.org/computer/irc_screen_irssi.html" rel="alternate"></link><updated>2013-05-26T15:21:00+08:00</updated><author><name>moogoo</name></author><id>tag:blog.suhen.org,2013-05-26:computer/irc_screen_irssi.html</id><summary type="html">&lt;p&gt;一直沒有很常使用IRC, 發現可以用screen detach/reattach的功能, 遠端機器開Irssi這個console介面的IRC client, 掛在IRC上, 就算本機突然沒網路, 回來重新連上screen, 還是可以接上回討論. 就像從沒離開過 (遠端真的從來沒有離開).&lt;/p&gt;
&lt;p&gt;安裝screen和irssi:&lt;/p&gt;
&lt;pre class="literal-block"&gt;
aptitude install screen
aptitude install irssi
&lt;/pre&gt;
&lt;p&gt;開screen (detach/reattach參數):&lt;/p&gt;
&lt;pre class="literal-block"&gt;
screen -RD
&lt;/pre&gt;
&lt;p&gt;進入irssi:&lt;/p&gt;
&lt;pre class="literal-block"&gt;
/connect irc.freenode.net # 連server
/nick moogoolee           # 改匿名
/j #python.tw             # 開channel
/wc                       # 離開channal
/disconnect               # server斷線
/quit                     # 離開irssi
&lt;/pre&gt;
&lt;p&gt;切換channel:&lt;/p&gt;
&lt;pre class="literal-block"&gt;
alt + 數字
&lt;/pre&gt;
&lt;p&gt;但是Mac的Alt會變成輸入特殊字, 用iTerm的話, 可以如以下設定:&lt;/p&gt;
&lt;p&gt;Bookmarks -&amp;gt; Manage Profiles -&amp;gt; Keyboard Profiles -&amp;gt; Global, 點選&amp;quot;Option Key as +Esc&amp;quot;&lt;/p&gt;
&lt;p&gt;參考連結: &lt;a class="reference external" href="http://lzy-blah.blogspot.tw/2007/08/screen-irssi-irc-q.html"&gt;lzy's 543: 用 screen + irssi 上 irc 之鄉民版教學 (含Q&amp;amp;A)&lt;/a&gt;&lt;/p&gt;
</summary><category term="note"></category></entry><entry><title>Database筆記 (MySQL, SQLite)</title><link href="http://blog.suhen.org/computer/database_docs.html" rel="alternate"></link><updated>2013-05-09T18:23:00+08:00</updated><author><name>moogoo</name></author><id>tag:blog.suhen.org,2013-05-09:computer/database_docs.html</id><summary type="html">&lt;div class="section" id="mysql"&gt;
&lt;h2&gt;MySql&lt;/h2&gt;
&lt;p&gt;Syntax&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="k"&gt;ALL&lt;/span&gt; &lt;span class="o"&gt;|&lt;/span&gt; &lt;span class="k"&gt;DISTINCT&lt;/span&gt; &lt;span class="o"&gt;|&lt;/span&gt; &lt;span class="n"&gt;DISTINCTROW&lt;/span&gt; &lt;span class="p"&gt;]&lt;/span&gt;
  &lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="n"&gt;HIGH_PRIORITY&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt;
  &lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="n"&gt;STRAIGHT_JOIN&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt;
  &lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="n"&gt;SQL_SMALL_RESULT&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt; &lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="n"&gt;SQL_BIG_RESULT&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt; &lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="n"&gt;SQL_BUFFER_RESULT&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt;
  &lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="n"&gt;SQL_CACHE&lt;/span&gt; &lt;span class="o"&gt;|&lt;/span&gt; &lt;span class="n"&gt;SQL_NO_CACHE&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt; &lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="n"&gt;SQL_CALC_FOUND_ROWS&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt;
&lt;span class="n"&gt;select_expr&lt;/span&gt; &lt;span class="p"&gt;[,&lt;/span&gt; &lt;span class="n"&gt;select_expr&lt;/span&gt; &lt;span class="p"&gt;...]&lt;/span&gt;
&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="k"&gt;FROM&lt;/span&gt; &lt;span class="n"&gt;table_references&lt;/span&gt;
&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="k"&gt;WHERE&lt;/span&gt; &lt;span class="n"&gt;where_condition&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt;
&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="k"&gt;GROUP&lt;/span&gt; &lt;span class="k"&gt;BY&lt;/span&gt; &lt;span class="err"&gt;{&lt;/span&gt;&lt;span class="n"&gt;col_name&lt;/span&gt; &lt;span class="o"&gt;|&lt;/span&gt; &lt;span class="n"&gt;expr&lt;/span&gt; &lt;span class="o"&gt;|&lt;/span&gt; &lt;span class="k"&gt;position&lt;/span&gt;&lt;span class="err"&gt;}&lt;/span&gt;
  &lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="k"&gt;ASC&lt;/span&gt; &lt;span class="o"&gt;|&lt;/span&gt; &lt;span class="k"&gt;DESC&lt;/span&gt;&lt;span class="p"&gt;],&lt;/span&gt; &lt;span class="p"&gt;...&lt;/span&gt; &lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="k"&gt;WITH&lt;/span&gt; &lt;span class="k"&gt;ROLLUP&lt;/span&gt;&lt;span class="p"&gt;]]&lt;/span&gt;
&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="k"&gt;HAVING&lt;/span&gt; &lt;span class="n"&gt;where_condition&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt;
&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="k"&gt;ORDER&lt;/span&gt; &lt;span class="k"&gt;BY&lt;/span&gt; &lt;span class="err"&gt;{&lt;/span&gt;&lt;span class="n"&gt;col_name&lt;/span&gt; &lt;span class="o"&gt;|&lt;/span&gt; &lt;span class="n"&gt;expr&lt;/span&gt; &lt;span class="o"&gt;|&lt;/span&gt; &lt;span class="k"&gt;position&lt;/span&gt;&lt;span class="err"&gt;}&lt;/span&gt;
  &lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="k"&gt;ASC&lt;/span&gt; &lt;span class="o"&gt;|&lt;/span&gt; &lt;span class="k"&gt;DESC&lt;/span&gt;&lt;span class="p"&gt;],&lt;/span&gt; &lt;span class="p"&gt;...]&lt;/span&gt;
&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="k"&gt;LIMIT&lt;/span&gt; &lt;span class="err"&gt;{&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="k"&gt;offset&lt;/span&gt;&lt;span class="p"&gt;,]&lt;/span&gt; &lt;span class="k"&gt;row_count&lt;/span&gt; &lt;span class="o"&gt;|&lt;/span&gt; &lt;span class="k"&gt;row_count&lt;/span&gt; &lt;span class="k"&gt;OFFSET&lt;/span&gt; &lt;span class="k"&gt;offset&lt;/span&gt;&lt;span class="err"&gt;}&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt;
&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="k"&gt;PROCEDURE&lt;/span&gt; &lt;span class="n"&gt;procedure_name&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;argument_list&lt;/span&gt;&lt;span class="p"&gt;)]&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;div class="note"&gt;
&lt;p class="first admonition-title"&gt;Note&lt;/p&gt;
&lt;p class="last"&gt;MySQL的JOIN預設是 &lt;tt class="docutils literal"&gt;INNER JOIN&lt;/tt&gt; ，另一種是LEFT OUTER JOIN，通常用 &lt;tt class="docutils literal"&gt;LEFT JOIN&lt;/tt&gt; 就可以了。MySQL會優先處理JOIN，然後才是WHERE。&lt;/p&gt;
&lt;/div&gt;
&lt;div class="section" id="cookbook"&gt;
&lt;h3&gt;cookbook&lt;/h3&gt;
&lt;p&gt;CURD:&lt;/p&gt;
&lt;pre class="literal-block"&gt;
INSERT INTO tbl_name (col1,col2) VALUES(15,col1*2);
INSERT INTO tbl_name (a,b,c) VALUES(1,2,3),(4,5,6),(7,8,9);
UPDATE user SET password=password('新密碼') where user='root';
&lt;/pre&gt;
&lt;p&gt;以中文筆畫排序:&lt;/p&gt;
&lt;pre class="literal-block"&gt;
CONVERT( 欄位名稱 using big5) 。
&lt;/pre&gt;
&lt;p&gt;LIMIT&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span class="k"&gt;SELECT&lt;/span&gt; &lt;span class="o"&gt;*&lt;/span&gt; &lt;span class="k"&gt;FROM&lt;/span&gt; &lt;span class="n"&gt;foo&lt;/span&gt; &lt;span class="k"&gt;LIMIT&lt;/span&gt; &lt;span class="mi"&gt;20&lt;/span&gt;
&lt;span class="k"&gt;SELECT&lt;/span&gt; &lt;span class="o"&gt;*&lt;/span&gt; &lt;span class="k"&gt;FROM&lt;/span&gt; &lt;span class="n"&gt;foo&lt;/span&gt; &lt;span class="k"&gt;LIMIT&lt;/span&gt; &lt;span class="mi"&gt;20&lt;/span&gt; &lt;span class="k"&gt;OFFSET&lt;/span&gt; &lt;span class="mi"&gt;40&lt;/span&gt; &lt;span class="c1"&gt;-- 從40個以後抓20個&lt;/span&gt;
&lt;span class="k"&gt;SELECT&lt;/span&gt; &lt;span class="o"&gt;*&lt;/span&gt; &lt;span class="k"&gt;FROM&lt;/span&gt; &lt;span class="n"&gt;foo&lt;/span&gt; &lt;span class="k"&gt;LIMIT&lt;/span&gt; &lt;span class="mi"&gt;40&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="mi"&gt;20&lt;/span&gt; &lt;span class="c1"&gt;-- 同上&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;查看database容量:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span class="k"&gt;SELECT&lt;/span&gt; &lt;span class="n"&gt;table_schema&lt;/span&gt; &lt;span class="ss"&gt;&amp;quot;database_name&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;
&lt;span class="k"&gt;sum&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt; &lt;span class="n"&gt;data_length&lt;/span&gt; &lt;span class="o"&gt;+&lt;/span&gt; &lt;span class="n"&gt;index_length&lt;/span&gt; &lt;span class="p"&gt;)&lt;/span&gt; &lt;span class="o"&gt;/&lt;/span&gt; &lt;span class="mi"&gt;1024&lt;/span&gt; &lt;span class="o"&gt;/&lt;/span&gt;
&lt;span class="mi"&gt;1024&lt;/span&gt; &lt;span class="ss"&gt;&amp;quot;Data Base Size in MB&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;
&lt;span class="k"&gt;sum&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt; &lt;span class="n"&gt;data_free&lt;/span&gt; &lt;span class="p"&gt;)&lt;/span&gt;&lt;span class="o"&gt;/&lt;/span&gt; &lt;span class="mi"&gt;1024&lt;/span&gt; &lt;span class="o"&gt;/&lt;/span&gt; &lt;span class="mi"&gt;1024&lt;/span&gt; &lt;span class="ss"&gt;&amp;quot;Free Space in MB&amp;quot;&lt;/span&gt;
&lt;span class="k"&gt;FROM&lt;/span&gt; &lt;span class="n"&gt;information_schema&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="n"&gt;TABLES&lt;/span&gt;
&lt;span class="k"&gt;GROUP&lt;/span&gt; &lt;span class="k"&gt;BY&lt;/span&gt; &lt;span class="n"&gt;table_schema&lt;/span&gt; &lt;span class="p"&gt;;&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;/div&gt;
&lt;div class="section" id="function"&gt;
&lt;h3&gt;function&lt;/h3&gt;
&lt;p&gt;時間&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span class="k"&gt;SELECT&lt;/span&gt; &lt;span class="n"&gt;NOW&lt;/span&gt;&lt;span class="p"&gt;(),&lt;/span&gt;&lt;span class="n"&gt;CURDATE&lt;/span&gt;&lt;span class="p"&gt;(),&lt;/span&gt;&lt;span class="n"&gt;CURTIME&lt;/span&gt;&lt;span class="p"&gt;()&lt;/span&gt; &lt;span class="p"&gt;;&lt;/span&gt; &lt;span class="o"&gt;|&lt;/span&gt; &lt;span class="mi"&gt;2012&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="mi"&gt;06&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="mi"&gt;04&lt;/span&gt; &lt;span class="mi"&gt;14&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;&lt;span class="mi"&gt;19&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;&lt;span class="mi"&gt;42&lt;/span&gt; &lt;span class="o"&gt;|&lt;/span&gt; &lt;span class="mi"&gt;2012&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="mi"&gt;06&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="mi"&gt;04&lt;/span&gt; &lt;span class="o"&gt;|&lt;/span&gt; &lt;span class="mi"&gt;14&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;&lt;span class="mi"&gt;19&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;&lt;span class="mi"&gt;42&lt;/span&gt; &lt;span class="o"&gt;|&lt;/span&gt;
&lt;span class="k"&gt;SELECT&lt;/span&gt; &lt;span class="k"&gt;MONTH&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;FROM_UNIXTIME&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;add_date&lt;/span&gt;&lt;span class="p"&gt;))&lt;/span&gt; &lt;span class="k"&gt;as&lt;/span&gt; &lt;span class="k"&gt;month&lt;/span&gt;
&lt;span class="k"&gt;SELECT&lt;/span&gt; &lt;span class="n"&gt;NOW&lt;/span&gt;&lt;span class="p"&gt;(),&lt;/span&gt; &lt;span class="n"&gt;NOW&lt;/span&gt;&lt;span class="p"&gt;()&lt;/span&gt; &lt;span class="o"&gt;-&lt;/span&gt; &lt;span class="nb"&gt;INTERVAL&lt;/span&gt; &lt;span class="mi"&gt;1&lt;/span&gt; &lt;span class="k"&gt;DAY&lt;/span&gt; &lt;span class="p"&gt;;&lt;/span&gt;&lt;span class="err"&gt;今天跟昨天&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;ref: &lt;a class="reference external" href="http://dev.mysql.com/doc/refman/5.5/en/date-and-time-functions.html"&gt;http://dev.mysql.com/doc/refman/5.5/en/date-and-time-functions.html&lt;/a&gt;&lt;/p&gt;
&lt;/div&gt;
&lt;div class="section" id="schema"&gt;
&lt;h3&gt;Schema&lt;/h3&gt;
&lt;div class="section" id="id1"&gt;
&lt;h4&gt;原則&lt;/h4&gt;
&lt;ul class="simple"&gt;
&lt;li&gt;小的好&lt;/li&gt;
&lt;li&gt;簡單的好, 如integers比characters好, 不用判斷collations&lt;/li&gt;
&lt;li&gt;不要用 &lt;strong&gt;NULL&lt;/strong&gt;, 影響效能, 可以用 &lt;tt class="docutils literal"&gt;0&lt;/tt&gt;, &lt;tt class="docutils literal"&gt;空字串&lt;/tt&gt;或 &lt;tt class="docutils literal"&gt;N&lt;/tt&gt;等值來代替&lt;/li&gt;
&lt;/ul&gt;
&lt;/div&gt;
&lt;div class="section" id="id2"&gt;
&lt;h4&gt;整數&lt;/h4&gt;
&lt;p&gt;資料儲存上 &lt;tt class="docutils literal"&gt;TINYINT&lt;/tt&gt;, &lt;tt class="docutils literal"&gt;SMALLINT&lt;/tt&gt;, &lt;tt class="docutils literal"&gt;MEDIUMINT&lt;/tt&gt;, &lt;tt class="docutils literal"&gt;INT&lt;/tt&gt;, &lt;tt class="docutils literal"&gt;BIGINT&lt;/tt&gt;各使用了8, 16, 26, 32, 64 bits, 數值範圍-2^(N-1)到2(N-1)-1, 加了 &lt;tt class="docutils literal"&gt;UNSIGNED&lt;/tt&gt;後, 範圍從0到2^N-1. 但是MySQL在 &lt;strong&gt;計算&lt;/strong&gt;上是用64-bit的BIGINT來算, 就算是32-bit的系統&lt;/p&gt;
&lt;p&gt;MySQL使用的整數長度, 如INT(11), 並不會真的有儲存限制, 只是為了command-line client的顯示, 在儲存和計算上INT(1)和INT(20)是一樣的.&lt;/p&gt;
&lt;/div&gt;
&lt;div class="section" id="id3"&gt;
&lt;h4&gt;實數&lt;/h4&gt;
&lt;p&gt;浮點數可以用 &lt;tt class="docutils literal"&gt;FLOAT&lt;/tt&gt; (4 bytes), &lt;tt class="docutils literal"&gt;DOUBLE&lt;/tt&gt; (8 bytes), &lt;tt class="docutils literal"&gt;DECIMAL&lt;/tt&gt; 等格式, MySQL在浮點數的計算上都是用DOUBLE, 資料儲存上以DECIMAL為佳&lt;/p&gt;
&lt;/div&gt;
&lt;div class="section" id="varcharchar"&gt;
&lt;h4&gt;VARCHAR和CHAR&lt;/h4&gt;
&lt;p&gt;&lt;tt class="docutils literal"&gt;VARCHAR&lt;/tt&gt;是可變長度, 會用1到2byte存字串長度(MyISAM或InnoDB), &lt;tt class="docutils literal"&gt;CHAR&lt;/tt&gt;是固字長度, 用來存Y/N, MD5值等.&lt;/p&gt;
&lt;/div&gt;
&lt;div class="section" id="id4"&gt;
&lt;h4&gt;時間&lt;/h4&gt;
&lt;p&gt;&lt;tt class="docutils literal"&gt;DATETIME&lt;/tt&gt; 以YYYYMMDDHHMMSS的格式儲存, 範圍從1001到9999年, 8 bytes&lt;/p&gt;
&lt;p&gt;&lt;tt class="docutils literal"&gt;TIMESTAMP&lt;/tt&gt; 以Unix timestamp格式, 範圍從1970到2038 (格林威治標準時間)&lt;/p&gt;
&lt;p&gt;選擇用TIMESTAMP比較節省空間, 但不要把unix timestamp存在整數格式, 因為沒有什麼好處, 也很難判讀&lt;/p&gt;
&lt;/div&gt;
&lt;div class="section" id="id5"&gt;
&lt;h4&gt;其他&lt;/h4&gt;
&lt;p&gt;&lt;tt class="docutils literal"&gt;BLOB&lt;/tt&gt;和 &lt;tt class="docutils literal"&gt;TEXT&lt;/tt&gt;不同的是TEXT會有character set和collation, BLOB沒有&lt;/p&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="section" id="id6"&gt;
&lt;h3&gt;最佳化&lt;/h3&gt;
&lt;p&gt;所有資料表最佳化:&lt;/p&gt;
&lt;pre class="literal-block"&gt;
mysqlcheck -a -c -o -r --all-databases -uroot -p
&lt;/pre&gt;
&lt;p&gt;a: analyze, c: check, o: optimize, r: repair&lt;/p&gt;
&lt;p&gt;重建索引:&lt;/p&gt;
&lt;pre class="literal-block"&gt;
myisamchk -s /var/lib/mysql/*/*.MYI
&lt;/pre&gt;
&lt;p&gt;s: silent mode (output only errors)&lt;/p&gt;
&lt;div class="note"&gt;
&lt;p class="first admonition-title"&gt;Note&lt;/p&gt;
&lt;p class="last"&gt;mysql要先停&lt;/p&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="section" id="tools"&gt;
&lt;h3&gt;Tools&lt;/h3&gt;
&lt;p&gt;&lt;a class="reference external" href="http://hackmysql.com/mysqlreportdoc"&gt;mysqlreport Documentation&lt;/a&gt;:&lt;/p&gt;
&lt;pre class="literal-block"&gt;
mysqlreport  --user MY_USER --password MY_PASS
&lt;/pre&gt;
&lt;div class="note"&gt;
&lt;p class="first admonition-title"&gt;Note&lt;/p&gt;
&lt;p class="last"&gt;Read Hit: 從硬碟/記憶體讀取key的比率, 最好不要低於99%, 太低的話, 檢查Key Report, 調高key buffer&lt;/p&gt;
&lt;/div&gt;
&lt;div class="note"&gt;
&lt;p class="first admonition-title"&gt;Note&lt;/p&gt;
&lt;p class="last"&gt;Slow: 要低於0.05&lt;/p&gt;
&lt;/div&gt;
&lt;p&gt;&lt;a class="reference external" href="http://hackmysql.com/mysqlreportguide"&gt;The Guide To Understanding mysqlreport&lt;/a&gt;&lt;/p&gt;
&lt;ul class="simple"&gt;
&lt;li&gt;&lt;a class="reference external" href="http://www.day32.com/MySQL/"&gt;Sundry MySQL Scripts and Docs&lt;/a&gt; 很棒的MySQL tuning scripts&lt;/li&gt;
&lt;li&gt;&lt;a class="reference external" href="https://github.com/rackerhacker/MySQLTuner-perl"&gt;rackerhacker/MySQLTuner-perl&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a class="reference external" href="http://hackmysql.com/mysqlsla"&gt;mysqlsla :: Parse, filter and sort MySQL slow, general and binary logs&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/div&gt;
&lt;div class="section" id="id7"&gt;
&lt;h3&gt;常用處理&lt;/h3&gt;
&lt;p&gt;第一次設定:&lt;/p&gt;
&lt;pre class="literal-block"&gt;
/usr/bin/mysql_secure_installation
&lt;/pre&gt;
&lt;p&gt;改root密碼:&lt;/p&gt;
&lt;pre class="literal-block"&gt;
mysqladmin -u root -p'oldpassword' password newpass
&lt;/pre&gt;
&lt;p&gt;via: &lt;a class="reference external" href="http://www.cyberciti.biz/faq/mysql-change-root-password/"&gt;MySQL Change root Password&lt;/a&gt;&lt;/p&gt;
&lt;div class="section" id="root"&gt;
&lt;h4&gt;忘記root密碼&lt;/h4&gt;
&lt;p&gt;1.先關掉mysql server:&lt;/p&gt;
&lt;pre class="literal-block"&gt;
sudo /etc/init.d/mysql stop
&lt;/pre&gt;
&lt;p&gt;2.開server, 但忽略grant-tables (存密碼的地方):&lt;/p&gt;
&lt;pre class="literal-block"&gt;
mysqld_safe --user=mysql --skip-grant-tables --skip-networking &amp;amp;
&lt;/pre&gt;
&lt;div class="note"&gt;
&lt;p class="first admonition-title"&gt;Note&lt;/p&gt;
&lt;p class="last"&gt;mysqld_safe就是用更安全的方式開啟(重載)mysqld, 如有錯誤發生時會重開, 寫log.&lt;/p&gt;
&lt;/div&gt;
&lt;p&gt;3.用root進入sql改密碼:&lt;/p&gt;
&lt;pre class="literal-block"&gt;
mysql -u root mysql
&amp;gt; UPDATE user SET Password=PASSWORD('123456') WHERE User='root';
&amp;gt; FLUSH PRIVILEGES;
&amp;gt; exit
&lt;/pre&gt;
&lt;p&gt;或是把上面sql語法存在foo.txt裡, 用:&lt;/p&gt;
&lt;pre class="literal-block"&gt;
mysqld_safe --init-file=/pathto/foo.txt &amp;amp;
&lt;/pre&gt;
&lt;div class="note"&gt;
&lt;p class="first admonition-title"&gt;Note&lt;/p&gt;
&lt;p class="last"&gt;flush privileges; 重載授權表&lt;/p&gt;
&lt;/div&gt;
&lt;p&gt;參考&lt;/p&gt;
&lt;ul class="simple"&gt;
&lt;li&gt;&lt;a class="reference external" href="http://wiki.joyent.com/display/smart/Resetting+the+MySQL+Root+Password"&gt;Resetting the MySQL Root Password - SmartMachines - Joyent Customer Wiki&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/div&gt;
&lt;div class="section" id="id8"&gt;
&lt;h4&gt;連接外部資料庫&lt;/h4&gt;
&lt;p&gt;1.改my.cnf(通常在/etc下):&lt;/p&gt;
&lt;pre class="literal-block"&gt;
# skip-networking 此行註解掉
bind-address = 11.22.33.44 # 加上要連過來的ip
&lt;/pre&gt;
&lt;div class="note"&gt;
&lt;p class="first admonition-title"&gt;Note&lt;/p&gt;
&lt;p class="last"&gt;OpenSolaris的my.cnf好像在加在/var/mysql才會有作用&lt;/p&gt;
&lt;/div&gt;
&lt;p&gt;2.重開mysql&lt;/p&gt;
&lt;p&gt;3.連線進入:&lt;/p&gt;
&lt;pre class="literal-block"&gt;
mysql -u root –p mysql
mysql&amp;gt; CREATE DATABASE foo;
mysql&amp;gt; GRANT ALL ON foo.* TO bar&amp;#64;'11.22.33.44' IDENTIFIED BY '密碼';

mysql&amp;gt; update db set Host='11.22.33.44' where Db='資料庫名稱';
mysql&amp;gt; update user set Host='11.22.33.44' where user='使用者名稱';
&lt;/pre&gt;
&lt;p&gt;4.重開mysql&lt;/p&gt;
&lt;p&gt;5.測試能不能連:&lt;/p&gt;
&lt;pre class="literal-block"&gt;
mysql -h 主機 -u root -p
&lt;/pre&gt;
&lt;/div&gt;
&lt;div class="section" id="id9"&gt;
&lt;h4&gt;資料庫編碼&lt;/h4&gt;
&lt;p&gt;列出MySQL各種編碼變數:&lt;/p&gt;
&lt;pre class="literal-block"&gt;
show variables like &amp;quot;character%&amp;quot;;
&lt;/pre&gt;
&lt;p&gt;php的 &lt;tt class="docutils literal"&gt;&lt;span class="pre"&gt;mysql_query(&amp;quot;SET&lt;/span&gt; NAMES &lt;span class="pre"&gt;UTF8&amp;quot;);&lt;/span&gt;&lt;/tt&gt; 相當於MySQL:&lt;/p&gt;
&lt;pre class="literal-block"&gt;
SET character_set_client = utf8;
SET character_set_results = utf8;
SET character_set_connection = utf8;
&lt;/pre&gt;
&lt;p&gt;編碼順序: &lt;strong&gt;client -&amp;gt; connect -&amp;gt; server -&amp;gt; connect -&amp;gt; client&lt;/strong&gt;&lt;/p&gt;
&lt;/div&gt;
&lt;div class="section" id="id10"&gt;
&lt;h4&gt;亂碼處理&lt;/h4&gt;
&lt;p&gt;原本是latin1(ISO 8859-1)編碼, 要改成utf-8:&lt;/p&gt;
&lt;ol class="arabic simple"&gt;
&lt;li&gt;mysqldump -uroot -p mydb --default-character-set=latin1 &amp;gt; old.sql&lt;/li&gt;
&lt;li&gt;piconv -f utf8 -t utf8 old.sql&amp;gt; new.sql&lt;/li&gt;
&lt;li&gt;打開new.sql裡面加 &lt;tt class="docutils literal"&gt;SET NAMES utf8&lt;/tt&gt;;&lt;/li&gt;
&lt;li&gt;mysql -uroot -pmypassword -Dmydb_new --default-character-set=utf8 &amp;lt; new.sql&lt;/li&gt;
&lt;/ol&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="section" id="command"&gt;
&lt;h3&gt;command&lt;/h3&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span class="n"&gt;mysql&lt;/span&gt; &lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;uUSER&lt;/span&gt; &lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;pPASS&lt;/span&gt; &lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;e&lt;/span&gt; &lt;span class="ss"&gt;&amp;quot;DROP DATABASE foo; CREATE DATABASE bar COLLATE &amp;#39;utf8_general_ci&amp;#39;;&amp;quot;&lt;/span&gt;

&lt;span class="k"&gt;SHOW&lt;/span&gt; &lt;span class="n"&gt;DATABASES&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;
&lt;span class="k"&gt;SHOW&lt;/span&gt; &lt;span class="n"&gt;TABLES&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;
&lt;span class="n"&gt;USE&lt;/span&gt; &lt;span class="n"&gt;db_name&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;

&lt;span class="k"&gt;TRUNCATE&lt;/span&gt; &lt;span class="n"&gt;tbl_name&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;
&lt;span class="k"&gt;DROP&lt;/span&gt; &lt;span class="k"&gt;DATABASE&lt;/span&gt; &lt;span class="n"&gt;db_name&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;
&lt;span class="k"&gt;DROP&lt;/span&gt; &lt;span class="k"&gt;TABLE&lt;/span&gt; &lt;span class="n"&gt;tbl_name&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;

&lt;span class="k"&gt;SHOW&lt;/span&gt; &lt;span class="k"&gt;TABLE&lt;/span&gt; &lt;span class="n"&gt;STATUS&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt; &lt;span class="o"&gt;#&lt;/span&gt; &lt;span class="err"&gt;看&lt;/span&gt;&lt;span class="k"&gt;collation&lt;/span&gt;
&lt;span class="k"&gt;DESCRIBE&lt;/span&gt; &lt;span class="n"&gt;tbl_name&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt; &lt;span class="o"&gt;#&lt;/span&gt; &lt;span class="err"&gt;看&lt;/span&gt;&lt;span class="k"&gt;table&lt;/span&gt;&lt;span class="err"&gt;屬性&lt;/span&gt;
&lt;span class="k"&gt;SHOW&lt;/span&gt; &lt;span class="k"&gt;FULL&lt;/span&gt; &lt;span class="n"&gt;COLUMNS&lt;/span&gt; &lt;span class="k"&gt;FROM&lt;/span&gt; &lt;span class="n"&gt;tbl_name&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt; &lt;span class="o"&gt;#&lt;/span&gt;&lt;span class="k"&gt;table&lt;/span&gt; &lt;span class="err"&gt;細節&lt;/span&gt;
&lt;span class="k"&gt;ALTER&lt;/span&gt; &lt;span class="k"&gt;TABLE&lt;/span&gt; &lt;span class="n"&gt;tablename&lt;/span&gt; &lt;span class="k"&gt;CONVERT&lt;/span&gt; &lt;span class="k"&gt;TO&lt;/span&gt; &lt;span class="nb"&gt;CHARACTER&lt;/span&gt; &lt;span class="k"&gt;SET&lt;/span&gt; &lt;span class="n"&gt;utf8&lt;/span&gt; &lt;span class="k"&gt;COLLATE&lt;/span&gt; &lt;span class="n"&gt;utf8_general_ci&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt; &lt;span class="o"&gt;#&lt;/span&gt; &lt;span class="err"&gt;改欄位編碼&lt;/span&gt;

&lt;span class="k"&gt;SHOW&lt;/span&gt; &lt;span class="k"&gt;GLOBAL&lt;/span&gt; &lt;span class="n"&gt;VARIABLES&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;/div&gt;
&lt;div class="section" id="server-management"&gt;
&lt;h3&gt;Server Management&lt;/h3&gt;
&lt;p&gt;安裝, 以Debian為例:&lt;/p&gt;
&lt;pre class="literal-block"&gt;
# 清除
sudo apt-get --purge remove mysql-server mysql-common mysql-client
# 安裝
sudo apt-get install mysql-server mysql-common mysql-client php5-mysql
# 第一次設定admin密碼
mysqladmin -u root password your-new-password
# 啟動
sudo /etc/init.d/mysql restart
# data位置
# /var/lib/mysql
&lt;/pre&gt;
&lt;div class="section" id="mac-os-x"&gt;
&lt;h4&gt;Mac OS X&lt;/h4&gt;
&lt;p&gt;從MySql(&lt;a class="reference external" href="http://dev.mysql.com/downloads/mysql/"&gt;http://dev.mysql.com/downloads/mysql/&lt;/a&gt;) 找適何的package，裝完後:&lt;/p&gt;
&lt;p&gt;binary:&lt;/p&gt;
&lt;pre class="literal-block"&gt;
/usr/local/mysql/bin/mysql
&lt;/pre&gt;
&lt;p&gt;path:&lt;/p&gt;
&lt;pre class="literal-block"&gt;
export PATH=/usr/local/mysql/bin:$PATH
sudo ln -s /usr/local/mysql/lib/libmysqlclient.18.dylib /usr/lib/libmysqlclient.18.dylib
&lt;/pre&gt;
&lt;div class="note"&gt;
&lt;p class="first admonition-title"&gt;Note&lt;/p&gt;
&lt;p class="last"&gt;原本沒有 /etc/my.cnf, 可以從 /usr/local/mysql/support-files/ 找一個官方範本來改&lt;/p&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="section" id="import-export"&gt;
&lt;h4&gt;Import / Export&lt;/h4&gt;
&lt;p&gt;倒整個資料庫:&lt;/p&gt;
&lt;pre class="literal-block"&gt;
$ mysqldump ---u myuser -p myuser_db &amp;gt; myuser_db.sql
$ mysqldump --skip-lock-tables -umysuer -ppassword --database mydb &amp;gt; backup.sql
&lt;/pre&gt;
&lt;p&gt;倒一個資料表:&lt;/p&gt;
&lt;pre class="literal-block"&gt;
$ mysqldump -u myuser -p myuser_db sometable &amp;gt; myuser_db_sometable.sql
&lt;/pre&gt;
&lt;p&gt;到多個叫foo_開頭的資料表到同一個檔案:&lt;/p&gt;
&lt;pre class="literal-block"&gt;
mysql databasename -u [root] -p[password] -e 'show tables like &amp;quot;foo_%&amp;quot;' | grep -v Tables_in | xargs mysqldump [databasename] -u [root] -p[password] &amp;gt; [target_file]
&lt;/pre&gt;
&lt;p&gt;&lt;strong&gt;import&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;方法1:&lt;/p&gt;
&lt;pre class="literal-block"&gt;
直接import
$ mysql  -uname -p dbname  --default-character-set=utf8  &amp;lt;  XXX.sql
&lt;/pre&gt;
&lt;p&gt;方法2:&lt;/p&gt;
&lt;pre class="literal-block"&gt;
先登入mysql shell介面
$ mysql -u myuser -p
$ use myuser_db; #select db
$ \. myuser_db_sometable.sql
$ \q
&lt;/pre&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="section" id="configuration"&gt;
&lt;h3&gt;Configuration&lt;/h3&gt;
&lt;p&gt;my.cnf選用(/usr/share/mysql/下)&lt;/p&gt;
&lt;ul class="simple"&gt;
&lt;li&gt;my-small.cnf(小於64MB的記憶體)&lt;/li&gt;
&lt;li&gt;my-medium.cnf (64~128MB的記憶體)&lt;/li&gt;
&lt;li&gt;my-large.cnf (128~512MB的記憶體)&lt;/li&gt;
&lt;li&gt;my-huge.cnf (1~2GB的記憶體)&lt;/li&gt;
&lt;li&gt;my-innodb-heavy-4G.cnf (4GB的記憶體)&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;找my.cnf:&lt;/p&gt;
&lt;pre class="literal-block"&gt;
mysql --verbose --help | grep -A 1 'Default options'
# CentOS: /etc/my.cnf ~/.my.cnf
&lt;/pre&gt;
&lt;p&gt;my.cnf:&lt;/p&gt;
&lt;pre class="literal-block"&gt;
[mysqld]
set-variable=max_connections=250
default-storage-engine=InnoDB # 預設選用InnoDB

# slow query
log-slow-queries=/tmp/slow-query.log #
long_query_time = 3 #query超過2秒時，則會記錄
log-queries-not-using-indexes

# optimize
query_cache_size # 大量相同的query時, 很有用
key_buffer_size # 越大query越快, 但最好設定1/4, 不要超過一半的系統記憶體 (看*.MYI的size多大, 就設多大)
&lt;/pre&gt;
&lt;div class="note"&gt;
&lt;p class="first admonition-title"&gt;Note&lt;/p&gt;
&lt;p class="last"&gt;MySQL安裝時不一定會產生&lt;/p&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="section" id="q-a"&gt;
&lt;h3&gt;Q &amp;amp; A&lt;/h3&gt;
&lt;p&gt;error: MySQL server has gone away:&lt;/p&gt;
&lt;pre class="literal-block"&gt;
; my.cnf
max_allowed_packet = 1M ; 超過SQL設定最大長度, 改大一點
; or 連線逾時
wait_timeout
interactive_timeout
&lt;/pre&gt;
&lt;/div&gt;
&lt;div class="section" id="others"&gt;
&lt;h3&gt;others&lt;/h3&gt;
&lt;ul class="simple"&gt;
&lt;li&gt;&lt;a class="reference external" href="http://antbsd.twbbs.org/~ant/wordpress/?p=2259"&gt;探討 MySQL 授權 | Ant's ATField&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="section" id="sqlite"&gt;
&lt;h2&gt;Sqlite&lt;/h2&gt;
&lt;p&gt;常用指令&lt;/p&gt;
&lt;pre class="literal-block"&gt;
$ sqlite3 new.db # create db
$ sqlite3 myprecious.db &amp;quot;.dump&amp;quot; ＞ output.sql # dump sql
$ sqlite3 new.db ＜ output.sql # import
# or
$ cat dumpfile.sql | sqlite3 new.db
&lt;/pre&gt;
&lt;p&gt;進入sqlite3後:&lt;/p&gt;
&lt;pre class="literal-block"&gt;
.tables  # MySQL的show tables
.schema TABLENAME
.help
&lt;/pre&gt;
&lt;p&gt;ref&lt;/p&gt;
&lt;ul class="simple"&gt;
&lt;li&gt;&lt;a class="reference external" href="http://www.sqlite.org/sqlite.html"&gt;Command Line Shell For SQLite&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;!-- Comment
Engine
- [[http://blog.roga.tw/2008/11/19/1288][MySQL 資料庫儲存引擎的選用]]
- [[http://miggo.pixnet.net/blog/post/30855147][MySQL各Engine Type(MyISAM / InnoDB / Memory) 的特性說明]]
- [[http://www.student.tw/db/showthread.php?t=174156][【問題】Mysql 中的 MyIsam 與 InnoDB 之差異 - 深藍學生論壇]]
** type
- [[http://www.systn.com/data/articles/304_tw.html][mysql中char與varchar的區別]] --&gt;
&lt;/div&gt;
&lt;div class="section" id="id11"&gt;
&lt;h2&gt;比較&lt;/h2&gt;
&lt;table class="docutils field-list" frame="void" rules="none"&gt;
&lt;col class="field-name" /&gt;
&lt;col class="field-body" /&gt;
&lt;tbody valign="top"&gt;
&lt;tr class="field"&gt;&lt;th class="field-name"&gt;MySQL:&lt;/th&gt;&lt;td class="field-body"&gt;RAND()&lt;/td&gt;
&lt;/tr&gt;
&lt;tr class="field"&gt;&lt;th class="field-name"&gt;Sqlite:&lt;/th&gt;&lt;td class="field-body"&gt;RANDOM()&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;p&gt;MySQL有ROW_NUMBER(), Sqlite沒有, 只能用SQL語法的奇技淫巧來達成.&lt;/p&gt;
&lt;/div&gt;
&lt;div class="section" id="snippets"&gt;
&lt;h2&gt;snippets&lt;/h2&gt;
&lt;p&gt;單字表沒有照abc排, 要照字母順序排序(num)&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span class="k"&gt;SELECT&lt;/span&gt; &lt;span class="o"&gt;*&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="k"&gt;SELECT&lt;/span&gt; &lt;span class="k"&gt;COUNT&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="o"&gt;*&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt; &lt;span class="k"&gt;FROM&lt;/span&gt; &lt;span class="n"&gt;en_word&lt;/span&gt; &lt;span class="k"&gt;AS&lt;/span&gt; &lt;span class="n"&gt;t2&lt;/span&gt; &lt;span class="k"&gt;where&lt;/span&gt; &lt;span class="k"&gt;LOWER&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;t2&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="n"&gt;word&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt; &lt;span class="o"&gt;&amp;lt;=&lt;/span&gt; &lt;span class="k"&gt;LOWER&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;t1&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="n"&gt;word&lt;/span&gt;&lt;span class="p"&gt;))&lt;/span&gt; &lt;span class="k"&gt;as&lt;/span&gt; &lt;span class="n"&gt;NUM&lt;/span&gt; &lt;span class="k"&gt;FROM&lt;/span&gt; &lt;span class="n"&gt;en_word&lt;/span&gt; &lt;span class="k"&gt;AS&lt;/span&gt; &lt;span class="n"&gt;t1&lt;/span&gt; &lt;span class="k"&gt;WHERE&lt;/span&gt; &lt;span class="n"&gt;t1&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="n"&gt;id&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;foo&lt;/span&gt; &lt;span class="k"&gt;ORDER&lt;/span&gt; &lt;span class="k"&gt;BY&lt;/span&gt; &lt;span class="k"&gt;LOWER&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;word&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;一個裝置, 安裝了2個app以上的數量統計&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span class="k"&gt;select&lt;/span&gt; &lt;span class="k"&gt;count&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="o"&gt;*&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt; &lt;span class="k"&gt;as&lt;/span&gt; &lt;span class="n"&gt;total&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;num&lt;/span&gt; &lt;span class="k"&gt;as&lt;/span&gt; &lt;span class="n"&gt;num_of_apps&lt;/span&gt; &lt;span class="k"&gt;from&lt;/span&gt; &lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="k"&gt;select&lt;/span&gt; &lt;span class="k"&gt;count&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="o"&gt;*&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt; &lt;span class="k"&gt;as&lt;/span&gt; &lt;span class="n"&gt;num&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;did&lt;/span&gt; &lt;span class="k"&gt;from&lt;/span&gt; &lt;span class="n"&gt;log_user_data&lt;/span&gt; &lt;span class="k"&gt;group&lt;/span&gt; &lt;span class="k"&gt;by&lt;/span&gt; &lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;did&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt; &lt;span class="k"&gt;order&lt;/span&gt; &lt;span class="k"&gt;by&lt;/span&gt; &lt;span class="n"&gt;num&lt;/span&gt; &lt;span class="k"&gt;desc&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt; &lt;span class="n"&gt;t&lt;/span&gt; &lt;span class="k"&gt;where&lt;/span&gt; &lt;span class="n"&gt;num&lt;/span&gt; &lt;span class="o"&gt;&amp;gt;&lt;/span&gt; &lt;span class="mi"&gt;1&lt;/span&gt; &lt;span class="k"&gt;group&lt;/span&gt; &lt;span class="k"&gt;by&lt;/span&gt; &lt;span class="n"&gt;num&lt;/span&gt; &lt;span class="k"&gt;desc&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;每個字母開頭的單字數量&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span class="k"&gt;select&lt;/span&gt; &lt;span class="k"&gt;count&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="o"&gt;*&lt;/span&gt;&lt;span class="p"&gt;),&lt;/span&gt;&lt;span class="k"&gt;lower&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;substr&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;english&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="mi"&gt;1&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="mi"&gt;1&lt;/span&gt;&lt;span class="p"&gt;))&lt;/span&gt; &lt;span class="k"&gt;as&lt;/span&gt; &lt;span class="k"&gt;c&lt;/span&gt; &lt;span class="k"&gt;from&lt;/span&gt; &lt;span class="n"&gt;words&lt;/span&gt; &lt;span class="k"&gt;group&lt;/span&gt; &lt;span class="k"&gt;by&lt;/span&gt; &lt;span class="k"&gt;c&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;/div&gt;
</summary><category term="docs"></category><category term="mysql"></category><category term="sqlite"></category></entry><entry><title>Emacs 小抄</title><link href="http://blog.suhen.org/computer/emacs.html" rel="alternate"></link><updated>2013-04-26T18:37:00+08:00</updated><author><name>moogoo</name></author><id>tag:blog.suhen.org,2013-04-26:computer/emacs.html</id><summary type="html">&lt;div class="section" id="tips"&gt;
&lt;h2&gt;Tips&lt;/h2&gt;
&lt;p&gt;自動補齊:&lt;/p&gt;
&lt;pre class="literal-block"&gt;
M-/
&lt;/pre&gt;
&lt;p&gt;變數對齊:&lt;/p&gt;
&lt;pre class="literal-block"&gt;
M-x align-regexp
&lt;/pre&gt;
&lt;p&gt;輸入 &lt;tt class="docutils literal"&gt;=&lt;/tt&gt;&lt;/p&gt;
&lt;p&gt;列出全部字串:&lt;/p&gt;
&lt;pre class="literal-block"&gt;
M-x occur
&lt;/pre&gt;
&lt;p&gt;刪除整行(vim's dd):&lt;/p&gt;
&lt;pre class="literal-block"&gt;
C-S-Backspace
&lt;/pre&gt;
&lt;p&gt;刪除空白行:&lt;/p&gt;
&lt;pre class="literal-block"&gt;
M-x flush-lines RET ^$ RET ;純空白行
M-x flush-lines RET ^\s-*$ RET ; 有空白的空白行
&lt;/pre&gt;
&lt;p&gt;編輯每行文字:&lt;/p&gt;
&lt;pre class="literal-block"&gt;
;; 把每行的文字foo加indent和quote 'foo' =&amp;gt;'  &amp;quot;foo&amp;quot;'
M-x replace-regexp RET ^ RET SPACE SPACE&amp;quot; RET ;; 開頭加3個空白和&amp;quot;
M-x replace-regexp RET $ RET &amp;quot;, RET ;; 結尾加&amp;quot;
&lt;/pre&gt;
&lt;p&gt;每行加2空白:&lt;/p&gt;
&lt;pre class="literal-block"&gt;
M-x cua-mode
選好區塊
C-RET
移到第一行
按2個空白
&lt;/pre&gt;
&lt;p&gt;&lt;strong&gt;參考&lt;/strong&gt;
&lt;a class="reference external" href="http://stackoverflow.com/questions/60367/the-single-most-useful-emacs-feature"&gt;polls - The single most useful Emacs feature - Stack Overflow&lt;/a&gt;&lt;/p&gt;
&lt;/div&gt;
&lt;div class="section" id="basic"&gt;
&lt;h2&gt;Basic&lt;/h2&gt;
&lt;div class="section" id="movement"&gt;
&lt;h3&gt;移動 Movement&lt;/h3&gt;
&lt;table border="1" class="docutils"&gt;
&lt;colgroup&gt;
&lt;col width="18%" /&gt;
&lt;col width="82%" /&gt;
&lt;/colgroup&gt;
&lt;tbody valign="top"&gt;
&lt;tr&gt;&lt;td&gt;M-&amp;lt;&lt;/td&gt;
&lt;td&gt;beginning-of-buffer&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;&lt;td&gt;M-&amp;gt;&lt;/td&gt;
&lt;td&gt;end-of-buffer&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;&lt;td&gt;C-M-V&lt;/td&gt;
&lt;td&gt;other window page down&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;&lt;td&gt;C-M-S-V&lt;/td&gt;
&lt;td&gt;other window page up&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;p&gt;search: M-c 切換case-sensitivity&lt;/p&gt;
&lt;p&gt;M-x occur 找出某字串在此 buffer 那裡現出&lt;/p&gt;
&lt;/div&gt;
&lt;div class="section" id="editing"&gt;
&lt;h3&gt;編輯 Editing&lt;/h3&gt;
&lt;table border="1" class="docutils"&gt;
&lt;colgroup&gt;
&lt;col width="40%" /&gt;
&lt;col width="60%" /&gt;
&lt;/colgroup&gt;
&lt;tbody valign="top"&gt;
&lt;tr&gt;&lt;td&gt;M-x string-replace&lt;/td&gt;
&lt;td&gt;replace&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;&lt;td&gt;M-x query-replace&lt;/td&gt;
&lt;td&gt;confirm (M-%)&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;&lt;td&gt;M-x replace-regexp&lt;/td&gt;
&lt;td&gt;replace with regex&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;&lt;td&gt;C-t&lt;/td&gt;
&lt;td&gt;對調兩字元&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;&lt;td&gt;M-t&lt;/td&gt;
&lt;td&gt;對調兩word&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;&lt;td&gt;C-x C-t&lt;/td&gt;
&lt;td&gt;對調兩行, 跟游標上一行對調&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;&lt;td&gt;M-c&lt;/td&gt;
&lt;td&gt;單字的第一個字大寫&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;&lt;td&gt;M-u&lt;/td&gt;
&lt;td&gt;單字改大寫&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;&lt;td&gt;M-l&lt;/td&gt;
&lt;td&gt;單字改小寫&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;&lt;td&gt;C-S-Backspace&lt;/td&gt;
&lt;td&gt;刪除整行&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;&lt;td&gt;M-&lt;/td&gt;
&lt;td&gt;刪除游標前後全部空白, tab&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;div class="section" id="register-and-bookmark"&gt;
&lt;h4&gt;Register and Bookmark&lt;/h4&gt;
&lt;table border="1" class="docutils"&gt;
&lt;colgroup&gt;
&lt;col width="15%" /&gt;
&lt;col width="85%" /&gt;
&lt;/colgroup&gt;
&lt;tbody valign="top"&gt;
&lt;tr&gt;&lt;td&gt;C-x r SPACE&lt;/td&gt;
&lt;td&gt;設定register, 出現Point to register後輸入一字元&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;&lt;td&gt;C-x r j&lt;/td&gt;
&lt;td&gt;移動到register, 出現Jump to register後輸入一字元&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;&lt;td&gt;C-x r s a&lt;/td&gt;
&lt;td&gt;copy-to-register, 把region內的文字copy到register a&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;&lt;td&gt;C-x r i a&lt;/td&gt;
&lt;td&gt;insert-register, insert register a&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;&lt;td&gt;C-x r w a&lt;/td&gt;
&lt;td&gt;把window的狀態存起來, window-configuration-to-register, C-x r j 叫出來&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;&lt;td&gt;C-x r f a&lt;/td&gt;
&lt;td&gt;frame-configuration-to-register&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;&lt;td&gt;C-x r m&lt;/td&gt;
&lt;td&gt;設定bookmark, bookmark會永久存起來(~/.emacs.bmk), register不會&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;&lt;td&gt;C-x r b&lt;/td&gt;
&lt;td&gt;goto bookmark&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;&lt;td&gt;C-x r l&lt;/td&gt;
&lt;td&gt;list bookmark&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;p&gt;其他:&lt;/p&gt;
&lt;ul class="simple"&gt;
&lt;li&gt;M-x bookmark-delete &amp;lt;RET&amp;gt; bookmark名字 &amp;lt;RET&amp;gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="section" id="coding"&gt;
&lt;h3&gt;Coding&lt;/h3&gt;
&lt;table border="1" class="docutils"&gt;
&lt;colgroup&gt;
&lt;col width="52%" /&gt;
&lt;col width="48%" /&gt;
&lt;/colgroup&gt;
&lt;tbody valign="top"&gt;
&lt;tr&gt;&lt;td&gt;C-h C &amp;lt;RET&amp;gt;&lt;/td&gt;
&lt;td&gt;看目前coding&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;&lt;td&gt;M-x list-coding-systems&lt;/td&gt;
&lt;td&gt;列出所有coding system&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;&lt;td&gt;C-x &amp;lt;RET&amp;gt; r coding &amp;lt;RET&amp;gt;&lt;/td&gt;
&lt;td&gt;選coding system重新讀檔&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;&lt;td&gt;C-x &amp;lt;RET&amp;gt; f coding &amp;lt;RET&amp;gt;&lt;/td&gt;
&lt;td&gt;coding system存檔&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;&lt;td&gt;C-x &amp;lt;RET&amp;gt; c coding &amp;lt;RET&amp;gt;&lt;/td&gt;
&lt;td&gt;coding system buffer?&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;&lt;td&gt;C-u C-x =&lt;/td&gt;
&lt;td&gt;詳細coding system&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;&lt;td&gt;C-x &amp;lt;RET&amp;gt; c raw-text &amp;lt;RET&amp;gt;&lt;/td&gt;
&lt;td&gt;load unibyte&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;/div&gt;
&lt;div class="section" id="id1"&gt;
&lt;h3&gt;特殊符號&lt;/h3&gt;
&lt;ul class="simple"&gt;
&lt;li&gt;C-q C-j 換行符號, Windows編輯器的^M: M-x replace-string [ENTER] C-q C-m [ENTER] n [ENTER]&lt;/li&gt;
&lt;/ul&gt;
&lt;/div&gt;
&lt;div class="section" id="help"&gt;
&lt;h3&gt;Help&lt;/h3&gt;
&lt;table border="1" class="docutils"&gt;
&lt;colgroup&gt;
&lt;col width="25%" /&gt;
&lt;col width="75%" /&gt;
&lt;/colgroup&gt;
&lt;tbody valign="top"&gt;
&lt;tr&gt;&lt;td&gt;C-h ?&lt;/td&gt;
&lt;td&gt;help的help, SPACE和Backspace上下移動&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;&lt;td&gt;C-h v&lt;/td&gt;
&lt;td&gt;M-x describe-variable&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;&lt;td&gt;C-h f&lt;/td&gt;
&lt;td&gt;M-x describe-function&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;&lt;td&gt;C-h m&lt;/td&gt;
&lt;td&gt;M-x describe-mode&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;&lt;td&gt;C-h k KEYS&lt;/td&gt;
&lt;td&gt;M-x describe-key KEYS&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;&lt;td&gt;C-h c KEYS&lt;/td&gt;
&lt;td&gt;M-x describe-key-briefly&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;&lt;td&gt;C-h b&lt;/td&gt;
&lt;td&gt;M-x describe-bindings&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="section" id="modes"&gt;
&lt;h2&gt;Modes&lt;/h2&gt;
&lt;div class="section" id="dired"&gt;
&lt;h3&gt;Dired&lt;/h3&gt;
&lt;p&gt;M-x dired&lt;/p&gt;
&lt;table border="1" class="docutils"&gt;
&lt;colgroup&gt;
&lt;col width="13%" /&gt;
&lt;col width="87%" /&gt;
&lt;/colgroup&gt;
&lt;tbody valign="top"&gt;
&lt;tr&gt;&lt;td&gt;^&lt;/td&gt;
&lt;td&gt;回上目錄&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;&lt;td&gt;j&lt;/td&gt;
&lt;td&gt;jump 移動游標&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;&lt;td&gt;*&lt;/td&gt;
&lt;td&gt;標示&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;&lt;td&gt;u&lt;/td&gt;
&lt;td&gt;取消標示&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;&lt;td&gt;f&lt;/td&gt;
&lt;td&gt;(like C-x C-f 開檔)&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;&lt;td&gt;RET&lt;/td&gt;
&lt;td&gt;同上&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;&lt;td&gt;o&lt;/td&gt;
&lt;td&gt;開檔, 開在另一 window, 自動開一個分割視窗&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;&lt;td&gt;C-o&lt;/td&gt;
&lt;td&gt;開檔, 開在另一 window&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;&lt;td&gt;a&lt;/td&gt;
&lt;td&gt;開檔, 但是不會新開一個buffer&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;&lt;td&gt;C&lt;/td&gt;
&lt;td&gt;copy&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;&lt;td&gt;R&lt;/td&gt;
&lt;td&gt;rename, 可以當&amp;quot;mv&amp;quot;用&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;&lt;td&gt;d&lt;/td&gt;
&lt;td&gt;標示delete&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;&lt;td&gt;x&lt;/td&gt;
&lt;td&gt;執行delete&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;&lt;td&gt;+&lt;/td&gt;
&lt;td&gt;create dir&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;&lt;td&gt;M&lt;/td&gt;
&lt;td&gt;chmod&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;&lt;td&gt;O&lt;/td&gt;
&lt;td&gt;chown&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;&lt;td&gt;G&lt;/td&gt;
&lt;td&gt;chgrp&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;&lt;td&gt;g&lt;/td&gt;
&lt;td&gt;refresh&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;div class="section" id="id2"&gt;
&lt;h4&gt;批次改檔名&lt;/h4&gt;
&lt;table border="1" class="docutils"&gt;
&lt;colgroup&gt;
&lt;col width="26%" /&gt;
&lt;col width="74%" /&gt;
&lt;/colgroup&gt;
&lt;tbody valign="top"&gt;
&lt;tr&gt;&lt;td&gt;C-x C-q&lt;/td&gt;
&lt;td&gt;wdired-change-to-wdired-mode&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;&lt;td&gt;C-c C-c&lt;/td&gt;
&lt;td&gt;wdired-finish-edit&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;&lt;td&gt;C-c C-Esc&lt;/td&gt;
&lt;td&gt;wdired-abort-changes&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;div class="note"&gt;
&lt;p class="first admonition-title"&gt;Note&lt;/p&gt;
&lt;p class="last"&gt;C-x C-q (23.1以後)&lt;/p&gt;
&lt;/div&gt;
&lt;p&gt;ref: &lt;a class="reference external" href="http://ergoemacs.org/emacs/rename_file_pattern.html"&gt;Emacs: Rename Files Interactively by Pattern (regex; wdired)&lt;/a&gt;&lt;/p&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="section" id="org-mode"&gt;
&lt;h3&gt;Org-mode&lt;/h3&gt;
&lt;p&gt;預設開啟狀態:&lt;/p&gt;
&lt;pre class="literal-block"&gt;
#+STARTUP: overview
#+STARTUP: content
#+STARTUP: showall
#+STARTUP: showeverything

#+STARTUP: hideblocks
#+STARTUP: nohideblock
&lt;/pre&gt;
&lt;div class="section" id="id3"&gt;
&lt;h4&gt;移動&lt;/h4&gt;
&lt;table border="1" class="docutils"&gt;
&lt;colgroup&gt;
&lt;col width="27%" /&gt;
&lt;col width="73%" /&gt;
&lt;/colgroup&gt;
&lt;tbody valign="top"&gt;
&lt;tr&gt;&lt;td&gt;C-c C-n/p&lt;/td&gt;
&lt;td&gt;下/上一個outline&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;&lt;td&gt;C-c C-f/b&lt;/td&gt;
&lt;td&gt;下/上一個outline (同lever)&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;&lt;td&gt;C-c C-u&lt;/td&gt;
&lt;td&gt;上一層&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;/div&gt;
&lt;div class="section" id="agenda"&gt;
&lt;h4&gt;Agenda&lt;/h4&gt;
&lt;p&gt;C-c C-x C-s archive
C-c [ 把檔案加入agenda&lt;/p&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="section" id="calc"&gt;
&lt;h3&gt;Calc&lt;/h3&gt;
&lt;p&gt;M-x calc&lt;/p&gt;
&lt;table border="1" class="docutils"&gt;
&lt;colgroup&gt;
&lt;col width="36%" /&gt;
&lt;col width="64%" /&gt;
&lt;/colgroup&gt;
&lt;tbody valign="top"&gt;
&lt;tr&gt;&lt;td&gt;q, C-x * c&lt;/td&gt;
&lt;td&gt;離開&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;&lt;td&gt;C-x * k&lt;/td&gt;
&lt;td&gt;keypad (數字)&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;&lt;td&gt;M-x quick-calc&lt;/td&gt;
&lt;td&gt;在minibuffer直接做簡單計算&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;&lt;td&gt;M-x calc-reset&lt;/td&gt;
&lt;td&gt;clear [ C-x * 0 ]&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;p&gt;Radix-Modes:&lt;/p&gt;
&lt;pre class="literal-block"&gt;
d 0, d 2, d 8 ; 10, 2, 8進位
d r ;然後按2到36選進位數
&lt;/pre&gt;
&lt;ul class="simple"&gt;
&lt;li&gt;&lt;a class="reference external" href="http://www.gnu.org/software/emacs/manual/html_mono/calc.html"&gt;GNU Emacs Calc Manual&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a class="reference external" href="http://www.emacswiki.org/emacs/AdvancedDeskCalculator"&gt;EmacsWiki: Advanced Desk Calculator&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/div&gt;
&lt;div class="section" id="html"&gt;
&lt;h3&gt;HTML&lt;/h3&gt;
&lt;table border="1" class="docutils"&gt;
&lt;colgroup&gt;
&lt;col width="16%" /&gt;
&lt;col width="84%" /&gt;
&lt;/colgroup&gt;
&lt;tbody valign="top"&gt;
&lt;tr&gt;&lt;td&gt;C-c C-t&lt;/td&gt;
&lt;td&gt;加tag, 然後照指示加attribute: property, value.&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;&lt;td&gt;C-c C-v&lt;/td&gt;
&lt;td&gt;開browser看&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;&lt;td&gt;C-c C-f&lt;/td&gt;
&lt;td&gt;移到下個匹配tag&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;&lt;td&gt;C-c C-b&lt;/td&gt;
&lt;td&gt;移到上個匹配tag&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;&lt;td&gt;C-c Tab&lt;/td&gt;
&lt;td&gt;隱藏HTML tag, 再打一次C-c Tab就顯示回來&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;&lt;td&gt;C-c  /&lt;/td&gt;
&lt;td&gt;加入結尾tag&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;&lt;td&gt;C-c C-a&lt;/td&gt;
&lt;td&gt;在HTML tag裡加attribute&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;&lt;td&gt;C-c C-d&lt;/td&gt;
&lt;td&gt;刪除HTML tag開頭和結尾都會一起刪&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;&lt;td&gt;C-c RET&lt;/td&gt;
&lt;td&gt;插入&amp;lt;p&amp;gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;&lt;td&gt;C-c j&lt;/td&gt;
&lt;td&gt;插入&amp;lt;br&amp;gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;&lt;td&gt;C-c C-n&lt;/td&gt;
&lt;td&gt;插入特殊字元, 像空白&amp;amp;nbsp;, 小於&amp;amp;lt;, 大於&amp;amp;gt;...&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;&lt;td&gt;C-c C-c h&lt;/td&gt;
&lt;td&gt;插入&amp;lt;a href=...&amp;gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;&lt;td&gt;C-c C-c u&lt;/td&gt;
&lt;td&gt;插入&amp;lt;ul&amp;gt;&amp;lt;li&amp;gt;...&amp;lt;/ul&amp;gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;&lt;td&gt;C-c C-c o&lt;/td&gt;
&lt;td&gt;插入&amp;lt;ol&amp;gt;&amp;lt;li&amp;gt;...&amp;lt;/ol&amp;gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;&lt;td&gt;C-c C-c c&lt;/td&gt;
&lt;td&gt;插入checkbox&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;&lt;td&gt;C-c C-c r&lt;/td&gt;
&lt;td&gt;插入radio&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;&lt;td&gt;C-c C-h&lt;/td&gt;
&lt;td&gt;看說明&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;/div&gt;
&lt;div class="section" id="graphviz-dot"&gt;
&lt;h3&gt;Graphviz (dot)&lt;/h3&gt;
&lt;table border="1" class="docutils"&gt;
&lt;colgroup&gt;
&lt;col width="16%" /&gt;
&lt;col width="84%" /&gt;
&lt;/colgroup&gt;
&lt;tbody valign="top"&gt;
&lt;tr&gt;&lt;td&gt;C-c c&lt;/td&gt;
&lt;td&gt;compile dot ($ dot -Tpng foo.dot &amp;gt; foo.png)&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;&lt;td&gt;C-c p&lt;/td&gt;
&lt;td&gt;display png&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;p&gt;&lt;a class="reference external" href="http://users.skynet.be/ppareit/projects/graphviz-dot-mode/graphviz-dot-mode.html"&gt;Graphviz dot mode for emacs&lt;/a&gt;&lt;/p&gt;
&lt;/div&gt;
&lt;div class="section" id="others-mode"&gt;
&lt;h3&gt;Others Mode&lt;/h3&gt;
&lt;ul class="simple"&gt;
&lt;li&gt;M-x artist-mode&lt;/li&gt;
&lt;li&gt;M-x toggle-debug-on-error&lt;/li&gt;
&lt;/ul&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="section" id="version-control"&gt;
&lt;h2&gt;Version Control&lt;/h2&gt;
&lt;table border="1" class="docutils"&gt;
&lt;colgroup&gt;
&lt;col width="22%" /&gt;
&lt;col width="78%" /&gt;
&lt;/colgroup&gt;
&lt;tbody valign="top"&gt;
&lt;tr&gt;&lt;td&gt;C-x v v&lt;/td&gt;
&lt;td&gt;commit (C-c C-c結束)&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;&lt;td&gt;C-x v d&lt;/td&gt;
&lt;td&gt;version control status&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;/div&gt;
&lt;div class="section" id="adv-mode"&gt;
&lt;h2&gt;Adv. Mode&lt;/h2&gt;
&lt;ul class="simple"&gt;
&lt;li&gt;&lt;a class="reference external" href="http://jblevins.org/projects/deft/"&gt;Deft&lt;/a&gt; - 快速找筆記, 檔案修改工具&lt;/li&gt;
&lt;/ul&gt;
&lt;/div&gt;
&lt;div class="section" id="configure"&gt;
&lt;h2&gt;configure&lt;/h2&gt;
&lt;div class="section" id="font"&gt;
&lt;h3&gt;Font&lt;/h3&gt;
&lt;p&gt;M-x describe-font 看現在用的字形&lt;/p&gt;
&lt;ul class="simple"&gt;
&lt;li&gt;&lt;a class="reference external" href="https://sites.google.com/site/steveyegge2/my-dot-emacs-file"&gt;my-dot-emacs-file - steveyegge2&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="section" id="shell"&gt;
&lt;h2&gt;shell&lt;/h2&gt;
&lt;table border="1" class="docutils"&gt;
&lt;colgroup&gt;
&lt;col width="13%" /&gt;
&lt;col width="87%" /&gt;
&lt;/colgroup&gt;
&lt;tbody valign="top"&gt;
&lt;tr&gt;&lt;td&gt;M-x shell&lt;/td&gt;
&lt;td&gt;開一個buffer&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;&lt;td&gt;M-x term&lt;/td&gt;
&lt;td&gt;Emacs Lisp 寫的 terminal emulator&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;&lt;td&gt;M-x eshell&lt;/td&gt;
&lt;td&gt;Emacs Lisp 實作的 shell, 可以 redirect output 到 Emacs 的 buffer&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;&lt;td&gt;M-! cmd&lt;/td&gt;
&lt;td&gt;直接執行, 輸出另外開一個buffer&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;&lt;td&gt;C-u M-! cmd&lt;/td&gt;
&lt;td&gt;直接執行, 輸出在目前游標位置&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;div class="note"&gt;
&lt;p class="first admonition-title"&gt;Note&lt;/p&gt;
&lt;p class="last"&gt;要再開另外一個 shell 就把原本 buffer 改名字就可以了&lt;/p&gt;
&lt;/div&gt;
&lt;div class="section" id="term"&gt;
&lt;h3&gt;term&lt;/h3&gt;
&lt;ul class="simple"&gt;
&lt;li&gt;C-c C-k char mode, 每個字元都會被送到 subshell 處理&lt;/li&gt;
&lt;li&gt;C-c C-j line mode&lt;/li&gt;
&lt;/ul&gt;
&lt;dl class="docutils"&gt;
&lt;dt&gt;&lt;a class="reference external" href="http://unix.stackexchange.com/questions/104325/what-is-the-difference-between-shell-eshell-and-term-in-emacs"&gt;What is the difference between shell, eshell, and term in Emacs? - Unix &amp;amp; Linux Stack Exchange&lt;/a&gt;&lt;/dt&gt;
&lt;dd&gt;('Another social link', '#'),)
('Another social link', '#'),)
('Another social link', '#'),)
('Another social link', '#'),)
('Another social link', '#'),)
('Another social link', '#'),)&lt;/dd&gt;
&lt;/dl&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="section" id="ref"&gt;
&lt;h2&gt;ref&lt;/h2&gt;
&lt;ul class="simple"&gt;
&lt;li&gt;&lt;a class="reference external" href="http://tuhdo.github.io/emacs-tutor.html?utm_source=hackernewsletter&amp;amp;utm_medium=email&amp;amp;utm_term=books"&gt;Emacs Mini Manual (PART 1) - THE BASICS&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/div&gt;
</summary><category term="docs"></category></entry><entry><title>Elscreen - Emacs好用的tab mode</title><link href="http://blog.suhen.org/computer/emacs_elscreen.html" rel="alternate"></link><updated>2013-04-23T17:28:00+08:00</updated><author><name>moogoo</name></author><id>tag:blog.suhen.org,2013-04-23:computer/emacs_elscreen.html</id><summary type="html">&lt;p&gt;我以為在Emacs一直沒有好的tab顯示模式，以前用過 &lt;a class="reference external" href="http://emacswiki.org/emacs/TabBarMode"&gt;tabbar mode&lt;/a&gt; ，也覺得不是很好用，原來只是我固陋寡聞沒見過ElScreen這個elist套件。&lt;/p&gt;
&lt;p&gt;下載elscreen.el: &lt;a class="reference external" href="ftp://ftp.morishima.net/pub/morishima.net/naoto/ElScreen/"&gt;ftp://ftp.morishima.net/pub/morishima.net/naoto/ElScreen/&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;elscreen.el只有一個檔案，但是他要依附一套 &lt;a class="reference external" href="https://github.com/jeffgran/APEL"&gt;APEL&lt;/a&gt; 才可以運作。&lt;/p&gt;
&lt;pre class="literal-block"&gt;
;; elscreen
(add-to-list 'load-path (concat my-path &amp;quot;goodies/APEL&amp;quot;))
(load &amp;quot;elscreen&amp;quot; &amp;quot;ElScreen&amp;quot; )
(setq elscreen-display-tab t)

(global-set-key (kbd &amp;quot;C-x t&amp;quot;) 'elscreen-create)
(global-set-key (kbd &amp;quot;C-x w&amp;quot;) 'elscreen-kill)
(global-set-key (kbd &amp;quot;M-t&amp;quot;) 'elscreen-previous) ;;transpose-words
(global-set-key (kbd &amp;quot;M-n&amp;quot;) 'elscreen-next)
&lt;/pre&gt;
&lt;p&gt;參考:&lt;/p&gt;
&lt;ul class="simple"&gt;
&lt;li&gt;&lt;a class="reference external" href="http://d.hatena.ne.jp/plasticster/20110825/1314271209"&gt;elscreen 改め tabbar のインストールログ - テクノ組曲&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a class="reference external" href="http://emacs-fu.blogspot.tw/2009/07/keeping-related-buffers-together-with.html"&gt;emacs-fu: keeping related buffers together with elscreen&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
</summary><category term="note"></category></entry><entry><title>Pelican - 邁向靜態blog之路 (reST and markdown)</title><link href="http://blog.suhen.org/computer/pelican.html" rel="alternate"></link><updated>2013-04-11T12:57:00+08:00</updated><author><name>moogoo</name></author><id>tag:blog.suhen.org,2013-04-11:computer/pelican.html</id><summary type="html">&lt;p&gt;一直想用純HTML來寫blog，做筆記，最早用PHP的&lt;a href="https://www.dokuwiki.org"&gt;Dokuwiki&lt;/a&gt; ，不想被PHP server綁住，改用Emacs的&lt;a href="http://orgmode.org"&gt;Org-mode&lt;/a&gt;, org的編輯功能超強大，也可以輸出HTML，但要擴展或改template就不是很方便了。之後又接觸了&lt;a href="http://blog.suhen.org/computer/rest_sphinx.html"&gt;ReStructuredText&lt;/a&gt;, 因為看到大部分Python的文件都用Sphinx產生。但是他又不是blog（長的不像）。Ruby有Octopress，無意間看到Python也有Pelican，安裝方便，預設板型漂亮，容易整合目前當紅的網路服務，reST格式我可以很容易把之前的筆記轉過來，還是覺得純文字檔才是王道阿。&lt;/p&gt;
&lt;p&gt;用了github控管我的內容，順便也使用github pages，放置我的靜態網頁，只要開一個repository，把要發佈的內容放到gh-pages的orphan branch就可以了。&lt;/p&gt;
&lt;p&gt;&lt;a href="https://help.github.com/articles/creating-project-pages-manually"&gt;Creating Project Pages manually · GitHub Help&lt;/a&gt;&lt;/p&gt;
&lt;h1&gt;Quick-start&lt;/h1&gt;
&lt;p&gt;安裝:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span class="nv"&gt;$ &lt;/span&gt;pip install pelican
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;開始:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span class="nv"&gt;$ &lt;/span&gt;mkdir blog
&lt;span class="nv"&gt;$ &lt;/span&gt;&lt;span class="nb"&gt;cd &lt;/span&gt;blog
&lt;span class="nv"&gt;$ &lt;/span&gt;pelican-quickstart
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;快速產生相關的設定&lt;/p&gt;
&lt;p&gt;寫第一篇文章:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span class="nv"&gt;$ &lt;/span&gt;vim content/first.rst
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;工具指令:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span class="nv"&gt;$ &lt;/span&gt;make html &lt;span class="c"&gt;# 顧名思義&lt;/span&gt;
&lt;span class="nv"&gt;$ &lt;/span&gt;make clean 
&lt;span class="nv"&gt;$ &lt;/span&gt;make rsync_upload &lt;span class="c"&gt;# 用rsync上傳到你的ssh host&lt;/span&gt;
&lt;span class="nv"&gt;$ &lt;/span&gt;make serve &lt;span class="c"&gt;# 啟動python的SimpleHTTPServer&lt;/span&gt;
&lt;span class="nv"&gt;$ &lt;/span&gt;make devserver &lt;span class="c"&gt;# 修改rst會自動reload, 重啓server&lt;/span&gt;
&lt;span class="nv"&gt;$ &lt;/span&gt;make github &lt;span class="c"&gt;#自動執行ghp-import到github pages&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;h1&gt;文章格式 (reST, markdown)&lt;/h1&gt;
&lt;p&gt;屬性:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;# rst
hello
############
:date: 2013-04-14 (必填)
:category: music
:tags: foo, bar
:slug:
:lang:
:author:
:status: draft (不會處理)

#md
Title: hello
Date: 2013-04-14 (必填)
Category: music
Tags: foo, bar
...
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;圖片:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;# rst
.. image:: /path/to/filename.jpg
           :height: 450 px
           :width: 600 px
           :alt: alternate text

# md
![title](/path/to/filename.jpg)
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;連結:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;# rst
`title &amp;lt;http://foo.bar&amp;gt;`__ 跟reST一樣

this is a foo_ .
_foo: http://foo.bar

# md
[title](http://foo.bar)
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;內部連結:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;# reST
`京都行 &amp;lt;|filename|/travel/2012_kyoto_marathon-1.rst&amp;gt;`_

# markdown
[玉山小檗](|filename|/nature/plant/0005-玉山小檗.rst)
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;區塊:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;# rst
foo::

  spam spam spam spam

# md

    spam spam spam spam
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;syntax highlight:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;# rst
.. code-block:: python

import os

# md
    :::c++
    :::python
    :::text
&lt;/pre&gt;&lt;/div&gt;


&lt;h1&gt;git hub&lt;/h1&gt;
&lt;h2&gt;環境設定&lt;/h2&gt;
&lt;p&gt;python要用virtualenv才是王道:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span class="nv"&gt;$ &lt;/span&gt;mkvirtualenv sillywalk.org
&lt;span class="nv"&gt;$ &lt;/span&gt;&lt;span class="nb"&gt;cd &lt;/span&gt;sillkwalk.org
&lt;span class="nv"&gt;$ &lt;/span&gt;setvirtualenvproject
&lt;span class="nv"&gt;$ &lt;/span&gt;workon sillywalk.org

&lt;span class="nv"&gt;$ &lt;/span&gt;pip install pelican
&lt;span class="nv"&gt;$ &lt;/span&gt;pip install ghp-import &lt;span class="c"&gt;# 方便發佈到github pages的工具&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;h2&gt;產生HTML，發佈&lt;/h2&gt;
&lt;p&gt;產生HTML內容:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span class="nv"&gt;$ &lt;/span&gt;pelican -s pelican.conf.py .
&lt;span class="nv"&gt;$ &lt;/span&gt;ghp-import output
&lt;span class="nv"&gt;$ &lt;/span&gt;git push origin gh-pages

&lt;span class="c"&gt;# 其實pelican的make就可以了&lt;/span&gt;
&lt;span class="nv"&gt;$ &lt;/span&gt;make github
&lt;/pre&gt;&lt;/div&gt;


&lt;h2&gt;自訂domain&lt;/h2&gt;
&lt;ol&gt;
&lt;li&gt;在你的domain設定指向github的IP&lt;/li&gt;
&lt;li&gt;在發佈的gh-pages branch下放一個CNAME檔案，裡面寫你的domain&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;放在output目錄的CNAME在每次build時都會被洗掉，所以要每次自動copy。&lt;/p&gt;
&lt;p&gt;先產生content/extra/CNAME，然後在pelicanconf.py加入:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;FILES_TO_COPY = (
    (&amp;#39;extra/CNAME&amp;#39;, &amp;#39;CNAME&amp;#39;),
)
&lt;/pre&gt;&lt;/div&gt;


&lt;h1&gt;用reST (reStructuredText) 還是markdown好?&lt;/h1&gt;
&lt;p&gt;活在Python世界，很多文件是reST編寫的，當初在選用Pelican當blog時也是用預設的reST格式。&lt;/p&gt;
&lt;p&gt;但是reST還是有一些很討厭的地方，像:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;連結的語法我永遠很難記得，都是用自己寫的javascript bookmarklet解決&lt;/li&gt;
&lt;li&gt;連結跟內容文字之間要有空白，不然會錯，除非加上跳脫字元 &lt;strong&gt;/&lt;/strong&gt;&lt;/li&gt;
&lt;li&gt;標題用 ######...，長度要跟標題文字一樣長，雖然編輯器都有快速鍵可以補齊，但是還是會在修改標題後，常常忘了補滿而出現錯誤&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;簡潔的markdown實在比reST好用很多，不過，預設沒有表格 (table)的語法。所以，如果用到表格，或是覺得以後要用Sphinx產生文件，減少轉換問題，就用reST，其他一般用markdown。&lt;/p&gt;
&lt;p&gt;markdown可以直接貼HTML也是超級方便的!&lt;/p&gt;
&lt;h2&gt;補充&lt;/h2&gt;
&lt;p&gt;bookmarklet:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span class="c1"&gt;// reST&lt;/span&gt;
&lt;span class="nx"&gt;javascript&lt;/span&gt;&lt;span class="o"&gt;:&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="kd"&gt;function&lt;/span&gt;&lt;span class="p"&gt;(){&lt;/span&gt;&lt;span class="nx"&gt;t&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;`&amp;#39;&lt;/span&gt;&lt;span class="o"&gt;+&lt;/span&gt;&lt;span class="nb"&gt;decodeURIComponent&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="nb"&gt;document&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="nx"&gt;title&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;&lt;span class="o"&gt;+&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39; &amp;lt;&amp;#39;&lt;/span&gt;&lt;span class="o"&gt;+&lt;/span&gt;&lt;span class="nb"&gt;decodeURIComponent&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="nb"&gt;window&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="nx"&gt;location&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="nx"&gt;href&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;&lt;span class="o"&gt;+&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;&amp;gt;`__&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;&lt;span class="nx"&gt;win&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="nb"&gt;window&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="nx"&gt;open&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;_new&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;location=no,links=no,scrollbars=no,toolbar=no,width=550,height=150&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;);&lt;/span&gt;&lt;span class="nx"&gt;win&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="nb"&gt;document&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="nx"&gt;write&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;&amp;lt;form&amp;gt;&amp;lt;textarea name=&amp;quot;a&amp;quot; rows=&amp;quot;5&amp;quot; cols=&amp;quot;50&amp;quot; onClick=&amp;quot;javascript:this.form.a.focus();this.form.a.select();&amp;quot;&amp;gt;&amp;#39;&lt;/span&gt;&lt;span class="o"&gt;+&lt;/span&gt;&lt;span class="nx"&gt;t&lt;/span&gt;&lt;span class="o"&gt;+&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;&amp;lt;/textarea&amp;gt;&amp;lt;/form&amp;gt;&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;);})()&lt;/span&gt;
&lt;span class="c1"&gt;// markdown&lt;/span&gt;
&lt;span class="nx"&gt;javascript&lt;/span&gt;&lt;span class="o"&gt;:&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="kd"&gt;function&lt;/span&gt;&lt;span class="p"&gt;(){&lt;/span&gt;&lt;span class="nx"&gt;t&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;[&amp;#39;&lt;/span&gt;&lt;span class="o"&gt;+&lt;/span&gt;&lt;span class="nb"&gt;decodeURIComponent&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="nb"&gt;document&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="nx"&gt;title&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;&lt;span class="o"&gt;+&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;](&amp;#39;&lt;/span&gt;&lt;span class="o"&gt;+&lt;/span&gt;&lt;span class="nb"&gt;decodeURIComponent&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="nb"&gt;window&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="nx"&gt;location&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="nx"&gt;href&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;&lt;span class="o"&gt;+&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;)&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;&lt;span class="nx"&gt;win&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="nb"&gt;window&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="nx"&gt;open&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;_new&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;location=no,links=no,scrollbars=no,toolbar=no,width=550,height=150&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;);&lt;/span&gt;&lt;span class="nx"&gt;win&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="nb"&gt;document&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="nx"&gt;write&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;&amp;lt;form&amp;gt;&amp;lt;textarea name=&amp;quot;a&amp;quot; rows=&amp;quot;5&amp;quot; cols=&amp;quot;50&amp;quot; onClick=&amp;quot;javascript:this.form.a.focus();this.form.a.select();&amp;quot;&amp;gt;&amp;#39;&lt;/span&gt;&lt;span class="o"&gt;+&lt;/span&gt;&lt;span class="nx"&gt;t&lt;/span&gt;&lt;span class="o"&gt;+&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;&amp;lt;/textarea&amp;gt;&amp;lt;/form&amp;gt;&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;);})()&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;h1&gt;參考&lt;/h1&gt;
&lt;h2&gt;靜態blog generator&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;Hyde (看起來很複雜，沒仔細看) - http://ringce.com/hyde&lt;/li&gt;
&lt;li&gt;Nikola 有image gallery (把圖片丟到某個目錄下就好了) - http://nikola.ralsina.com.ar/&lt;/li&gt;
&lt;li&gt;mynt - http://mynt.mirroredwhite.com/&lt;/li&gt;
&lt;/ul&gt;
&lt;h2&gt;deploy to github&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href="http://www.openfoundry.org/tw/tech-column/8516-pythons-virtual-environment-and-multi-version-programming-tools-virtualenv-and-pythonbrew"&gt;Python 的虛擬環境及多版本開發利器─Virtualenv 與 Pythonbrew - OpenFoundry&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="http://docs.getpelican.com/en/3.0/tips.html"&gt;Tips — Pelican 3 documentation&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="https://help.github.com/articles/setting-up-a-custom-domain-with-pages"&gt;Setting up a custom domain with Pages · GitHub Help&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h2&gt;syntax&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href="http://markdown.tw/"&gt;Markdown 語法說明&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h1&gt;補充&lt;/h1&gt;
&lt;h2&gt;更新 v 3.4&lt;/h2&gt;
&lt;p&gt;pelican_youtube::&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span class="n"&gt;pip&lt;/span&gt; &lt;span class="n"&gt;install&lt;/span&gt; &lt;span class="n"&gt;pelican&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;youtube&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;pelicanconf.py::&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span class="nt"&gt;PLUGINS&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="cp"&gt;[&lt;/span&gt;
    &lt;span class="s1"&gt;&amp;#39;pelican_youtube&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;
&lt;span class="cp"&gt;]&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;</summary><category term="note"></category></entry><entry><title>Scripting 比較</title><link href="http://blog.suhen.org/computer/scripting-bi-jiao.html" rel="alternate"></link><updated>2013-04-09T11:38:00+08:00</updated><author><name>moogoo</name></author><id>tag:blog.suhen.org,2013-04-09:computer/scripting-bi-jiao.html</id><summary type="html">&lt;p&gt;PHP, Python, Javascript, Lua&lt;/p&gt;
&lt;div class="section" id="id1"&gt;
&lt;h2&gt;易搞混&lt;/h2&gt;
&lt;div class="section" id="hash-dictionary-table"&gt;
&lt;h3&gt;hash/dictionary/table&lt;/h3&gt;
&lt;p&gt;json:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span class="p"&gt;{&lt;/span&gt;
     &lt;span class="nt"&gt;&amp;quot;firstName&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="s2"&gt;&amp;quot;John&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;
     &lt;span class="nt"&gt;&amp;quot;lastName&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="s2"&gt;&amp;quot;Smith&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;
     &lt;span class="nt"&gt;&amp;quot;male&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="kc"&gt;true&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;
     &lt;span class="nt"&gt;&amp;quot;age&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="mi"&gt;25&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;
     &lt;span class="nt"&gt;&amp;quot;address&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;
     &lt;span class="p"&gt;{&lt;/span&gt;
         &lt;span class="nt"&gt;&amp;quot;streetAddress&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="s2"&gt;&amp;quot;21 2nd Street&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;
         &lt;span class="nt"&gt;&amp;quot;city&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="s2"&gt;&amp;quot;New York&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;
         &lt;span class="nt"&gt;&amp;quot;state&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="s2"&gt;&amp;quot;NY&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;
         &lt;span class="nt"&gt;&amp;quot;postalCode&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="s2"&gt;&amp;quot;10021&amp;quot;&lt;/span&gt;
     &lt;span class="p"&gt;},&lt;/span&gt;
     &lt;span class="nt"&gt;&amp;quot;phoneNumber&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;
     &lt;span class="p"&gt;[&lt;/span&gt;
         &lt;span class="p"&gt;{&lt;/span&gt;
           &lt;span class="nt"&gt;&amp;quot;type&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="s2"&gt;&amp;quot;home&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;
           &lt;span class="nt"&gt;&amp;quot;number&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="s2"&gt;&amp;quot;212 555-1234&amp;quot;&lt;/span&gt;
         &lt;span class="p"&gt;},&lt;/span&gt;
         &lt;span class="p"&gt;{&lt;/span&gt;
           &lt;span class="nt"&gt;&amp;quot;type&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="s2"&gt;&amp;quot;fax&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;
           &lt;span class="nt"&gt;&amp;quot;number&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="s2"&gt;&amp;quot;646 555-4567&amp;quot;&lt;/span&gt;
         &lt;span class="p"&gt;}&lt;/span&gt;
     &lt;span class="p"&gt;]&lt;/span&gt;
 &lt;span class="p"&gt;}&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;python dictionary:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span class="n"&gt;dishes&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="p"&gt;{&lt;/span&gt;&lt;span class="s"&gt;&amp;#39;eggs&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="mi"&gt;2&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="s"&gt;&amp;#39;sausage&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="mi"&gt;1&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="s"&gt;&amp;#39;bacon&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="mi"&gt;1&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="s"&gt;&amp;#39;spam&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="mi"&gt;500&lt;/span&gt;&lt;span class="p"&gt;}&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;lua table:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span class="n"&gt;t&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="p"&gt;{&lt;/span&gt;&lt;span class="s2"&gt;&amp;quot;&lt;/span&gt;&lt;span class="s"&gt;a&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="s2"&gt;&amp;quot;&lt;/span&gt;&lt;span class="s"&gt;b&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="mi"&gt;123&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="s2"&gt;&amp;quot;&lt;/span&gt;&lt;span class="s"&gt;foo&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="s2"&gt;&amp;quot;&lt;/span&gt;&lt;span class="s"&gt;c&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;name&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="s2"&gt;&amp;quot;&lt;/span&gt;&lt;span class="s"&gt;bar&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="s2"&gt;&amp;quot;&lt;/span&gt;&lt;span class="s"&gt;d&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="s2"&gt;&amp;quot;&lt;/span&gt;&lt;span class="s"&gt;e&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;}&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="section" id="data-type"&gt;
&lt;h2&gt;Data Type&lt;/h2&gt;
&lt;p&gt;&lt;strong&gt;Array&lt;/strong&gt;&lt;/p&gt;
&lt;pre class="literal-block"&gt;
# python
arr = [1, 2, 3]

# lua
squares = {1, 4, 9, 16, 25, 36, 49, 64, 81}
squares[1] # 1
&lt;/pre&gt;
&lt;/div&gt;
&lt;div class="section" id="statement-expression"&gt;
&lt;h2&gt;statement/expression&lt;/h2&gt;
&lt;div class="section" id="id2"&gt;
&lt;h3&gt;函式&lt;/h3&gt;
&lt;p&gt;&lt;strong&gt;引數&lt;/strong&gt;&lt;/p&gt;
&lt;pre class="literal-block"&gt;
# python
def func(a, *pargs, **kargs): print a, pargs, kargs
# &amp;gt;&amp;gt;&amp;gt; f(1, 2, 3, x=1, y=2)
# 1 (2, 3) {'y': 2, 'x': 1}
# *pargs: 任意引數 (tuple)
# *kargs: 任意引數 (dict)

# lua
function foo(a, ...)
    print (a)
    print (spam)
end

foo(1, 'lovely') -- 1, nil
foo(1,'lovely') -- 1, lovely
&lt;/pre&gt;
&lt;/div&gt;
&lt;div class="section" id="ternary-operator"&gt;
&lt;h3&gt;ternary operator&lt;/h3&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span class="c1"&gt;// C&lt;/span&gt;
&lt;span class="n"&gt;sign&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;x&lt;/span&gt; &lt;span class="o"&gt;&amp;lt;&lt;/span&gt; &lt;span class="mi"&gt;0&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt; &lt;span class="o"&gt;?&lt;/span&gt; &lt;span class="s"&gt;&amp;quot;negative&amp;quot;&lt;/span&gt; &lt;span class="o"&gt;:&lt;/span&gt; &lt;span class="s"&gt;&amp;quot;non-negative&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span class="cp"&gt;&amp;lt;?php&lt;/span&gt;
&lt;span class="nv"&gt;$action&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="k"&gt;empty&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="nv"&gt;$_POST&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;action&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;]))&lt;/span&gt; &lt;span class="o"&gt;?&lt;/span&gt; &lt;span class="s1"&gt;&amp;#39;default&amp;#39;&lt;/span&gt; &lt;span class="o"&gt;:&lt;/span&gt; &lt;span class="nv"&gt;$_POST&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;action&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;];&lt;/span&gt;
&lt;span class="cp"&gt;?&amp;gt;&lt;/span&gt;&lt;span class="x"&gt;&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span class="c"&gt;# Python&lt;/span&gt;
&lt;span class="s"&gt;&amp;#39;true&amp;#39;&lt;/span&gt; &lt;span class="k"&gt;if&lt;/span&gt; &lt;span class="bp"&gt;True&lt;/span&gt; &lt;span class="k"&gt;else&lt;/span&gt; &lt;span class="s"&gt;&amp;#39;false&amp;#39;&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span class="c1"&gt;// JavaScript&lt;/span&gt;
&lt;span class="nx"&gt;x&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="mi"&gt;1&lt;/span&gt; &lt;span class="o"&gt;&amp;lt;&lt;/span&gt; &lt;span class="mi"&gt;2&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt; &lt;span class="o"&gt;?&lt;/span&gt; &lt;span class="kc"&gt;true&lt;/span&gt; &lt;span class="o"&gt;:&lt;/span&gt; &lt;span class="kc"&gt;false&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span class="c1"&gt;-- 利用 and, or 運算子的特性來達成&lt;/span&gt;
&lt;span class="nb"&gt;print&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;&lt;/span&gt;&lt;span class="s"&gt;x is &amp;#39;&lt;/span&gt; &lt;span class="o"&gt;..&lt;/span&gt; &lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;x&lt;/span&gt; &lt;span class="o"&gt;&amp;lt;&lt;/span&gt; &lt;span class="mi"&gt;0&lt;/span&gt; &lt;span class="ow"&gt;and&lt;/span&gt; &lt;span class="s1"&gt;&amp;#39;&lt;/span&gt;&lt;span class="s"&gt;negative&amp;#39;&lt;/span&gt; &lt;span class="ow"&gt;or&lt;/span&gt; &lt;span class="s1"&gt;&amp;#39;&lt;/span&gt;&lt;span class="s"&gt;non-negative&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;))&lt;/span&gt;
&lt;span class="nb"&gt;print&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;&lt;/span&gt;&lt;span class="s"&gt;x is &amp;#39;&lt;/span&gt; &lt;span class="o"&gt;..&lt;/span&gt; &lt;span class="p"&gt;((&lt;/span&gt;&lt;span class="n"&gt;x&lt;/span&gt; &lt;span class="o"&gt;&amp;lt;&lt;/span&gt; &lt;span class="mi"&gt;0&lt;/span&gt; &lt;span class="ow"&gt;and&lt;/span&gt; &lt;span class="s1"&gt;&amp;#39;&lt;/span&gt;&lt;span class="s"&gt;negative&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt; &lt;span class="ow"&gt;or&lt;/span&gt; &lt;span class="s1"&gt;&amp;#39;&lt;/span&gt;&lt;span class="s"&gt;non-negative&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;))&lt;/span&gt; &lt;span class="c1"&gt;-- 這樣好懂一點&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="section" id="lib-funtions"&gt;
&lt;h2&gt;Lib funtions&lt;/h2&gt;
&lt;div class="section" id="string"&gt;
&lt;h3&gt;String&lt;/h3&gt;
&lt;p&gt;&lt;strong&gt;substring&lt;/strong&gt;&lt;/p&gt;
&lt;pre class="literal-block"&gt;
# php
echo substr('abcdef', 1, 3);  // bcd

# python
foostring[a:b]

# javascript
foostring.substr(a,len) // 從a剪取len長度
foostring.subString(a,b) // 從a剪到b

# lua
string.sub( foostring, i [,j] ) // i: start, j:end
foostring:sub(i [,j])
&lt;/pre&gt;
&lt;p&gt;&lt;strong&gt;string replace&lt;/strong&gt;&lt;/p&gt;
&lt;pre class="literal-block"&gt;
# python
foostring.replace('old', 'new')

# javascript
var s = &amp;quot;abxxef&amp;quot;;
s.replace(&amp;quot;xx&amp;quot;,&amp;quot;cd&amp;quot;);

# lua
s = &amp;quot;abxxef&amp;quot;
s = s:gsub(&amp;quot;xx&amp;quot;, &amp;quot;cd&amp;quot;)

# php
$foo = str_replace(&amp;quot;old&amp;quot;, &amp;quot;new&amp;quot;, &amp;quot;STRING&amp;quot;);
&lt;/pre&gt;
&lt;p&gt;&lt;strong&gt;string format&lt;/strong&gt;&lt;/p&gt;
&lt;pre class="literal-block"&gt;
# lua
string.format(&amp;quot;%02d/%02d/%04d&amp;quot;, d, m, y)
&lt;/pre&gt;
&lt;p&gt;&lt;strong&gt;upper lower&lt;/strong&gt;&lt;/p&gt;
&lt;pre class="literal-block"&gt;
# Lua
string.upper(s)
s:upper()
&lt;/pre&gt;
&lt;p&gt;&lt;strong&gt;string to array&lt;/strong&gt;&lt;/p&gt;
&lt;pre class="literal-block"&gt;
# php
explode(',', $string)

# python
str.split(',')

# lua
split(&amp;quot;a,b,c&amp;quot;, &amp;quot;,&amp;quot;) --&amp;gt; {&amp;quot;a&amp;quot;, &amp;quot;b&amp;quot;, &amp;quot;c&amp;quot;}
&lt;/pre&gt;
&lt;p&gt;&lt;strong&gt;array to string&lt;/strong&gt;&lt;/p&gt;
&lt;pre class="literal-block"&gt;
# php
implode(1,, $array);

# python
str.join(list)

# lua
table.concat({&amp;quot;a&amp;quot;, &amp;quot;b&amp;quot;, &amp;quot;c&amp;quot;}, &amp;quot;,&amp;quot;) --&amp;gt; &amp;quot;a,b,c&amp;quot;
&lt;/pre&gt;
&lt;p&gt;頭尾空白 Jinja2
php trim($string)
python s.strip()&lt;/p&gt;
&lt;/div&gt;
&lt;div class="section" id="array"&gt;
&lt;h3&gt;Array&lt;/h3&gt;
&lt;p&gt;&lt;strong&gt;append&lt;/strong&gt;&lt;/p&gt;
&lt;pre class="literal-block"&gt;
# python
t.append(21)

# lua
table.insert(t, 21)
&lt;/pre&gt;
&lt;p&gt;** array length**&lt;/p&gt;
&lt;pre class="literal-block"&gt;
# Python
len(arr) # arr.count(&amp;quot;foo&amp;quot;) 是算&amp;quot;foo&amp;quot;在arr裡出現幾次

# PHP
count(arr)

# Lua
#arr
&lt;/pre&gt;
&lt;p&gt;&lt;strong&gt;PHP&lt;/strong&gt;&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span class="cp"&gt;&amp;lt;?php&lt;/span&gt;
    &lt;span class="nv"&gt;$arr&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="k"&gt;array&lt;/span&gt;&lt;span class="p"&gt;();&lt;/span&gt;
    &lt;span class="nv"&gt;$fruits&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="k"&gt;array&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s2"&gt;&amp;quot;a&amp;quot;&lt;/span&gt; &lt;span class="o"&gt;=&amp;gt;&lt;/span&gt; &lt;span class="s2"&gt;&amp;quot;orange&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="s2"&gt;&amp;quot;b&amp;quot;&lt;/span&gt; &lt;span class="o"&gt;=&amp;gt;&lt;/span&gt; &lt;span class="s2"&gt;&amp;quot;banana&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="s2"&gt;&amp;quot;c&amp;quot;&lt;/span&gt; &lt;span class="o"&gt;=&amp;gt;&lt;/span&gt; &lt;span class="s2"&gt;&amp;quot;apple&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;);&lt;/span&gt;
    &lt;span class="nb"&gt;array_push&lt;/span&gt;&lt;span class="p"&gt;();&lt;/span&gt;
&lt;span class="cp"&gt;?&amp;gt;&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;&lt;strong&gt;Python&lt;/strong&gt;&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span class="n"&gt;append&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;x&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt; &lt;span class="c"&gt;# push&lt;/span&gt;
&lt;span class="n"&gt;insert&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;i&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="n"&gt;x&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt; &lt;span class="c"&gt;# insert x to i&lt;/span&gt;
&lt;span class="n"&gt;remove&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;x&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt; &lt;span class="c"&gt;# delete first&lt;/span&gt;
&lt;span class="n"&gt;pop&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;i&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt; &lt;span class="c"&gt;# delete index i&lt;/span&gt;
&lt;span class="nb"&gt;len&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;arr&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;&lt;strong&gt;JavaScript&lt;/strong&gt;&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span class="nx"&gt;append&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="nx"&gt;x&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt; &lt;span class="err"&gt;#&lt;/span&gt; &lt;span class="nx"&gt;push&lt;/span&gt;
&lt;span class="kd"&gt;var&lt;/span&gt; &lt;span class="nx"&gt;arr&lt;/span&gt;&lt;span class="o"&gt;:&lt;/span&gt;&lt;span class="nb"&gt;Array&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="k"&gt;new&lt;/span&gt; &lt;span class="nb"&gt;Array&lt;/span&gt;&lt;span class="p"&gt;();&lt;/span&gt;
&lt;span class="nx"&gt;arr&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="nx"&gt;length&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;&lt;strong&gt;ActionScript&lt;/strong&gt;&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span class="nx"&gt;push&lt;/span&gt;&lt;span class="p"&gt;()&lt;/span&gt;
&lt;span class="nx"&gt;arr&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="nx"&gt;length&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;/div&gt;
&lt;div class="section" id="file"&gt;
&lt;h3&gt;File&lt;/h3&gt;
&lt;p&gt;&lt;strong&gt;PHP&lt;/strong&gt;&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span class="cp"&gt;&amp;lt;?php&lt;/span&gt;
    &lt;span class="nv"&gt;$fp&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="nb"&gt;fopen&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;foo.txt&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="s1"&gt;&amp;#39;w&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;);&lt;/span&gt;
    &lt;span class="nb"&gt;fwrite&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="nv"&gt;$fp&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="s1"&gt;&amp;#39;abc&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;);&lt;/span&gt;
    &lt;span class="nb"&gt;fclose&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="nv"&gt;$fp&lt;/span&gt;&lt;span class="p"&gt;);&lt;/span&gt;
&lt;span class="cp"&gt;?&amp;gt;&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;explode join&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;Python&lt;/strong&gt;&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span class="n"&gt;f&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="nb"&gt;open&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s"&gt;&amp;#39;foo.txt&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="s"&gt;&amp;#39;w&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;span class="n"&gt;f&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;write&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s"&gt;&amp;#39;abc&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;span class="n"&gt;f&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;close&lt;/span&gt;&lt;span class="p"&gt;()&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;/div&gt;
&lt;div class="section" id="math"&gt;
&lt;h3&gt;Math&lt;/h3&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span class="c"&gt;# python&lt;/span&gt;
&lt;span class="n"&gt;random&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;random&lt;/span&gt;&lt;span class="p"&gt;()&lt;/span&gt; &lt;span class="c"&gt;# Random float x, 0.0 &amp;lt;= x &amp;lt; 1.0&lt;/span&gt;
&lt;span class="n"&gt;random&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;randint&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="mi"&gt;1&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="mi"&gt;10&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;  &lt;span class="c"&gt;# Integer from 1 to 10&lt;/span&gt;

&lt;span class="c"&gt;# javascript&lt;/span&gt;
&lt;span class="n"&gt;Math&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;random&lt;/span&gt;&lt;span class="p"&gt;()&lt;/span&gt; &lt;span class="c"&gt;# 0 ~ 0.9999999&lt;/span&gt;

&lt;span class="c"&gt;# lua&lt;/span&gt;
&lt;span class="n"&gt;math&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;random&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="mi"&gt;100&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;

&lt;span class="c"&gt;# php&lt;/span&gt;
&lt;span class="n"&gt;rand&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="mi"&gt;5&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="mi"&gt;15&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt; &lt;span class="c"&gt;# min: 0&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;/div&gt;
&lt;div class="section" id="id3"&gt;
&lt;h3&gt;Array&lt;/h3&gt;
&lt;table border="1" class="docutils"&gt;
&lt;colgroup&gt;
&lt;col width="29%" /&gt;
&lt;col width="71%" /&gt;
&lt;/colgroup&gt;
&lt;thead valign="bottom"&gt;
&lt;tr&gt;&lt;th class="head"&gt;Reverse&lt;/th&gt;
&lt;th class="head"&gt;&amp;nbsp;&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody valign="top"&gt;
&lt;tr&gt;&lt;td&gt;PHP&lt;/td&gt;
&lt;td&gt;&lt;div class="first last line-block"&gt;
&lt;div class="line"&gt;array_reverse($a);&lt;/div&gt;
&lt;div class="line"&gt;$a = array_reverse($a);&lt;/div&gt;
&lt;/div&gt;
&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;&lt;td&gt;Python&lt;/td&gt;
&lt;td&gt;&lt;div class="first last line-block"&gt;
&lt;div class="line"&gt;a.reverse()&lt;/div&gt;
&lt;div class="line"&gt;a[::-1]&lt;/div&gt;
&lt;/div&gt;
&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;&lt;td&gt;JavaScript&lt;/td&gt;
&lt;td&gt;&lt;div class="first last line-block"&gt;
&lt;div class="line"&gt;a.reverse()&lt;/div&gt;
&lt;/div&gt;
&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;&lt;td&gt;ActionScript&lt;/td&gt;
&lt;td&gt;&lt;div class="first last line-block"&gt;
&lt;div class="line"&gt;&lt;br /&gt;&lt;/div&gt;
&lt;/div&gt;
&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;ul class="simple"&gt;
&lt;li&gt;&lt;a class="reference external" href="http://hyperpolyglot.org/scripting"&gt;Scripting Languages: PHP, Perl, Python, Ruby - Hyperpolyglot&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a class="reference external" href="http://www.php2python.com/"&gt;Php2Python - Python alternatives to PHP functions, classes and libraries - Php2Python&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;a class="reference external" href="http://code.google.com/p/ppython/wiki/data_convert"&gt;http://code.google.com/p/ppython/wiki/data_convert&lt;/a&gt;&lt;/p&gt;
&lt;/div&gt;
&lt;/div&gt;
</summary><category term="docs"></category></entry><entry><title>Python Web Framework (SQLAlchemy, Django, Flask, Jinja2)</title><link href="http://blog.suhen.org/computer/python-web-framework-sqlalchemy-django-flask-jinja2.html" rel="alternate"></link><updated>2013-04-09T11:36:00+08:00</updated><author><name>moogoo</name></author><id>tag:blog.suhen.org,2013-04-09:computer/python-web-framework-sqlalchemy-django-flask-jinja2.html</id><summary type="html">&lt;div class="section" id="sqlalchemy"&gt;
&lt;h2&gt;SQLAlchemy&lt;/h2&gt;
&lt;div class="section" id="setting"&gt;
&lt;h3&gt;setting&lt;/h3&gt;
&lt;p&gt;sqlite path:&lt;/p&gt;
&lt;pre class="literal-block"&gt;
# sqlite://&amp;lt;nohostname&amp;gt;/&amp;lt;path&amp;gt;
# where &amp;lt;path&amp;gt; is relative:
engine = create_engine('sqlite:///foo.db')

# or absolute, starting with a slash:
engine = create_engine('sqlite:////absolute/path/to/foo.db')
&lt;/pre&gt;
&lt;p&gt;import:&lt;/p&gt;
&lt;pre class="literal-block"&gt;
from flask.ext.sqlalchemy import BaseQuery
from sqlalchemy.sql import func
&lt;/pre&gt;
&lt;/div&gt;
&lt;div class="section" id="schema"&gt;
&lt;h3&gt;schema&lt;/h3&gt;
&lt;p&gt;column parameters:&lt;/p&gt;
&lt;pre class="literal-block"&gt;
primary_key =True
nullable=False
unique=True
default
onupdate
index=True
&lt;/pre&gt;
&lt;ul class="simple"&gt;
&lt;li&gt;&lt;a class="reference external" href="http://docs.sqlalchemy.org/en/rel_0_7/core/schema.html"&gt;Schema Definition Language — SQLAlchemy 0.7 Documentation&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;mapper_args:&lt;/p&gt;
&lt;pre class="literal-block"&gt;
__mapper_args__ = {'order_by': '-created'}
__mapper_args__ = {'order_by': [sort, name]}
__mapper_args__ = {'primary_key':(app_id, num_log)} # 沒有primary key時用!
&lt;/pre&gt;
&lt;p&gt;relationship:&lt;/p&gt;
&lt;pre class="literal-block"&gt;
employees = relationship('Employee',
                backref='company', cascade='all, delete-orphan')

# 原本backref是one-to-many, 如果要one-to-one:
child = relationship(&amp;quot;Child&amp;quot;, backref=backref(&amp;quot;parent&amp;quot;, uselist=False))
&lt;/pre&gt;
&lt;p&gt;relationship+filter:&lt;/p&gt;
&lt;pre class="literal-block"&gt;
products = db.relationship(
    'SaleProductData',
    lazy=&amp;quot;dynamic&amp;quot;,
    backref='sale_event')

products.filter_by(type=1).all()
&lt;/pre&gt;
&lt;p&gt;&lt;a class="reference external" href="http://docs.sqlalchemy.org/en/latest/orm/inheritance.html"&gt;http://docs.sqlalchemy.org/en/latest/orm/inheritance.html&lt;/a&gt;&lt;/p&gt;
&lt;/div&gt;
&lt;div class="section" id="query"&gt;
&lt;h3&gt;Query&lt;/h3&gt;
&lt;p&gt;rand:&lt;/p&gt;
&lt;pre class="literal-block"&gt;
from sqlalchemy.sql import func

query.order_by(func.rand())
&lt;/pre&gt;
&lt;p&gt;date:&lt;/p&gt;
&lt;pre class="literal-block"&gt;
query.group_by(func.day(LogUserData.dtime).all()
&lt;/pre&gt;
&lt;p&gt;group by:&lt;/p&gt;
&lt;pre class="literal-block"&gt;
votes = db.session.query(EventDC1Vote,
func.count(uid).label('cnt'), 'uid').group_by('uid').order_by('cnt DESC').all()
&lt;/pre&gt;
&lt;p&gt;between, like:&lt;/p&gt;
&lt;pre class="literal-block"&gt;
q = db.session.query(func.count('*')).\
        filter(API2Log.dtime.between(i[0], i[1]),
               API2Log.data.like('%%%s%%' % j['data']))
&lt;/pre&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span class="kn"&gt;from&lt;/span&gt; &lt;span class="nn"&gt;sqlalchemy&lt;/span&gt; &lt;span class="kn"&gt;import&lt;/span&gt; &lt;span class="n"&gt;distinct&lt;/span&gt;
&lt;span class="n"&gt;session&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;query&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;func&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;count&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;distinct&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;User&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;name&lt;/span&gt;&lt;span class="p"&gt;)))&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;/div&gt;
&lt;div class="section" id="example"&gt;
&lt;h3&gt;example&lt;/h3&gt;
&lt;p&gt;in/limit/order:&lt;/p&gt;
&lt;pre class="literal-block"&gt;
a_list = self.filter(Article.shop_id==g.shop_id,
             Article.blog_id.in_(blog_id)).\
             order_by('-created').\
             limit(limit).\
             all()
&lt;/pre&gt;
&lt;p&gt;join:&lt;/p&gt;
&lt;pre class="literal-block"&gt;
reg_list = db.session.query(User.name, User.email).\
join(LogUserData, User.id==LogUserData.uid).\
filter(User.email != '', LogUserData.app_id.in_([156, 157])).\
all()

SELECT user.name, user.email, log_user_data.app_id
FROM `user`
LEFT JOIN log_user_data ON user.id = log_user_data.uid
WHERE `email` != '\&amp;quot;\&amp;quot;' and log_user_data.app_id in (156,157)
&lt;/pre&gt;
&lt;p&gt;join, or:&lt;/p&gt;
&lt;pre class="literal-block"&gt;
from sqlalchemy import or_, and_
p = Product.query.join('brand').\
    filter(or_(Product.title.like('%' + s + '%'),
               Brand.name.like('%' + s + '%'))).\
    filter(Product.shop_id==g.shop_id).\
    all()
&lt;/pre&gt;
&lt;p&gt;foreign key constraint&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span class="c"&gt;# database level&lt;/span&gt;
&lt;span class="n"&gt;ForeignKey&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s"&gt;&amp;#39;category.id&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;ondelete&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="s"&gt;&amp;#39;SET NULL&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;span class="c"&gt;# pythen level&lt;/span&gt;
&lt;span class="n"&gt;relationship&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;passive_deletes&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="bp"&gt;True&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;relationship, associate&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span class="c"&gt;# db.Table&lt;/span&gt;
&lt;span class="c"&gt;# class Foo()&lt;/span&gt;
&lt;span class="c"&gt;# class Bar():&lt;/span&gt;
&lt;span class="c"&gt;# foo_id = &amp;#39;foo.id&amp;#39;&lt;/span&gt;

&lt;span class="n"&gt;foo&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;Foo&lt;/span&gt;&lt;span class="p"&gt;()&lt;/span&gt;
&lt;span class="n"&gt;db&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;session&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;add&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;foo&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;span class="n"&gt;db&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;session&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;append&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;Bar&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;query&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;get&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="mi"&gt;1&lt;/span&gt;&lt;span class="p"&gt;))&lt;/span&gt;
&lt;span class="n"&gt;db&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;session&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;commit&lt;/span&gt;&lt;span class="p"&gt;()&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;/div&gt;
&lt;div class="section" id="debug"&gt;
&lt;h3&gt;debug&lt;/h3&gt;
&lt;p&gt;&lt;a class="reference external" href="http://pythonhosted.org/Flask-SQLAlchemy/api.html#flask.ext.sqlalchemy.get_debug_queries"&gt;http://pythonhosted.org/Flask-SQLAlchemy/api.html#flask.ext.sqlalchemy.get_debug_queries&lt;/a&gt;&lt;/p&gt;
&lt;/div&gt;
&lt;div class="section" id="error"&gt;
&lt;h3&gt;常見error&lt;/h3&gt;
&lt;p&gt;0.8更新:&lt;/p&gt;
&lt;pre class="literal-block"&gt;
'dynamic' loaders cannot be used with many-to-one/one-to-one relationships and/or uselist=False.
&lt;/pre&gt;
&lt;p&gt;0.8以後的SQLAlchemy的relationship如果是是many-to-one, one-to-one的關係用了dynamic loader &lt;tt class="docutils literal"&gt;&lt;span class="pre"&gt;lazy='dynamic'&lt;/span&gt;&lt;/tt&gt; , 或是加了 &lt;tt class="docutils literal"&gt;uselist=False&lt;/tt&gt; , 都會吐錯誤訊息出來. (以前只是warning)&lt;/p&gt;
&lt;p&gt;changelog (0.8): &lt;a class="reference external" href="http://docs.sqlalchemy.org/en/latest/changelog/changelog_08.html#change-5f7f7241c49f5c13956148d68788a5b4"&gt;http://docs.sqlalchemy.org/en/latest/changelog/changelog_08.html#change-5f7f7241c49f5c13956148d68788a5b4&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;文件 (0.7): &lt;a class="reference external" href="http://docs.sqlalchemy.org/en/rel_0_7/orm/collections.html#dynamic-relationship"&gt;http://docs.sqlalchemy.org/en/rel_0_7/orm/collections.html#dynamic-relationship&lt;/a&gt;&lt;/p&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="section" id="id1"&gt;
&lt;h2&gt;比較&lt;/h2&gt;
&lt;ul class="simple"&gt;
&lt;li&gt;&lt;a class="reference external" href="http://lucumr.pocoo.org/2011/7/19/sqlachemy-and-you/"&gt;SQLAlchemy and You | Armin Ronacher's Thoughts and Writings&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/div&gt;
&lt;div class="section" id="flask"&gt;
&lt;h2&gt;Flask&lt;/h2&gt;
&lt;div class="section" id="pattern"&gt;
&lt;h3&gt;pattern&lt;/h3&gt;
&lt;ul class="simple"&gt;
&lt;li&gt;&lt;a class="reference external" href="http://charlesleifer.com/blog/structuring-flask-apps-a-how-to-for-those-coming-from-django/"&gt;charles leifer | Structuring flask apps, a how-to for those coming from Django&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a class="reference external" href="https://github.com/mitsuhiko/flask/tree/master/examples"&gt;lask/examples at master · mitsuhiko/flask&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a class="reference external" href="https://github.com/semirook/flask-kit"&gt;semirook/flask-kit&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="section" id="django"&gt;
&lt;h2&gt;Django&lt;/h2&gt;
&lt;div class="section" id="quick-start"&gt;
&lt;h3&gt;Quick Start&lt;/h3&gt;
&lt;pre class="literal-block"&gt;
$ pip install Django
$ django-admin.py startproject mysite
$ python manage.py startapp myapp
&lt;/pre&gt;
&lt;p&gt;check version:&lt;/p&gt;
&lt;pre class="literal-block"&gt;
import django
print django.get_version()
&lt;/pre&gt;
&lt;/div&gt;
&lt;div class="section" id="docs"&gt;
&lt;h3&gt;docs&lt;/h3&gt;
&lt;ul class="simple"&gt;
&lt;li&gt;&lt;a class="reference external" href="https://docs.djangoproject.com/en/1.3/"&gt;Django | Django documentation | Django documentation&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a class="reference external" href="http://djangosnippets.org/snippets/1811/"&gt;Django snippets: django paginator&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="section" id="id2"&gt;
&lt;h2&gt;Flask&lt;/h2&gt;
&lt;p&gt;request:&lt;/p&gt;
&lt;pre class="literal-block"&gt;
request.remote_addr # client id
request.access_route # all ip addresses from client (access_route[0]) to the last proxy server,
# 判斷環境變數 HTTP_X_FORWARDED_FOR
&lt;/pre&gt;
&lt;div class="section" id="id3"&gt;
&lt;h3&gt;Docs&lt;/h3&gt;
&lt;ul class="simple"&gt;
&lt;li&gt;&lt;a class="reference external" href="http://flask.pocoo.org/docs/"&gt;Flask documentation&lt;/a&gt;, &lt;a class="reference external" href="https://github.com/mitsuhiko/flask"&gt;github&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a class="reference external" href="http://jinja.pocoo.org/docs/"&gt;Jinja2 documentation&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a class="reference external" href="http://packages.python.org/Flask-SQLAlchemy/"&gt;Flask-SQLAlchemy documentation&lt;/a&gt;, &lt;a class="reference external" href="https://github.com/brosner/sqlalchemy"&gt;github&lt;/a&gt;, &lt;a class="reference external" href="http://docs.sqlalchemy.org/en/latest/index.html"&gt;SQLAlchemy Documentation&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a class="reference external" href="http://packages.python.org/Flask-Login/"&gt;Flask-Login documentation&lt;/a&gt;, &lt;a class="reference external" href="https://bitbucket.org/leafstorm/flask-login"&gt;leafstorm / flask-login / overview — Bitbucket&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a class="reference external" href="http://packages.python.org/Flask-WTF/"&gt;Flask-WTF&lt;/a&gt;, &lt;a class="reference external" href="http://wtforms.simplecodes.com/docs/dev/"&gt;WTForms Documentation&lt;/a&gt;, &lt;a class="reference external" href="https://bitbucket.org/danjac/flask-wtf"&gt;danjac / flask-wtf / overview — Bitbucket&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/div&gt;
&lt;div class="section" id="tips"&gt;
&lt;h3&gt;Tips&lt;/h3&gt;
&lt;p&gt;看Flask版本:&lt;/p&gt;
&lt;pre class="literal-block"&gt;
import flask

flask.__version__
&lt;/pre&gt;
&lt;p&gt;request.args
request.form.getlist('')&lt;/p&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="section" id="jinja2"&gt;
&lt;h2&gt;Jinja2&lt;/h2&gt;
&lt;p&gt;sort(value, reverse=False, case_sensitive=False, attribute=None):&lt;/p&gt;
&lt;pre class="literal-block"&gt;
{% for item in iterable|sort(attribute='date') %}
  ...
{% endfor %}
&lt;/pre&gt;
&lt;p&gt;dictsort(value, case_sensitive=False, by='key'):&lt;/p&gt;
&lt;pre class="literal-block"&gt;
{% for item in mydict|dictsort(false, 'value') %}
    sort the dict by key, case insensitive, sorted
    normally and ordered by value.
&lt;/pre&gt;
&lt;/div&gt;
</summary><category term="docs"></category></entry><entry><title>blog</title><link href="http://blog.suhen.org/computer/blog.html" rel="alternate"></link><updated>2013-04-02T15:53:00+08:00</updated><author><name>moogoo</name></author><id>tag:blog.suhen.org,2013-04-02:computer/blog.html</id><summary type="html">&lt;div class="section" id="http-status-code"&gt;
&lt;h2&gt;HTTP status code&lt;/h2&gt;
&lt;p&gt;&lt;a class="reference external" href="http://www.w3.org/Protocols/rfc2616/rfc2616-sec10.html"&gt;http://www.w3.org/Protocols/rfc2616/rfc2616-sec10.html&lt;/a&gt;&lt;/p&gt;
&lt;div class="section" id="informational-1xx"&gt;
&lt;h3&gt;Informational 1xx&lt;/h3&gt;
&lt;p&gt;HTTP/1.0沒有定義&lt;/p&gt;
&lt;ul class="simple"&gt;
&lt;li&gt;100 Continue, proxy&lt;/li&gt;
&lt;li&gt;101 Switching Protocols, HTTP版本轉換&lt;/li&gt;
&lt;/ul&gt;
&lt;/div&gt;
&lt;div class="section" id="successful-2xx"&gt;
&lt;h3&gt;Successful 2xx&lt;/h3&gt;
&lt;ul class="simple"&gt;
&lt;li&gt;200 OK&lt;/li&gt;
&lt;li&gt;201 Created&lt;/li&gt;
&lt;li&gt;202 Accepted&lt;/li&gt;
&lt;li&gt;203 Non-Authoritative Information&lt;/li&gt;
&lt;li&gt;204 No Content&lt;/li&gt;
&lt;li&gt;205 Reset Content&lt;/li&gt;
&lt;li&gt;206 Partial Content&lt;/li&gt;
&lt;/ul&gt;
&lt;/div&gt;
&lt;div class="section" id="redirection-3xx"&gt;
&lt;h3&gt;Redirection 3xx&lt;/h3&gt;
&lt;ul class="simple"&gt;
&lt;li&gt;300 Multiple Choices&lt;/li&gt;
&lt;li&gt;301 Moved Permanently&lt;/li&gt;
&lt;li&gt;302 Found&lt;/li&gt;
&lt;li&gt;303 See Other&lt;/li&gt;
&lt;li&gt;304 Not Modified&lt;/li&gt;
&lt;li&gt;305 Use Proxy&lt;/li&gt;
&lt;li&gt;306 (Unused)&lt;/li&gt;
&lt;li&gt;307 Temporary Redirect&lt;/li&gt;
&lt;/ul&gt;
&lt;/div&gt;
&lt;div class="section" id="client-error-4xx"&gt;
&lt;h3&gt;Client Error 4xx&lt;/h3&gt;
&lt;ul class="simple"&gt;
&lt;li&gt;400 Bad Request&lt;/li&gt;
&lt;li&gt;401 Unauthorized&lt;/li&gt;
&lt;li&gt;402 Payment Required&lt;/li&gt;
&lt;li&gt;403 Forbidden&lt;/li&gt;
&lt;li&gt;404 Not Found&lt;/li&gt;
&lt;li&gt;405 Method Not Allowed&lt;/li&gt;
&lt;li&gt;406 Not Acceptable&lt;/li&gt;
&lt;li&gt;407 Proxy Authentication Required&lt;/li&gt;
&lt;li&gt;408 Request Timeout&lt;/li&gt;
&lt;li&gt;409 Conflict&lt;/li&gt;
&lt;/ul&gt;
&lt;/div&gt;
&lt;div class="section" id="internal-server-error"&gt;
&lt;h3&gt;500 Internal Server Error&lt;/h3&gt;
&lt;ul class="simple"&gt;
&lt;li&gt;501 Not Implemented&lt;/li&gt;
&lt;li&gt;502 Bad Gateway&lt;/li&gt;
&lt;li&gt;503 Service Unavailable&lt;/li&gt;
&lt;li&gt;504 Gateway Timeout&lt;/li&gt;
&lt;li&gt;505 HTTP Version Not Supported&lt;/li&gt;
&lt;/ul&gt;
&lt;/div&gt;
&lt;/div&gt;
</summary><category term="docs"></category></entry><entry><title>Ganglia</title><link href="http://blog.suhen.org/computer/ganglia.html" rel="alternate"></link><updated>2013-04-02T11:39:00+08:00</updated><author><name>moogoo</name></author><id>tag:blog.suhen.org,2013-04-02:computer/ganglia.html</id><summary type="html">&lt;p&gt;之前用過mumin, 感覺有點吃資源, 設定也麻煩, 試試ganglia&lt;/p&gt;
&lt;p&gt;Ganglia有3個部分:&lt;/p&gt;
&lt;ul class="simple"&gt;
&lt;li&gt;gmond -  每一個node都要分別開啟的daemon, 分成sender跟receiver&lt;/li&gt;
&lt;li&gt;gmetad - 詢問gmond儲存數質&lt;/li&gt;
&lt;li&gt;ganglia-web&lt;/li&gt;
&lt;/ul&gt;
&lt;pre class="literal-block"&gt;
# config
/etc/ganglia/gmetad.conf # CentOS
/usr/share/ganglia/ # php files
&lt;/pre&gt;
&lt;p&gt;start daemond:&lt;/p&gt;
&lt;pre class="literal-block"&gt;
service gmond start
service gmetad start
&lt;/pre&gt;
&lt;div class="section" id="centos"&gt;
&lt;h2&gt;CentOS&lt;/h2&gt;
&lt;p&gt;進入web介面時出現:&lt;/p&gt;
&lt;pre class="literal-block"&gt;
There was an error collecting ganglia data (127.0.0.1:8652): fsockopen error: Connection refused
&lt;/pre&gt;
&lt;p&gt;解決方法, 重新安裝(dependency問題):&lt;/p&gt;
&lt;pre class="literal-block"&gt;
$ yum remove ganglia-web ganglia-megtad
$ yum install ganglia-web # 會自動安裝gmetad
$ service gmetad start
&lt;/pre&gt;
&lt;p&gt;&lt;a class="reference external" href="http://sourceforge.net/apps/trac/ganglia/wiki/ganglia_quick_start"&gt;http://sourceforge.net/apps/trac/ganglia/wiki/ganglia_quick_start&lt;/a&gt;&lt;/p&gt;
&lt;/div&gt;
</summary><category term="note"></category></entry><entry><title>reST – reStructuredText與Sphinx</title><link href="http://blog.suhen.org/computer/rest_sphinx.html" rel="alternate"></link><updated>2013-03-28T00:00:00+08:00</updated><author><name>moogoo</name></author><id>tag:blog.suhen.org,2013-03-28:computer/rest_sphinx.html</id><summary type="html">&lt;p&gt;&lt;a class="reference external" href="http://docutils.sourceforge.net/rst.html"&gt;reStructuredText&lt;/a&gt; 是Python &lt;a class="reference external" href="http://docutils.sourceforge.net/index.html"&gt;Docutils: Documentation Utilities&lt;/a&gt; 的一部分, 而 &lt;a class="reference external" href="http://sphinx.pocoo.org/"&gt;Sphinx&lt;/a&gt; 可以更方便產生，管理文件的工具&lt;/p&gt;
&lt;p&gt;縮排用二個或三個空白都可以，Emacs的ReST預設用三個&lt;/p&gt;
&lt;div class="section" id="id1"&gt;
&lt;h2&gt;使用&lt;/h2&gt;
&lt;p&gt;安裝:&lt;/p&gt;
&lt;pre class="literal-block"&gt;
$ pip install Sphinx
&lt;/pre&gt;
&lt;p&gt;某目錄下:&lt;/p&gt;
&lt;pre class="literal-block"&gt;
$ sphinx-quickstart
&lt;/pre&gt;
&lt;p&gt;會自動設定好conf.py, 和相關檔案&lt;/p&gt;
&lt;p&gt;產生網頁檔:&lt;/p&gt;
&lt;pre class="literal-block"&gt;
$ make html
&lt;/pre&gt;
&lt;/div&gt;
&lt;div class="section" id="id2"&gt;
&lt;h2&gt;文件結構&lt;/h2&gt;
&lt;div class="section" id="id3"&gt;
&lt;h3&gt;分段&lt;/h3&gt;
&lt;p&gt;用一串連續的=*-^&amp;quot;~等字符來標示，通常用:&lt;/p&gt;
&lt;pre class="literal-block"&gt;
==========
全文標題
==========

大標題
========

小標題
---------

段落
^^^^^^
&lt;/pre&gt;
&lt;div class="note"&gt;
&lt;p class="first admonition-title"&gt;Note&lt;/p&gt;
&lt;p class="last"&gt;中文字用的分段標示要長一點點&lt;/p&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="section" id="id4"&gt;
&lt;h3&gt;分隔&lt;/h3&gt;
&lt;p&gt;像HTML裡的 &lt;tt class="docutils literal"&gt;&amp;lt;hr&amp;gt;&lt;/tt&gt;:&lt;/p&gt;
&lt;pre class="literal-block"&gt;
----
&lt;/pre&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="section" id="inline-markup"&gt;
&lt;h2&gt;修飾字 Inline markup&lt;/h2&gt;
&lt;p&gt;&lt;em&gt;斜體&lt;/em&gt;:&lt;/p&gt;
&lt;pre class="literal-block"&gt;
*italic*
&lt;/pre&gt;
&lt;div class="note"&gt;
&lt;p class="first admonition-title"&gt;Note&lt;/p&gt;
&lt;p class="last"&gt;中文不能斜&lt;/p&gt;
&lt;/div&gt;
&lt;p&gt;&lt;strong&gt;粗體&lt;/strong&gt;:&lt;/p&gt;
&lt;pre class="literal-block"&gt;
**bold**
&lt;/pre&gt;
&lt;p&gt;&lt;tt class="docutils literal"&gt;有底色&lt;/tt&gt;:&lt;/p&gt;
&lt;pre class="literal-block"&gt;
``有底色``
&lt;/pre&gt;
&lt;p&gt;&amp;quot;修飾字&amp;quot;的前後都要空格，如要跟後面的字相連可以用 &lt;tt class="docutils literal"&gt;\&lt;/tt&gt;跳脫，如: &lt;strong&gt;test&lt;/strong&gt;123:&lt;/p&gt;
&lt;pre class="literal-block"&gt;
**test**\123
&lt;/pre&gt;
&lt;/div&gt;
&lt;div class="section" id="id5"&gt;
&lt;h2&gt;定義&lt;/h2&gt;
&lt;p&gt;定義:&lt;/p&gt;
&lt;pre class="literal-block"&gt;
what
  Definition of “what”. We add a few words to show the line wrapping.
how
  Definition of “how”.
&lt;/pre&gt;
&lt;dl class="docutils"&gt;
&lt;dt&gt;what&lt;/dt&gt;
&lt;dd&gt;Definition of “what”. We add a few words to show the line wrapping.&lt;/dd&gt;
&lt;dt&gt;how&lt;/dt&gt;
&lt;dd&gt;Definition of “how”.&lt;/dd&gt;
&lt;/dl&gt;
&lt;/div&gt;
&lt;div class="section" id="lists"&gt;
&lt;h2&gt;條列 Lists&lt;/h2&gt;
&lt;p&gt;標示字符用*, +, -,等都可以:&lt;/p&gt;
&lt;pre class="literal-block"&gt;
* 第一項

  * 子項目不是只有縮排, 上面要空一行才可以

* 第二項

1. uno
2. dos

a) eins
b) zwai
&lt;/pre&gt;
&lt;/div&gt;
&lt;div class="section" id="blocks"&gt;
&lt;h2&gt;文字區塊 Blocks&lt;/h2&gt;
&lt;p&gt;以下是區塊, 要空一行和縮排:&lt;/p&gt;
&lt;pre class="literal-block"&gt;
跟你說::

  嘻嘻
&lt;/pre&gt;
&lt;p&gt;註解/警告:&lt;/p&gt;
&lt;pre class="literal-block"&gt;
.. note:: this is a note.
.. warning:: this is a warning.
&lt;/pre&gt;
&lt;div class="note"&gt;
&lt;p class="first admonition-title"&gt;Note&lt;/p&gt;
&lt;p class="last"&gt;this is a note.&lt;/p&gt;
&lt;/div&gt;
&lt;div class="warning"&gt;
&lt;p class="first admonition-title"&gt;Warning&lt;/p&gt;
&lt;p class="last"&gt;this is a warning.&lt;/p&gt;
&lt;/div&gt;
&lt;div class="section" id="syntax-highlighting"&gt;
&lt;h3&gt;Syntax Highlighting&lt;/h3&gt;
&lt;div class="section" id="include-source"&gt;
&lt;h4&gt;Include Source&lt;/h4&gt;
&lt;p&gt;會把原始碼印出來。&lt;/p&gt;
&lt;p&gt;Python:&lt;/p&gt;
&lt;pre class="literal-block"&gt;
.. iteralinclude:: example.py
  :linenos:
&lt;/pre&gt;
&lt;p&gt;PHP:&lt;/p&gt;
&lt;pre class="literal-block"&gt;
.. literalinclude:: example.php
  :language: php
  :prepend: &amp;lt;?php
  :append: ?&amp;gt;
&lt;/pre&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="section" id="id6"&gt;
&lt;h2&gt;連結&lt;/h2&gt;
&lt;div class="section" id="id7"&gt;
&lt;h3&gt;外部連結&lt;/h3&gt;
&lt;p&gt;例子:&lt;/p&gt;
&lt;pre class="literal-block"&gt;
`連結的標題 &amp;lt;http://example.com&amp;gt;`__
`&amp;lt;http://example.com&amp;gt;`
&lt;/pre&gt;
&lt;/div&gt;
&lt;div class="section" id="id8"&gt;
&lt;h3&gt;內部連結&lt;/h3&gt;
&lt;p&gt;在某個rst文件裡的任何一個地方定義:&lt;/p&gt;
&lt;pre class="literal-block"&gt;
.. _test_label:
&lt;/pre&gt;
&lt;p&gt;連結:&lt;/p&gt;
&lt;pre class="literal-block"&gt;
:ref:`標題文字&amp;lt;test_label&amp;gt;`
&lt;/pre&gt;
&lt;p&gt;或是用:&lt;/p&gt;
&lt;pre class="literal-block"&gt;
:doc:`reST`
&lt;/pre&gt;
&lt;p&gt;會自動把文件標題抓出來:&lt;/p&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="section" id="tables"&gt;
&lt;h2&gt;表格 (Tables)&lt;/h2&gt;
&lt;/div&gt;
&lt;div class="section" id="field-list"&gt;
&lt;h2&gt;(Field list)&lt;/h2&gt;
&lt;/div&gt;
&lt;div class="section" id="explicit-markup"&gt;
&lt;h2&gt;Explicit Markup&lt;/h2&gt;
&lt;/div&gt;
&lt;div class="section" id="extensions"&gt;
&lt;h2&gt;extensions&lt;/h2&gt;
&lt;div class="section" id="graphviz"&gt;
&lt;h3&gt;graphviz&lt;/h3&gt;
&lt;p&gt;conf.py的extension加入:&lt;/p&gt;
&lt;pre class="literal-block"&gt;
extensions = ['sphinx.ext.graphviz']
&lt;/pre&gt;
&lt;p&gt;語法:&lt;/p&gt;
&lt;pre class="literal-block"&gt;
.. graphviz::

   digraph foo {
      &amp;quot;bar&amp;quot; -&amp;gt; &amp;quot;baz&amp;quot;;
   }
&lt;/pre&gt;
&lt;/div&gt;
&lt;div class="section" id="comments"&gt;
&lt;h3&gt;Comments 註解&lt;/h3&gt;
&lt;p&gt;單行:&lt;/p&gt;
&lt;pre class="literal-block"&gt;
.. This is a comment.
&lt;/pre&gt;
&lt;p&gt;區塊:&lt;/p&gt;
&lt;pre class="literal-block"&gt;
..
   This whole indented block
   is a comment.

   Still in the comment.
&lt;/pre&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="section" id="id9"&gt;
&lt;h2&gt;參考資料&lt;/h2&gt;
&lt;ul class="simple"&gt;
&lt;li&gt;&lt;a class="reference external" href="http://people.ee.ethz.ch/~creller/web/tricks/reST.html"&gt;reST – reStructuredText — Bits and Pieces&lt;/a&gt; - 簡潔扼要, 還有附Emacs的ReST mode&lt;/li&gt;
&lt;li&gt;&lt;a class="reference external" href="http://packages.python.org/an_example_pypi_project/sphinx.html#restructured-text-rest-resources"&gt;Documenting Your Project Using Sphinx — an_example_pypi_project v0.0.5 documentation&lt;/a&gt; -&lt;/li&gt;
&lt;li&gt;&lt;a class="reference external" href="http://openalea.gforge.inria.fr/doc/openalea/doc/_build/html/source/sphinx/rest_syntax.html"&gt;3.6.1. Restructured Text (reST) and Sphinx CheatSheet — openalea.doc v0.8.0 documentation&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a class="reference external" href="http://packages.python.org/an_example_pypi_project/sphinx.html"&gt;Documenting Your Project Using Sphinx — an_example_pypi_project v0.0.5 documentation&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/div&gt;
</summary><category term="docs"></category></entry><entry><title>Software</title><link href="http://blog.suhen.org/computer/software.html" rel="alternate"></link><updated>2013-03-28T00:00:00+08:00</updated><author><name>moogoo</name></author><id>tag:blog.suhen.org,2013-03-28:computer/software.html</id><summary type="html">&lt;div class="section" id="desktop-tips"&gt;
&lt;h2&gt;Desktop Tips&lt;/h2&gt;
&lt;div class="section" id="system"&gt;
&lt;h3&gt;System&lt;/h3&gt;
&lt;div class="section" id="mac-osx"&gt;
&lt;h4&gt;Mac OSX&lt;/h4&gt;
&lt;p&gt;(Mac的Option也是Alt鍵)&lt;/p&gt;
&lt;p&gt;Finder:&lt;/p&gt;
&lt;ul class="simple"&gt;
&lt;li&gt;Command Shift D: 移駕「桌面」&lt;/li&gt;
&lt;li&gt;Command Shift H: Home&lt;/li&gt;
&lt;li&gt;Command Shift G: 輸入資料夾名稱&lt;/li&gt;
&lt;li&gt;Command Shift U:「工具程式」檔案夾&lt;/li&gt;
&lt;li&gt;Command M: 縮小視窗&lt;/li&gt;
&lt;li&gt;Command Option T:隱藏 / 顯示工具列&lt;/li&gt;
&lt;li&gt;Command 1/2/3/4: 顯示方式&lt;/li&gt;
&lt;li&gt;Command [ / ]: 上/下一個資料夾&lt;/li&gt;
&lt;li&gt;Command 上: 上一層資料夾&lt;/li&gt;
&lt;li&gt;顯示User Library(資料庫): 在Finder裡的Go(前往)選單, 按住option, 就會出現&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;清空垃圾桶: Command Shift Delete&lt;/p&gt;
&lt;p&gt;zoom in/out: Command Opt =/-&lt;/p&gt;
&lt;p&gt;強制結束: Command Opt Esc (force quit)&lt;/p&gt;
&lt;p&gt;全面截圖 (存到桌面): Command Shift 3&lt;/p&gt;
&lt;p&gt;區域截圖 (存到桌面): Command Shift 4&lt;/p&gt;
&lt;p&gt;視窗截圖 (存到桌面): Command Shift 4 Space [選視窗]&lt;/p&gt;
&lt;p&gt;區域截圖 (存到剪貼簿): Command Shift Control 4&lt;/p&gt;
&lt;p&gt;貼上無格式文字 (plain-text): ShiftOption Command-v&lt;/p&gt;
&lt;p&gt;輸入特殊符號: Command option T&lt;/p&gt;
&lt;p&gt;放大縮小: Command + / Command -&lt;/p&gt;
&lt;p&gt;無線網路密碼:&lt;/p&gt;
&lt;pre class="literal-block"&gt;
1. 到&amp;quot;鑰匙圈存取&amp;quot;: Finder -&amp;gt; 工具程式 -&amp;gt; 鑰匙圈存取
2. 找基地台名稱, 分類是&amp;quot;AirPort網路密碼&amp;quot;, 顯示密碼
&lt;/pre&gt;
&lt;p&gt;Mac 更新到iOX 10.9, pip安裝出現錯誤 (gcc編譯相關):&lt;/p&gt;
&lt;pre class="literal-block"&gt;
1. 更新xcode
2. sudo xcodebuild -license
3. xcode-select --install
&lt;/pre&gt;
&lt;ul class="simple"&gt;
&lt;li&gt;[14 Mac Hacks That Will Change The Way You Use Your Computer](&lt;a class="reference external" href="http://www.buzzfeed.com/peggy/14-mac-hacks-that-will-change-the-way-you-use-your-computer"&gt;http://www.buzzfeed.com/peggy/14-mac-hacks-that-will-change-the-way-you-use-your-computer&lt;/a&gt;)&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;瘦身:&lt;/p&gt;
&lt;pre class="literal-block"&gt;
~/Library/Application\ Support/MobileSync # 檔案很大, iPhone, iPad, iPod...的備份

iTunes -&amp;gt; Perference -&amp;gt; Devices -&amp;gt; 刪除備份
&lt;/pre&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="section" id="browser"&gt;
&lt;h3&gt;Browser&lt;/h3&gt;
&lt;p&gt;browser 網址輸入以下, 可以當記事本:&lt;/p&gt;
&lt;pre class="literal-block"&gt;
data:text/html, &amp;lt;html contenteditable&amp;gt;
&lt;/pre&gt;
&lt;div class="section" id="firefox"&gt;
&lt;h4&gt;Firefox&lt;/h4&gt;
&lt;p&gt;快速鍵 (整理過, 只列出自己常用):&lt;/p&gt;
&lt;pre class="literal-block"&gt;
# bookmark
Ctrl+B   顯示bookmark (側邊欄)
Ctrl+D   加入bookmark

# tab
Ctrl+T   開新tab
Ctrl+W   關Tab
Ctrl+tab 下一個tab
Ctrl+PageUp/PageDown 上/下一個tab

# window/frame
Ctrl+L 移到網址列
Ctrl+J download
F6     move to frame

# search
Ctrl+F   search
Ctrl+G   search next
Shift+F3 serach privious

# other
Alt+Enter open link in new tab
F11 fullscreen
F7 鍵盤瀏覽
&lt;/pre&gt;
&lt;/div&gt;
&lt;div class="section" id="developer-s-tools"&gt;
&lt;h4&gt;Developer's tools&lt;/h4&gt;
&lt;p&gt;scratchpad: 按shift+F4&lt;/p&gt;
&lt;ul class="simple"&gt;
&lt;li&gt;[重新介紹 Firefox 開發者工具之二 | 訊息中心 | Mozilla Taiwan](&lt;a class="reference external" href="http://blog.mozilla.com.tw/posts/4200/reintroducing-the-firefox-developer-tools-part-2-the-scratchpad-and-the-style-editor"&gt;http://blog.mozilla.com.tw/posts/4200/reintroducing-the-firefox-developer-tools-part-2-the-scratchpad-and-the-style-editor&lt;/a&gt;)&lt;/li&gt;
&lt;/ul&gt;
&lt;/div&gt;
&lt;div class="section" id="browser-plugin-extensions"&gt;
&lt;h4&gt;Browser plugin/extensions&lt;/h4&gt;
&lt;ul class="simple"&gt;
&lt;li&gt;顯示網站使用fromeworks, web server, service...&lt;ul&gt;
&lt;li&gt;&lt;a class="reference external" href="http://www.nqbao.com/chrome-sniffer"&gt;Chrome Sniffer | Bao's Blog&lt;/a&gt; (Chrome)&lt;/li&gt;
&lt;li&gt;&lt;a class="reference external" href="http://wappalyzer.com/"&gt;Wappalyzer&lt;/a&gt; (Firefox)&lt;/li&gt;
&lt;li&gt;&lt;a class="reference external" href="http://www.tcpiputils.com/browser-extensions-addons-accelerators"&gt;Find your extension, accelerator and addon for the browsers safari, internet explorer(ie), chrome and firefox&lt;/a&gt; (Chrome, Firefox, Opera, Safari)&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="section" id="web-service"&gt;
&lt;h2&gt;Web Service&lt;/h2&gt;
&lt;div class="section" id="gmail"&gt;
&lt;h3&gt;Gmail&lt;/h3&gt;
&lt;p&gt;shortcut:&lt;/p&gt;
&lt;ul class="simple"&gt;
&lt;li&gt;j / k: 下/上&lt;/li&gt;
&lt;li&gt;x: check&lt;/li&gt;
&lt;li&gt;' / ~ : next tab /previous tab&lt;/li&gt;
&lt;li&gt;m: mark&lt;/li&gt;
&lt;li&gt;gi / ga: goto inbox/archive&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;a class="reference external" href="https://support.google.com/mail/answer/6594?hl=en"&gt;Keyboard shortcuts for Gmail - Gmail Help&lt;/a&gt;&lt;/p&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="section" id="id1"&gt;
&lt;h2&gt;好用軟體&lt;/h2&gt;
&lt;div class="section" id="internet"&gt;
&lt;h3&gt;Internet&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;&lt;p class="first"&gt;bt - Deluge (Linux)&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;&lt;p class="first"&gt;IRC Client (OS X)&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;&lt;p class="first"&gt;&lt;a class="reference external" href="http://www.charlesproxy.com/"&gt;Charles Web Debugging Proxy • HTTP Monitor / HTTP Proxy / HTTPS &amp;amp; SSL Proxy / Reverse Proxy&lt;/a&gt;&lt;/p&gt;
&lt;ol class="arabic simple"&gt;
&lt;li&gt;Install Charles.app&lt;/li&gt;
&lt;li&gt;iOS add SSL certificate (不管 https 可忽略)&lt;/li&gt;
&lt;li&gt;設定 proxy: iOS 的 Wi-Fi, HTTP PROXY 改 Manual&lt;/li&gt;
&lt;/ol&gt;
&lt;blockquote&gt;
&lt;ul class="simple"&gt;
&lt;li&gt;Server: 裝 Charles.app 的電腦 IP (要在同一個網路下)&lt;/li&gt;
&lt;li&gt;Port: 8888&lt;/li&gt;
&lt;/ul&gt;
&lt;/blockquote&gt;
&lt;ol class="arabic simple" start="4"&gt;
&lt;li&gt;Charles.app 會收到 request, 按 accept 就可以了&lt;/li&gt;
&lt;li&gt;操作 iOS 的 APP, Charles.app 就有資料了&lt;/li&gt;
&lt;/ol&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;/div&gt;
&lt;div class="section" id="ebook"&gt;
&lt;h3&gt;ebook&lt;/h3&gt;
&lt;ul class="simple"&gt;
&lt;li&gt;&lt;a class="reference external" href="http://calibre-ebook.com/"&gt;calibre - E-book management&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/div&gt;
&lt;div class="section" id="id2"&gt;
&lt;h3&gt;系統工具&lt;/h3&gt;
&lt;p&gt;osx mount ext2/3: &lt;a class="reference external" href="http://osxfuse.github.com/"&gt;FUSE for OS X&lt;/a&gt; + &lt;a class="reference external" href="http://sourceforge.net/projects/fuse-ext2/"&gt;fuse-ext2&lt;/a&gt;&lt;/p&gt;
&lt;/div&gt;
&lt;div class="section" id="devtools"&gt;
&lt;h3&gt;DevTools&lt;/h3&gt;
&lt;ul class="simple"&gt;
&lt;li&gt;&lt;a class="reference external" href="http://www.pixelwindowapp.com/"&gt;PixelWindow&lt;/a&gt; resolution ruler&lt;/li&gt;
&lt;li&gt;&lt;a class="reference external" href="http://meldmerge.org/"&gt;meld&lt;/a&gt;: $ homebrew install meld&lt;/li&gt;
&lt;/ul&gt;
&lt;/div&gt;
&lt;div class="section" id="html5-slides"&gt;
&lt;h3&gt;HTML5 Slides&lt;/h3&gt;
&lt;ul class="simple"&gt;
&lt;li&gt;&lt;a class="reference external" href="http://bartaz.github.io/impress.js/#/bored"&gt;impress.js | presentation tool based on the power of CSS3 transforms and transitions in modern browsers | by Bartek Szopka &amp;#64;bartaz&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a class="reference external" href="https://github.com/hakimel/reveal.js"&gt;hakimel/reveal.js&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="section" id="vim"&gt;
&lt;h2&gt;VIM&lt;/h2&gt;
&lt;p&gt;行號:&lt;/p&gt;
&lt;pre class="literal-block"&gt;
:set nonu
:set nu
&lt;/pre&gt;
&lt;/div&gt;
&lt;div class="section" id="command-line"&gt;
&lt;h2&gt;Command Line&lt;/h2&gt;
&lt;div class="section" id="tmux"&gt;
&lt;h3&gt;tmux&lt;/h3&gt;
&lt;p&gt;# 開新視窗
C-b c&lt;/p&gt;
&lt;p&gt;# 前/後一個視窗
C-b n/p&lt;/p&gt;
&lt;p&gt;# 分割上下pane
C-b &amp;quot;&lt;/p&gt;
&lt;p&gt;# 分割左右pane
C-b %&lt;/p&gt;
&lt;p&gt;# 重整pane(幫你排)
C-b SPACE&lt;/p&gt;
&lt;p&gt;# 調整視窗大小
C-b 按著不放再按上下左右&lt;/p&gt;
&lt;p&gt;# 移動到另一視窗
C-b 上下左右
C-b o&lt;/p&gt;
&lt;p&gt;# 視窗交換位址&lt;/p&gt;
&lt;p&gt;C-b C-o&lt;/p&gt;
&lt;p&gt;# 顯示時間
C-b t&lt;/p&gt;
&lt;p&gt;# 把目前tmux session丟到背景去 (回到原本terminal)
C-b d&lt;/p&gt;
&lt;p&gt;# 回到剛才的tmux session
tmux attach&lt;/p&gt;
&lt;p&gt;# help
C-b ?&lt;/p&gt;
&lt;p&gt;scroll:&lt;/p&gt;
&lt;pre class="literal-block"&gt;
Ctrl-b [ 上/下/左/右 , q 離開
&lt;/pre&gt;
&lt;ul class="simple"&gt;
&lt;li&gt;&lt;a class="reference external" href="https://gist.github.com/MohamedAlaa/2961058"&gt;tmux shortcuts &amp;amp; cheatsheet&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a class="reference external" href="https://gist.github.com/andreyvit/2921703"&gt;tmux cheatsheet&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="section" id="tools"&gt;
&lt;h2&gt;Tools&lt;/h2&gt;
&lt;div class="section" id="dot-grphviz"&gt;
&lt;h3&gt;dot (grphviz)&lt;/h3&gt;
&lt;p&gt;example:&lt;/p&gt;
&lt;pre class="literal-block"&gt;
digraph foo {
  hello [shape=&amp;quot;diamond&amp;quot;, label=&amp;quot;hihi \nhello&amp;quot;]
  world
  hello -&amp;gt; world [label=&amp;quot;Y&amp;quot;]
}
&lt;/pre&gt;
&lt;p&gt;輸出png:&lt;/p&gt;
&lt;pre class="literal-block"&gt;
dot foo.dot -Tpng -o foo.png
&lt;/pre&gt;
&lt;div class="note"&gt;
&lt;p class="first admonition-title"&gt;Note&lt;/p&gt;
&lt;p class="last"&gt;-T: format -o: output&lt;/p&gt;
&lt;/div&gt;
&lt;div class="note"&gt;
&lt;p class="first admonition-title"&gt;Note&lt;/p&gt;
&lt;p class="last"&gt;註解用/* */ 或 //，像C++一樣&lt;/p&gt;
&lt;/div&gt;
&lt;p&gt;ref:&lt;/p&gt;
&lt;ul class="simple"&gt;
&lt;li&gt;&lt;a class="reference external" href="http://www.graphviz.org/content/node-shapes"&gt;Node Shapes | Graphviz - Graph Visualization Software&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a class="reference external" href="http://www.graphviz.org/content/dot-language"&gt;The DOT Language | Graphviz - Graph Visualization Software&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a class="reference external" href="http://www.graphviz.org/Gallery.php"&gt;Gallery | Graphviz - Graph Visualization Software&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/div&gt;
&lt;div class="section" id="ffmpeg"&gt;
&lt;h3&gt;ffmpeg&lt;/h3&gt;
&lt;p&gt;usage:&lt;/p&gt;
&lt;pre class="literal-block"&gt;
ffmpeg -i [source] [target]
&lt;/pre&gt;
&lt;div class="note"&gt;
&lt;p class="first admonition-title"&gt;Note&lt;/p&gt;
&lt;p class="last"&gt;-vcodec&lt;/p&gt;
&lt;/div&gt;
&lt;div class="note"&gt;
&lt;p class="first admonition-title"&gt;Note&lt;/p&gt;
&lt;p class="last"&gt;-s 100x100&lt;/p&gt;
&lt;/div&gt;
&lt;div class="note"&gt;
&lt;p class="first admonition-title"&gt;Note&lt;/p&gt;
&lt;p class="last"&gt;-t 10 (前10秒)&lt;/p&gt;
&lt;/div&gt;
&lt;div class="note"&gt;
&lt;p class="first admonition-title"&gt;Note&lt;/p&gt;
&lt;p class="last"&gt;-vf crop=100:100 (切中間100x100), crop=in_w-480:in_h(左右各切240)&lt;/p&gt;
&lt;/div&gt;
&lt;div class="note"&gt;
&lt;p class="first admonition-title"&gt;Note&lt;/p&gt;
&lt;p class="last"&gt;-aspect 4:3&lt;/p&gt;
&lt;/div&gt;
&lt;p&gt;列出所有codecs:&lt;/p&gt;
&lt;pre class="literal-block"&gt;
$ ffmpeg -codecs
&lt;/pre&gt;
&lt;p&gt;列出所有file format:&lt;/p&gt;
&lt;pre class="literal-block"&gt;
$ ffmpeg -formats
&lt;/pre&gt;
&lt;div class="section" id="tips"&gt;
&lt;h4&gt;Tips&lt;/h4&gt;
&lt;p&gt;右上角watermark:&lt;/p&gt;
&lt;pre class="literal-block"&gt;
$ ffmpeg –i inputvideo.avi -vf &amp;quot;movie=watermarklogo.png [watermark]; [in][watermark] overlay=main_w-overlay_w-10:10 [out]&amp;quot; outputvideo.flv
&lt;/pre&gt;
&lt;p&gt;via: &lt;a class="reference external" href="http://www.idude.net/index.php/how-to-watermark-a-video-using-ffmpeg/"&gt;How to watermark a video using FFmpeg | iDude.net&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;examples:&lt;/p&gt;
&lt;pre class="literal-block"&gt;
ffmpeg -i filename.webm -acodec libmp3lame -aq 4 filename.mp3
&lt;/pre&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
</summary><category term="docs"></category></entry><entry><title>UNIX Command 常用指令</title><link href="http://blog.suhen.org/computer/unix_command.html" rel="alternate"></link><updated>2013-03-28T00:00:00+08:00</updated><author><name>moogoo</name></author><id>tag:blog.suhen.org,2013-03-28:computer/unix_command.html</id><summary type="html">&lt;div class="section" id="script"&gt;
&lt;h2&gt;script&lt;/h2&gt;
&lt;div class="section" id="snippets"&gt;
&lt;h3&gt;snippets&lt;/h3&gt;
&lt;p&gt;把&amp;quot;/t&amp;quot;分隔的檔案轉成sql語法, 用awk和sed&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;awk -F &lt;span class="s1"&gt;&amp;#39;\t&amp;#39;&lt;/span&gt; &lt;span class="s1"&gt;&amp;#39;{print &amp;quot;INSERT INTO word (\&amp;quot;s3id\&amp;quot;,\&amp;quot;content\&amp;quot;,\&amp;quot;freq\&amp;quot;,\&amp;quot;translate\&amp;quot;,\&amp;quot;ex1\&amp;quot;,\&amp;quot;ex1_translate\&amp;quot;,\&amp;quot;ex2\&amp;quot;,\&amp;quot;ex2_translate\&amp;quot;) VALUES(\&amp;quot;&amp;quot;$1&amp;quot;\&amp;quot;,\&amp;quot;&amp;quot;$2&amp;quot;\&amp;quot;,\&amp;quot;&amp;quot;$3&amp;quot;\&amp;quot;,\&amp;quot;&amp;quot;$4&amp;quot;\&amp;quot;,\&amp;quot;&amp;quot;$5&amp;quot;\&amp;quot;,\&amp;quot;&amp;quot;$6&amp;quot;\&amp;quot;,\&amp;quot;&amp;quot;$7&amp;quot;\&amp;quot;,\&amp;quot;&amp;quot;$8&amp;quot;\&amp;quot;);&amp;quot;}&amp;#39;&lt;/span&gt; data_all_u.txt | sed -e &lt;span class="s1"&gt;&amp;#39;s/^M//g&amp;#39;&lt;/span&gt; &amp;gt; out.sql
&lt;/pre&gt;&lt;/div&gt;
&lt;div class="note"&gt;
&lt;p class="first admonition-title"&gt;Note&lt;/p&gt;
&lt;p class="last"&gt;先用awk轉好, 再用sed去除最後換行符號, &amp;quot;^M&amp;quot;在commend-line裡要Ctrl-V + Ctrl-M表示&lt;/p&gt;
&lt;/div&gt;
&lt;p&gt;more&lt;/p&gt;
&lt;ul class="simple"&gt;
&lt;li&gt;[Robert Muth: Better Bash Scripting in 15 Minutes](&lt;a class="reference external" href="http://robertmuth.blogspot.tw/2012/08/better-bash-scripting-in-15-minutes.html?utm_source=hackernewsletter&amp;amp;utm_medium=email&amp;amp;utm_term=fav"&gt;http://robertmuth.blogspot.tw/2012/08/better-bash-scripting-in-15-minutes.html?utm_source=hackernewsletter&amp;amp;utm_medium=email&amp;amp;utm_term=fav&lt;/a&gt;)&lt;/li&gt;
&lt;/ul&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="section" id="id1"&gt;
&lt;h2&gt;檔案&lt;/h2&gt;
&lt;p&gt;把檔案foo複製到以下全部目錄裡:&lt;/p&gt;
&lt;pre class="literal-block"&gt;
$ find . -type d |xargs -n 1 cp -i foo
&lt;/pre&gt;
&lt;table class="docutils field-list" frame="void" rules="none"&gt;
&lt;col class="field-name" /&gt;
&lt;col class="field-body" /&gt;
&lt;tbody valign="top"&gt;
&lt;tr class="field"&gt;&lt;th class="field-name"&gt;xargs -n 1:&lt;/th&gt;&lt;td class="field-body"&gt;把每一行command line輸出當作一個參數&lt;/td&gt;
&lt;/tr&gt;
&lt;tr class="field"&gt;&lt;th class="field-name"&gt;cp -i:&lt;/th&gt;&lt;td class="field-body"&gt;詢問y or n&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;div class="section" id="id2"&gt;
&lt;h3&gt;改檔名&lt;/h3&gt;
&lt;p&gt;大寫改小寫:&lt;/p&gt;
&lt;pre class="literal-block"&gt;
$ for i in $( ls | grep [A-Z] ); do mv -i $i `echo $i | tr 'A-Z' 'a-z'`; done
&lt;/pre&gt;
&lt;p&gt;只取數字, JPG改jpg:&lt;/p&gt;
&lt;pre class="literal-block"&gt;
for i in *.JPG ; do mv &amp;quot;$i&amp;quot; `echo $i | tr -dc '[0-9]'`&amp;quot;.jpg&amp;quot; ; done
&lt;/pre&gt;
&lt;p&gt;for loop:&lt;/p&gt;
&lt;pre class="literal-block"&gt;
for f in *.html; do
    base=`basename $f .html`
    mv $f $bae.php
done
&lt;/pre&gt;
&lt;/div&gt;
&lt;div class="section" id="id3"&gt;
&lt;h3&gt;找檔案&lt;/h3&gt;
&lt;p&gt;找目錄名稱:&lt;/p&gt;
&lt;pre class="literal-block"&gt;
$ find / -type d -name &amp;quot;dir_name&amp;quot;
&lt;/pre&gt;
&lt;p&gt;刪除5分鐘內建立的檔案:&lt;/p&gt;
&lt;pre class="literal-block"&gt;
$ find -cmin -5 -type f -exec rm -rf {} \;
&lt;/pre&gt;
&lt;p&gt;找出體積最大前十檔案/目錄:&lt;/p&gt;
&lt;pre class="literal-block"&gt;
$ du -a /home | sort -n -r | head -n 10
&lt;/pre&gt;
&lt;p&gt;via: &lt;a class="reference external" href="http://www.hkcode.com/linux-bsd-notes/693"&gt;Linux 下找出體積最大的檔案/目錄 – 網絡技術日誌&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;某目錄下的全部檔案的字串:&lt;/p&gt;
&lt;pre class="literal-block"&gt;
$ grep -rl flaskext . |xargs sed -i -e 's/flaskext/flask.ext/'

$ ls *.md | xargs sed -i -e 's/static\///' ## 把 所有的.md (markdown) 檔裡的 &amp;quot;static/&amp;quot; 去掉
&lt;/pre&gt;
&lt;p&gt;via: &lt;a class="reference external" href="http://www.commandlinefu.com/commands/view/4698/recursive-search-and-replace-old-with-new-string-inside-files"&gt;recursive search and replace old with new string, inside files | commandlinefu.com&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;列出各目錄大小(不顯示子目錄):&lt;/p&gt;
&lt;pre class="literal-block"&gt;
du -h | grep -v '[a-z]/.'
&lt;/pre&gt;
&lt;p&gt;coding convert:&lt;/p&gt;
&lt;pre class="literal-block"&gt;
# big5 to utf-8
$ iconv -f big5 -t utf-8 big5.txt -o utf8.txt

# 簡體轉繁體
$ cat test.txt | iconv -f gb2312 -t big5

# 繁體轉簡體
$ cat test.txt | iconv -f big5 -t gb2312

# Big5 編碼跟 UTF-8 編碼之間的轉換,如 UTF-8 轉 Big5
$ cat test.txt | iconv -f utf-8 -t big5
&lt;/pre&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="section" id="utils"&gt;
&lt;h2&gt;工具 utils&lt;/h2&gt;
&lt;p&gt;壓縮/解壓縮 compress/depress:&lt;/p&gt;
&lt;pre class="literal-block"&gt;
## tar
# compress (tar 打包, zip壓縮)
$ tar -zcvf foo.tgz foo
# decompress
$ tar -zxvf foo.tgz

$ tar -jcvf foo.tar.bz2 foo
$ tar -jxvf too.tar.bz2

## bzip2
$ bzip2 foo # 會把 foo 變成 foo.bz2
$ bzip2 -d foo.bz2 # 把 foo.bz2 變 foo
&lt;/pre&gt;
&lt;p&gt;bzip2 的壓縮率比較大, 運算時間長&lt;/p&gt;
&lt;div class="section" id="id4"&gt;
&lt;h3&gt;編輯&lt;/h3&gt;
&lt;ul class="simple"&gt;
&lt;li&gt;&lt;a class="reference external" href="http://coolshell.cn/articles/9070.html"&gt;AWK 简明教程 | 酷壳 - CoolShell.cn&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;vim硬是要存檔:&lt;/p&gt;
&lt;pre class="literal-block"&gt;
:w !sudo tee %
&lt;/pre&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="section" id="id5"&gt;
&lt;h2&gt;網路&lt;/h2&gt;
&lt;pre class="literal-block"&gt;
$ lsof # list open files
$ lsof -n # network files
$ lsof -i # monitors network connections in real time
$ iftop # shows bandwith usage per *connection*
$ nethogs #shows the bandwith usage per *process*

# iOS
$ sudo lsof -i -P
$ lsof -n -i4TCP:5000 | grep LISTEN # 找出port5000
&lt;/pre&gt;
&lt;p&gt;rsync:&lt;/p&gt;
&lt;pre class="literal-block"&gt;
$ rsync -av /etc /tmp () # 將 /etc/ 的資料備份到 /tmp/etc 內(local)
$ rsync -av -e ssh user&amp;#64;host:/etc /tmp 將遠端 /etc 備份到local主機的 /tmp 內
&lt;/pre&gt;
&lt;p&gt;dns:&lt;/p&gt;
&lt;pre class="literal-block"&gt;
dig foobar.com        # simple query
dig +trace foobar.com # detail
dig +short foobar.com # 不廢話
dig foobar.com mx
&lt;/pre&gt;
&lt;p&gt;&lt;em&gt;.&lt;/em&gt; 表示the root of the hierarchy&lt;/p&gt;
&lt;ul class="simple"&gt;
&lt;li&gt;&lt;a class="reference external" href="http://blog.longwin.com.tw/2010/02/netstat-check-connect-2010/"&gt;使用 netstat 找出不正常的連線 | Tsung's Blog&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;curl:&lt;/p&gt;
&lt;pre class="literal-block"&gt;
curl http://example.com
curl http://example -d&amp;quot;tag=foo&amp;amp;cat=bar&amp;quot; # 這個預設會送POST
curl http://example/edit -XPOST # http method
&lt;/pre&gt;
&lt;/div&gt;
&lt;div class="section" id="service"&gt;
&lt;h2&gt;Service&lt;/h2&gt;
&lt;p&gt;關掉uwsgi的process:&lt;/p&gt;
&lt;pre class="literal-block"&gt;
ps ca|grep uwsgi |awk '{ print $1}' | xargs --no-run-if-empty sudo kill -9
&lt;/pre&gt;
&lt;p&gt;快速靜態檔案server:&lt;/p&gt;
&lt;pre class="literal-block"&gt;
$ python -m SimpleHTTPServer 8080
&lt;/pre&gt;
&lt;div class="section" id="crontab"&gt;
&lt;h3&gt;Crontab&lt;/h3&gt;
&lt;p&gt;分鐘 小時 日期 月份 週&lt;/p&gt;
&lt;p&gt;每5min一次:&lt;/p&gt;
&lt;pre class="literal-block"&gt;
*/5 * * * * /home/moogoo/test.sh
5 0 * * *
&lt;/pre&gt;
&lt;p&gt;每小時:&lt;/p&gt;
&lt;pre class="literal-block"&gt;
01 * * * * /home/moogoo/test.sh
&lt;/pre&gt;
&lt;p&gt;每天(半夜):&lt;/p&gt;
&lt;pre class="literal-block"&gt;
0 0 * * *
&lt;/pre&gt;
&lt;p&gt;每週:&lt;/p&gt;
&lt;pre class="literal-block"&gt;
0 0 * * 0
&lt;/pre&gt;
&lt;p&gt;每月:&lt;/p&gt;
&lt;pre class="literal-block"&gt;
0 0 1 * *
&lt;/pre&gt;
&lt;p&gt;start:&lt;/p&gt;
&lt;pre class="literal-block"&gt;
service crond start
&lt;/pre&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="section" id="system"&gt;
&lt;h2&gt;System&lt;/h2&gt;
&lt;p&gt;語系:&lt;/p&gt;
&lt;pre class="literal-block"&gt;
$ locale -a # 目前系統支援語系
$ dpkg-reconfigure locales 安裝語系
&lt;/pre&gt;
&lt;/div&gt;
</summary><category term="docs"></category></entry><entry><title>GIT</title><link href="http://blog.suhen.org/computer/git.html" rel="alternate"></link><updated>2013-03-23T00:00:00+08:00</updated><author><name>moogoo</name></author><id>tag:blog.suhen.org,2013-03-23:computer/git.html</id><summary type="html">&lt;div class="section" id="quick-start"&gt;
&lt;h2&gt;Quick Start&lt;/h2&gt;
&lt;div class="section" id="init"&gt;
&lt;h3&gt;init&lt;/h3&gt;
&lt;p&gt;Server (Repository):&lt;/p&gt;
&lt;pre class="literal-block"&gt;
mkdir example.git
cd example.git
git --bare init # init加--bare, 表示只會在當下目錄放git的東西，不會有原始檔案, 如果要原始檔案再git clone出來就有了
&lt;/pre&gt;
&lt;p&gt;Client:&lt;/p&gt;
&lt;pre class="literal-block"&gt;
mkdir example
cd example
git init
touch README
git add README
git commit -m 'first commit'
git remote add origin ssh://USERNAME&amp;#64;REMOTE_SERVER/~/example.git
git push origin master (第一次之後只要打git push就可以了)
&lt;/pre&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="section" id="basic"&gt;
&lt;h2&gt;Basic&lt;/h2&gt;
&lt;p&gt;&lt;strong&gt;Tree Roles&lt;/strong&gt;&lt;/p&gt;
&lt;table class="docutils field-list" frame="void" rules="none"&gt;
&lt;col class="field-name" /&gt;
&lt;col class="field-body" /&gt;
&lt;tbody valign="top"&gt;
&lt;tr class="field"&gt;&lt;th class="field-name"&gt;HEAD:&lt;/th&gt;&lt;td class="field-body"&gt;最後一次的commit (Repo)&lt;/td&gt;
&lt;/tr&gt;
&lt;tr class="field"&gt;&lt;th class="field-name"&gt;Index:&lt;/th&gt;&lt;td class="field-body"&gt;目前要commit的 (Staging)&lt;/td&gt;
&lt;/tr&gt;
&lt;tr class="field"&gt;&lt;th class="field-name"&gt;Working Dir:&lt;/th&gt;&lt;td class="field-body"&gt;目前修改工作區&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;/div&gt;
&lt;div class="section" id="git-command"&gt;
&lt;h2&gt;git command&lt;/h2&gt;
&lt;div class="section" id="git-clone-add"&gt;
&lt;h3&gt;git clone / add&lt;/h3&gt;
&lt;p&gt;git clone:&lt;/p&gt;
&lt;pre class="literal-block"&gt;
git clone file:////home/somebody/repo/foo.git
git clone ssh://host/~/repo/foo.git
    git clone --bare /path/to/repo # 把原本的repo轉成bare出來
&lt;/pre&gt;
&lt;div class="note"&gt;
&lt;p class="first admonition-title"&gt;Note&lt;/p&gt;
&lt;p class="last"&gt;git pull origin master相當於git fetch和git merge origin/master&lt;/p&gt;
&lt;/div&gt;
&lt;p&gt;git add:&lt;/p&gt;
&lt;pre class="literal-block"&gt;
git add .
git add -a
git add foo
git add -u # 只加修改過的檔案, 新增的檔案不加入.
git add -i # 進入互動模式
&lt;/pre&gt;
&lt;p&gt;git rm/mv:&lt;/p&gt;
&lt;pre class="literal-block"&gt;
git rm foo
git mv foo bar

git rm --cached # 從版本控管裡那掉，保留原檔
&lt;/pre&gt;
&lt;/div&gt;
&lt;div class="section" id="git-reset-revert"&gt;
&lt;h3&gt;git reset / revert&lt;/h3&gt;
&lt;p&gt;reset: 移動HEAD, 更改SHA referenct(git記錄), 檔案還是目前最新的狀態
還沒commit&lt;/p&gt;
&lt;p&gt;revert: rollback, 並且會有一個新的commit(不像reset是回到某個commit)&lt;/p&gt;
&lt;p&gt;&lt;a class="reference external" href="http://progit.org/2011/07/11/reset.html"&gt;Pro Git - Reset Demystified&lt;/a&gt;
git reset:&lt;/p&gt;
&lt;pre class="literal-block"&gt;
git reset --soft HEAD~ # HEAD指回the parent of HEAD, Index和Working Directory都不動(因為soft嘛)
# 改一改再commit一次, 就是git commit --amend在做的事情一樣
(修改放到staging area?)
git reset [--mixed] HEAD~ # update Staging Area, 沒有打參數預設就是這個 (把stage的檔案給unstage?)
git reset --hard HEAD~ # 完全清除, reset the working tree to the last commit
#會改到檔案要注意
&lt;/pre&gt;
&lt;p&gt;Tips: 如果反悔可以用git reflog叫出來, 再reset回來&lt;/p&gt;
&lt;p&gt;commit後要回來
git revert (還原commit記錄) # revert是新增一個commit來做還原&lt;/p&gt;
&lt;div class="note"&gt;
&lt;p class="first admonition-title"&gt;Note&lt;/p&gt;
&lt;p class="last"&gt;push後就不能reset了, 如果已經push後就要用revert&lt;/p&gt;
&lt;/div&gt;
&lt;p&gt;git revert:&lt;/p&gt;
&lt;pre class="literal-block"&gt;
git revert HEAD # 回上一次commit, 並產生一個新的commit log
This will create a new commit which undoes the change in HEAD
git revert HEAD^ # 回上上一次commit
git revert [SHA] # 回到此commit **之前**\的狀態, 也是產生一個新的commit log
&lt;/pre&gt;
&lt;/div&gt;
&lt;div class="section" id="git-log"&gt;
&lt;h3&gt;git log&lt;/h3&gt;
&lt;p&gt;git log:&lt;/p&gt;
&lt;pre class="literal-block"&gt;
git log --stat
git log --stat --summary # 查每個版本間的更動檔案和行數
git log --pretty=format:'%h : %s' --date-order --graph # 依照時間排序
git log --since=&amp;quot;1 day ago&amp;quot; # 今天的
git log --pretty=format:&amp;quot;%h was %an, %ar, message: %s&amp;quot; (--graph)
git log --all # 秀出所有的 log (含 branch)
git log -p # 將所有 log 和修改過得檔案內容列出
git log -S'foo()' # log 裡面有 foo() 這字串的.
git log --pretty=oneline # 秀 log 的方式
git log --pretty=short # 秀 log 的方式
git log --pretty=format:'%h was %an, %ar, message: %s'
git log --pretty=format:'%h : %s' --graph # 會有簡單的文字圖形化, 分支等.
git log --pretty=format:'%h : %s' --topo-order --graph # 依照主分支排序
git log --pretty=format:'%h : %s' --date-order --graph # 依照時間排序
&lt;/pre&gt;
&lt;/div&gt;
&lt;div class="section" id="git-commit-checkout-stash"&gt;
&lt;h3&gt;git commit / checkout / stash&lt;/h3&gt;
&lt;p&gt;git commit:&lt;/p&gt;
&lt;pre class="literal-block"&gt;
git commit -m 'foo message'
git commit --dry-run # 假commit
git commit --no-verify # 不檢查每行程式碼最後是否有空白或tab
git commit --amend -m 'edited message' # 改最後一次commit的的message
# 通常出現錯誤&amp;quot;You have some suspicious patch lines&amp;quot;時用
&lt;/pre&gt;
&lt;p&gt;git checkout:&lt;/p&gt;
&lt;pre class="literal-block"&gt;
git checkout branch # 切換 branch
git checkout filename # 從local repo抓回
git checkout HEAD .  TODO
git checkout xxxx . # 將所有檔案都 checkout 出來(xxxx commit 的版本, xxxx 是 commit 的編號前四碼), 注意, 若有修改的檔案都會被還原到上一版. TODO
&lt;/pre&gt;
&lt;p&gt;git stash:&lt;/p&gt;
&lt;pre class="literal-block"&gt;
git stash #  丟進暫存區
git stash list # 列出所有暫存區的資料
git stash pop # 取出最新的一筆, 並移除.
git stash apply # 取出最新的一筆 stash 暫存資料. 但是 stash 資料不移除
git stash clear # 把 stash 都清掉
&lt;/pre&gt;
&lt;/div&gt;
&lt;div class="section" id="git-branch-merge"&gt;
&lt;h3&gt;git branch / merge&lt;/h3&gt;
&lt;p&gt;git branch:&lt;/p&gt;
&lt;pre class="literal-block"&gt;
git branch # 看目前的branch
git branch abcd # 開一個名為abcd的新branch
git branch -d abcd # 刪除abcd
git checkout abcd, 移到abcd
git branch abcd # 開新branch, 但不移駕
git co -b abcd 開新branch, 而且移駕到新開的branch
git branch -m old new # rename branch
&lt;/pre&gt;
&lt;p&gt;git merge:&lt;/p&gt;
&lt;pre class="literal-block"&gt;
git mergetool kdiff3
git merge --abort, 不要merge了
&lt;/pre&gt;
&lt;p&gt;git分master跟branchA, 在master下 &lt;strong&gt;$ git merge branchA&lt;/strong&gt; 會把branchA更改過的merge到master裡, 反之, 在branchA下 &lt;strong&gt;$ git merge master&lt;/strong&gt; 會把master更新的家到branchA, branchA改過的不會影響master&lt;/p&gt;
&lt;/div&gt;
&lt;div class="section" id="git-tag"&gt;
&lt;h3&gt;git tag&lt;/h3&gt;
&lt;p&gt;加tag:&lt;/p&gt;
&lt;pre class="literal-block"&gt;
git tag -a v0.2 -m &amp;quot;this is version 0.2&amp;quot;
git tag -a v0.1.1 #abc123 為某版本加tag
&lt;/pre&gt;
&lt;dl class="docutils"&gt;
&lt;dt&gt;看此tag的log::&lt;/dt&gt;
&lt;dd&gt;git show v0.1.2&lt;/dd&gt;
&lt;/dl&gt;
&lt;p&gt;刪除:&lt;/p&gt;
&lt;pre class="literal-block"&gt;
git tag -d v0.1.2
&lt;/pre&gt;
&lt;/div&gt;
&lt;div class="section" id="other"&gt;
&lt;h3&gt;other&lt;/h3&gt;
&lt;p&gt;git reflog&lt;/p&gt;
&lt;pre class="literal-block"&gt;
把之前的記錄都叫出來, 包括被git reset掉的, 如果時間久的話會被git洗掉
然後再$ git reset --hard HASH 就回去了
&lt;/pre&gt;
&lt;p&gt;&lt;a class="reference external" href="http://stackoverflow.com/questions/5473/undoing-a-git-reset-hard-head1"&gt;version control - Undoing a git reset --hard HEAD~1 - Stack Overflow&lt;/a&gt;&lt;/p&gt;
&lt;/div&gt;
&lt;div class="section" id="undo"&gt;
&lt;h3&gt;undo&lt;/h3&gt;
&lt;p&gt;1. 還沒commit
a) git reset --hard HEAD
b) git checkout HEAD hello.rb
2. commit後發現錯誤
a) git revert HEAD # 回上個commit, 並建立一新commit
b) git revert HEAD^ # 回上上個commit, 並建立一新commit
3.
git commit --amend&lt;/p&gt;
&lt;p&gt;&lt;a class="reference external" href="http://book.git-scm.com/4_undoing_in_git_-_reset,_checkout_and_revert.html"&gt;Git Book - Undoing in Git - Reset, Checkout and Revert&lt;/a&gt;&lt;/p&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="section" id="tips"&gt;
&lt;h2&gt;Tips&lt;/h2&gt;
&lt;div class="section" id="git-clonebranch"&gt;
&lt;h3&gt;git clone某一個branch&lt;/h3&gt;
&lt;p&gt;以github的Flask當例子，要抓Flask的website branch&lt;/p&gt;
&lt;p&gt;先git clone一份Flask，看所有的branch:&lt;/p&gt;
&lt;pre class="literal-block"&gt;
git branch -a
&lt;/pre&gt;
&lt;p&gt;可看到除了master外有一個remotes/origin/website，然後做一個叫website的branch:&lt;/p&gt;
&lt;pre class="literal-block"&gt;
git checkout -b website remotes/origin/website
&lt;/pre&gt;
&lt;p&gt;就會抓回到website這個branch，或是要直接拉下來看:&lt;/p&gt;
&lt;pre class="literal-block"&gt;
git checkout remotes/origin/experimental
&lt;/pre&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="section" id="id1"&gt;
&lt;h2&gt;other&lt;/h2&gt;
&lt;ul class="simple"&gt;
&lt;li&gt;&lt;a class="reference external" href="http://www.slideshare.net/littlebtc/git-5528339"&gt;寫給大家的 Git 教學&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a class="reference external" href="http://nvie.com/posts/a-successful-git-branching-model/"&gt;A successful Git branching model » nvie.com&lt;/a&gt; git開發web方法&lt;/li&gt;
&lt;li&gt;&lt;a class="reference external" href="https://github.com/github/gitignore"&gt;github/gitignore at master - GitHub&lt;/a&gt; gitignore大全&lt;/li&gt;
&lt;li&gt;&lt;a class="reference external" href="http://gitready.com/"&gt;git ready » learn git one commit at a time&lt;/a&gt; git教學文(因材施教)&lt;/li&gt;
&lt;li&gt;&lt;a class="reference external" href="http://whygitisbetterthanx.com/"&gt;Why Git is Better Than X&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a class="reference external" href="http://www-cs-students.stanford.edu/~blynn/gitmagic/"&gt;Git Magic - Preface&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a class="reference external" href="http://ihower.tw/blog/archives/6696/?utm_source=feedburner&amp;amp;utm_medium=feed&amp;amp;utm_campaign=Feed:+ihower+({|ihower.tw|+blog+})&amp;amp;utm_content=Google+Reader"&gt;Git 教育訓練課程投影片 (2012) | ihower { blogging }&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/div&gt;
&lt;div class="section" id="setting"&gt;
&lt;h2&gt;setting&lt;/h2&gt;
&lt;p&gt;Git 2.0 的push.default把預設的設定從 &lt;cite&gt;matching&lt;/cite&gt; 改稱 &lt;cite&gt;simple&lt;/cite&gt;, matching: 預設把目前全部branch push上去, simple只會push目前所在的branch:&lt;/p&gt;
&lt;pre class="literal-block"&gt;
git config --global push.default [matching|simple...]
&lt;/pre&gt;
&lt;p&gt;&lt;a class="reference external" href="http://git-scm.com/docs/git-config.html"&gt;git-config&lt;/a&gt;&lt;/p&gt;
&lt;/div&gt;
</summary><category term="docs"></category></entry><entry><title>Dynamic DNS setting for Namecheap on Mac OSX</title><link href="http://blog.suhen.org/computer/dynamic-dns-setting-for-namecheap-on-mac-osx.html" rel="alternate"></link><updated>2013-03-21T02:09:00+08:00</updated><author><name>moogoo</name></author><id>tag:blog.suhen.org,2013-03-21:computer/dynamic-dns-setting-for-namecheap-on-mac-osx.html</id><summary type="html">&lt;p&gt;登入Namecheap啓用Dynamic &lt;a class="reference external" href="https://www.namecheap.com/support/knowledgebase/article.aspx/551/51/how-to-setup-dynamic-dns-when-i-use-free-dns-service"&gt;link1&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;設定DNS record:&lt;/p&gt;
&lt;pre class="literal-block"&gt;
freedns1.registrar-servers.com
freedns2.registrar-servers.com
freedns3.registrar-servers.com
freedns4.registrar-servers.com
freedns5.registrar-servers.com
&lt;/pre&gt;
&lt;p&gt;&lt;a class="reference external" href="https://www.namecheap.com/support/knowledgebase/article.aspx/532/51/how-does-free-dns-work"&gt;link2&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;安裝Dynamic DNS clinet (以OS X的ddclient為例):&lt;/p&gt;
&lt;pre class="literal-block"&gt;
$ brew install ddclient
&lt;/pre&gt;
&lt;p&gt;在/usr/local/etc/ddclient裡建立ddclient.conf (範例在/usr/local/share/doc/ddclient), 裡面有namecheap的預設選項:&lt;/p&gt;
&lt;pre class="literal-block"&gt;
protocol=namecheap
server=dynamicdns.park-your-domain.com
login=yourdomain.com
password=1b9aafgfgjh1865e024fabb629dbd1d9c462
&amp;#64;
&lt;/pre&gt;
&lt;p&gt;Install the launchd item in /Library/LaunchDaemons, like so:&lt;/p&gt;
&lt;blockquote&gt;
$ sudo cp -vf /usr/local/Cellar/ddclient/3.8.1/homebrew.mxcl.ddclient.plist /Library/LaunchDaemons/
$ sudo chown -v root:wheel /Library/LaunchDaemons/homebrew.mxcl.ddclient.plist&lt;/blockquote&gt;
&lt;p&gt;Start the daemon using:&lt;/p&gt;
&lt;blockquote&gt;
sudo launchctl load /Library/LaunchDaemons/homebrew.mxcl.ddclient.plist&lt;/blockquote&gt;
&lt;p&gt;The next reboot of the system will automatically start ddclient.&lt;/p&gt;
&lt;p&gt;You can adjust the execution interval by changing the value of
StartInterval (in seconds) in /Library/LaunchDaemons/homebrew.mxcl.ddclient.plist,
and then&lt;/p&gt;
&lt;blockquote&gt;
sudo launchctl unload /Library/LaunchDaemons/homebrew.mxcl.ddclient.plist
sudo launchctl load /Library/LaunchDaemons/homebrew.mxcl.ddclient.plist&lt;/blockquote&gt;
</summary><category term="note"></category></entry></feed>